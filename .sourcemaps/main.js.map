{"version":3,"sources":["../../src/pages/credit-reminder/credit-reminder.ts","../../src/providers/printer/printer.ts","../../src/pages/login/login.ts","../../src/pages/transaction-product/transaction-product.ts","../../src/pages/singleproduct/singleproduct.ts","../../src/pages/addproduct/addproduct.ts","../../src/pages/add-prod-signup/add-prod-signup.ts","../../src/providers/storage/storage.ts","../../src/providers/translation/translate-config.service.ts","../../src/providers/geolocation/geolocation.service.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/add-product-category/add-product-category.module.ts","../../src/utilities/initializeFirebase.ts","../../src/pages/contacts/contacts.module.ts","../../src/pages/credit-reminder/credit-reminder.module.ts","../../src/providers/printer/printer-commands.ts","../../src/pages/login/login.module.ts","../../src/pages/transaction-home/transaction-home.module.ts","../../src/pages/transaction-product/transaction-product.module.ts","../../src/pages/user-data/user-data.module.ts","../../src/pages/user-data/user-data.ts","../../src/pages/individual-contact/individual-contact.module.ts","../../src/pages/transaction-home/transaction-home.ts","../../src/providers/firebase-cloud-messaging/fcm.service.ts","../../src/pages/contact-us/contact-us.ts","../../src/pages/all-transaction/all-transaction.ts","../../src/providers/gettersetter/gettersetter.ts","../../src/pages/income-transaction/income-transaction.ts","../../src/pages/summary-graphs/summary-graphs.ts","../../src/pages/business-card/business-card.ts","../../src/pages/user-profile/user-profile.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../node_modules/moment/locale ^/.*$","../../src/providers/storage/utilities/firestore.ts","../../src/providers/storage/utilities/backupStorage.ts","../../streams (ignored)","../../extend-node (ignored)","../../src/utilities/createAccountDocument.ts","../../src/app/app.component.ts","../../src/pages/addproduct/addproduct.module.ts","../../src/pages/singleproduct/singleproduct.module.ts","../../src/pages/add-prod-signup/add-prod-signup.module.ts","../../src/pages/contacts/contacts.ts","../../src/utilities/hasInternet.ts","../../src/pages/individual-contact/individual-contact.ts","../../src/pages/add-product-category/add-product-category.ts"],"names":[],"mappings":"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AsB;gBACtB,wFAAe;gBACf,oFAAe;gBACf,+EAAW;gBACX,uGAAkB;gBAClB,oGAAU;gBACV,8EAAU;gBACV,qEAAM;gBACN,8EAAU;gBACV,oFAAa;gBACb,oFAAa;gBACb,yFAAe;gBACf,OAAO;gBACP,kFAAY;gBACZ,yEAAQ;gBACR,yEAAQ;gBACR,8FAAkB;gBAClB,+DAAG;aACJ;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;AC5JtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9QgC;AACJ;AACO;AACnC,IAAO,SAAS,GAAG,gDAAQ,CAAC,SAAS,CAAC,SAAS,CAAC;AAEa;AAOtD,IAAM,SAAS,GAAG;;;;oBACjB,qBAAM,mFAAW,EAAE;;gBAAzB,IAAI,CAAC,CAAC,SAAmB,CAAC;oBAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;gBAChE,EAAE,GAAG,gDAAQ,CAAC,SAAS,EAAE,CAAC;gBACX,qBAAM,EAAE;yBAC1B,UAAU,CAAC,OAAO,CAAC;yBACnB,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,gDAAQ,CAAC,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC;yBACrD,GAAG,EAAE;;gBAHF,YAAY,GAAG,SAGb;gBACF,OAAO,GAAG,EAAE,CAAC;gBACnB,YAAY,CAAC,OAAO,CAAC,aAAG;oBACtB,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;oBACxB,sBAAsB,CAAC,IAAI,CAAC,CAAC;oBAC7B,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,IAAI,QAAE,CAAC,CAAC;gBACrC,CAAC,CAAC,CAAC;gBACH,sBAAO,OAAO,CAAC,CAAC,CAAC,EAAC;;;KACnB,CAAC;AAEK,IAAM,eAAe,GAAG,UAAO,IAAY,EAAE,OAA+B;;;;oBAC3E,qBAAM,mFAAW,EAAE;;gBAAzB,IAAI,CAAC,CAAC,SAAmB,CAAC;oBAAE,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;gBAChE,EAAE,GAAG,gDAAQ,CAAC,SAAS,EAAE,CAAC;gBAC1B,cAAc,GAAG,EAAE,UAAU,EAAE,IAAI,IAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC;gBACpE,UAAU,yBAAU,cAAc,GAAK,OAAO,YAApC,CAAuC;gBAErD,SAAS,GAA6B,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC9D,IAAI,UAAU;oBAAE,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACxF,qBAAM,SAAS,CAAC,GAAG,EAAE;;gBAAhC,QAAQ,GAAG,SAAqB;gBAEhC,OAAO,GAAG,EAAE,CAAC;gBACnB,QAAQ,CAAC,OAAO,CAAC,aAAG;oBAClB,IAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;oBAC5B,sBAAsB,CAAC,QAAQ,CAAC,CAAC;oBACjC,OAAO,CAAC,IAAI,YAAG,EAAE,EAAE,GAAG,CAAC,EAAE,IAAK,QAAQ,EAAG,CAAC;gBAC5C,CAAC,CAAC,CAAC;gBACH,sBAAO,OAAO,EAAC;;;KAChB,CAAC;AAEK,IAAM,sBAAsB,GAAG,UAAC,QAAQ;IAC7C,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;QAChC,KAA2B,UAAwB,EAAxB,WAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;YAA1C,eAAY,EAAX,WAAG,EAAE,aAAK;YACpB,aAAa;YACb,IAAI,KAAK,CAAC,OAAO;gBACf,aAAa;gBACb,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC;SAC5E;KACF;IACD,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC;AAEK,IAAM,sBAAsB,GAAG,UAAC,QAAQ;IAC7C,IAAI,OAAO,QAAQ,KAAK,QAAQ;QAC9B,KAA2B,UAAwB,EAAxB,WAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;YAA1C,eAAY,EAAX,WAAG,EAAE,aAAK;YACpB,aAAa;YACb,IACE,CAAC,KAAK,YAAY,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;gBAC3E,8CAAM,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,8CAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,EAClD;gBACA,aAAa;gBACb,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;aACjC;SACF;AACL,CAAC,CAAC;AAEK,IAAM,+BAA+B,GAAG,UAC7C,CAAc,EACd,IAAY,EACZ,SAAqB;;;;;gBAEf,EAAE,GAAG,gDAAQ,CAAC,SAAS,EAAE,CAAC;sBACA,EAAT,uBAAS;;;qBAAT,wBAAS;gBAA3B;gBAEG,QAAQ,GAAG,yDAAS,CAAC,UAAQ,CAAC,CAAC;gBACrC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,CAAC,0HAA0H;gBAExJ,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC;gBACjB,SAAS,UAAC;gBACd,IAAI,EAAE;oBAAE,SAAS,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;qBAC3C;oBACH,SAAS,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;oBACtC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;iBACnB;gBAED,2CAA2C;gBAC3C,UAAQ,CAAC,EAAE,GAAG,EAAE,CAAC;gBAEjB,qBAAM,CAAC,CAAC,GAAG,CAAC,SAAS,wBAAO,QAAQ,KAAE,EAAE,SAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;;gBAA5D,SAA4D,CAAC;;;gBAhBxC,IAAS;;;;;KAkBjC,CAAC;;;;;;;;;ACjGF;AAAA;AAAA;AAAA;AAA4B;AAcrB,IAAM,aAAa,GAAG,UAAC,UAAsB;IAC1C,sCAAU,EAAE,gCAAS,EAAE,8BAAQ,EAAE,0BAAM,CAAgB;IAC/D,SAAS,CAAC,OAAO,CAAC,kBAAQ;QACxB,IAAM,KAAK,GAAG,UAAU,CAAC,SAAS,CAAC,mBAAS,IAAI,gBAAS,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,EAA5B,CAA4B,CAAC,CAAC;QAC9E,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1B,IAAI,QAAQ;gBAAE,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;SAC1C;aAAM;YACL,IAAM,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;YACpC,IAAI,QAAQ,CAAC,SAAS,EAAE;gBACtB,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,8CAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC;oBACvF,UAAU,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC;aAChC;SACF;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,mBAAmB,GAAG,UAAC,WAAW,EAAE,MAAM;IACrD,iCAAiC;IACjC,IAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IAC5C,MAAM,CAAC,YAAY,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAEjD,sCAAsC;IACtC,IAAM,WAAW,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC;IACvE,WAAW,CAAC,OAAO,CAAC,iBAAO;QACzB,IAAM,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI,EAA1B,CAA0B,CAAC,CAAC;QAChF,IAAI,CAAC,cAAc;YAAE,OAAO;QAC5B,IAAI,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACnC,IAAM,YAAY,GAAG,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE;YAC5C,QAAQ,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC;YACjD,cAAc,CAAC,SAAS,GAAG,YAAY,GAAG,QAAQ,CAAC;YACnD,cAAc,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;YACtC,OAAO,CAAC,GAAG,CAAC,4BAA0B,cAAc,CAAC,IAAI,mCAA8B,QAAU,CAAC,CAAC;SACpG;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;;;;;;;;AClDF,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAgC;AACJ;AAC5B,IAAM,SAAS,GAAG,gDAAQ,CAAC,SAAS,CAAC,SAAS,CAAC;AAE/C,IAAM,WAAW,GAAG;IAClB,OAAO,EAAE,gDAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,EAAE;IACxD,KAAK,EAAE,EAAE;IACT,UAAU,EAAE,EAAE;IACd,QAAQ,EAAE,CAAC;IACX,aAAa,EAAE,EAAE;IACjB,YAAY,EAAE,EAAE;IAChB,gBAAgB,EAAE,EAAE;IACpB,KAAK,EAAE,mBAAmB;IAC1B,KAAK,EAAE,EAAE;IACT,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,KAAK;IACf,YAAY,EAAE,CAAC;IACf,QAAQ,EAAE,CAAC;IACX,OAAO,EAAE,CAAC;IACV,QAAQ,EACN,yNAAyN;IAC3N,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,8CAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,IAAI,EAAE,EAAE,CAAC;CACvE,CAAC;AAEF,IAAM,cAAc,GAAG;IACrB;QACE,EAAE,EAAE,UAAU;QACd,SAAS,EAAE;YACT;gBACE,GAAG,EAAE,SAAS;gBACd,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,iBAAiB;gBACvB,KAAK,EAAE,GAAG;gBACV,SAAS,EAAE,IAAI;gBACf,GAAG,EAAE,8EAA8E;gBACnF,eAAe,EAAE,GAAG;gBACpB,SAAS,EAAE,SAAS,CAAC,GAAG,EAAE;aAC3B;SACF;KACF;IACD;QACE,EAAE,EAAE,cAAc;QAClB,SAAS,EAAE;YACT;gBACE,QAAQ,EAAE,IAAI,IAAI,EAAE;gBACpB,QAAQ,EAAE,CAAC;gBACX,YAAY,EAAE,EAAE;gBAChB,SAAS,EAAE;oBACT;wBACE,GAAG,EAAE,SAAS;wBACd,IAAI,EAAE,MAAM;wBACZ,IAAI,EAAE,GAAG;wBACT,IAAI,EAAE,iBAAiB;wBACvB,KAAK,EAAE,GAAG;wBACV,SAAS,EAAE,GAAG;wBACd,GAAG,EAAE,CAAC;wBACN,QAAQ,EAAE,CAAC;qBACZ;iBACF;gBACD,OAAO,EAAE,EAAE;gBACX,UAAU,EAAE,EAAE;gBACd,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;gBACZ,SAAS,EAAE,CAAC;gBACZ,QAAQ,EAAE,CAAC;gBACX,SAAS,EAAE,SAAS,CAAC,GAAG,EAAE;aAC3B;SACF;KACF;CACF,CAAC;AAEK,IAAM,qBAAqB,GAAG,UAAM,IAAI;;;;;gBACvC,EAAE,GAAG,gDAAQ,CAAC,SAAS,EAAE,CAAC;gBAEhB,qBAAM,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,uBAC3C,WAAW,GACX,IAAI,EACP;;gBAHI,OAAO,GAAG,SAGd;gBACI,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC;gBACpB,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC;gBACzB,cAAc,CAAC,OAAO,CAAC,oBAAU;oBAC/B,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAQ;wBACnC,IAAM,iBAAiB,GAAG,EAAE,CAAC,UAAU,CAAC,YAAU,MAAM,SAAI,UAAU,CAAC,EAAI,CAAC,CAAC,GAAG,EAAE,CAAC;wBACnF,IAAM,EAAE,GAAG,iBAAiB,CAAC,EAAE,CAAC;wBAChC,KAAK,CAAC,GAAG,CAAC,iBAAiB,wBAAO,QAAQ,KAAE,EAAE,QAAG,CAAC;oBACpD,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,qBAAM,KAAK,CAAC,MAAM,EAAE;;gBAApB,SAAoB,CAAC;;;;KACtB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzFmD;AACgC;AAChC;AACM;AAEV;AAEZ;AAC4C;AAClB;AACH;AAC+B;AACpC;AACwB;AACxB;AACc;AAKrE;IAWE,eACS,GAAQ,EACR,QAAkB,EAClB,SAAoB,EACnB,gBAAkC,EAClC,sBAA8C,EAC/C,YAA0B,EAC1B,SAA0B,EAC1B,SAA0B,EAC1B,EAAmB,EAClB,GAAe;QAVzB,iBAuBC;QAtBQ,QAAG,GAAH,GAAG,CAAK;QACR,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAW;QACnB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC/C,iBAAY,GAAZ,YAAY,CAAc;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,OAAE,GAAF,EAAE,CAAiB;QAClB,QAAG,GAAH,GAAG,CAAY;QAbzB,UAAK,GAA6C,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,qGAAmB,EAAE,CAAC,CAAC;QAepG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,cAAI;YAC5B,IAAI,IAAI,IAAI,IAAI,EAAE;gBAChB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;iBAAM;gBACL,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAC/B,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;aAChC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAe,GAAf;QAAA,iBAmBC;QAlBC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS,CAAC;;gBACjC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACnB,SAAiB,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;;;aACxC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC;YACrC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;QAC9D,SAAS,aAAa;YACpB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,2CAA2C;YAC3C,6BAA6B;YAC7B,kBAAkB;YAClB,0BAA0B;YAC1B,MAAM;QACR,CAAC;IACH,CAAC;IAEK,sBAAM,GAAZ;;;;;4BAEM,qBAAM,oFAAW,EAAE;;wBADvB,uCAAuC;wBACvC,IAAI,SAAmB;4BACrB,8CACO,EAAE;iCACN,OAAO,EAAE;iCACT,IAAI,CAAC;gCACJ,KAAI,CAAC,SAAS;qCACX,MAAM,CAAC;oCACN,OAAO,EAAE,aAAa;oCACtB,QAAQ,EAAE,IAAI;iCACf,CAAC;qCACD,OAAO,EAAE,CAAC;gCACb,KAAI,CAAC,GAAG,CAAC,OAAO,CAAC,qEAAS,CAAC,CAAC;4BAC9B,CAAC,CAAC,CAAC;6BACF;4BACH,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;yBACnD;;;;;KACF;IAID,+BAAe,GAAf,cAAmB,CAAC;IAEpB,6BAAa,GAAb;QAAA,iBAgCC;QA/BC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;;;;4BAED,qBAAM,kGAAkB,EAAE;;wBAA5C,eAAe,GAAG,SAA0B;wBAClD,IAAI,CAAC,eAAe;4BAAE,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;wBAEjD,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;wBAC9B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;wBAEzB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;wBAC7C,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBAC3C,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAMd,qBAAM,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE;;wBAAnC,SAAS,GAAG,SAAuB;6BACrC,EAAC,eAAe,IAAI,CAAC,SAAS,GAA9B,wBAA8B;wBAChC,OAAO,CAAC,GAAG,CAAC,uDAAuD,CAAC,CAAC;wBAE/D,UAAQ,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAClC,KAAK,EAAE,gCAAgC;4BACvC,QAAQ,EAAE,uDAAuD;yBAClE,CAAC,CAAC;wBACH,qBAAM,OAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;wBAEtB,sBAAO;;wBAET,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,qGAAmB,CAAC,CAAC,CAAC,qEAAS,CAAC;;;;aAE7D,CAAC,CAAC;IACL,CAAC;IAED,wBAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,mCAAmB,GAAnB;QACE,IAAI,CAAC,QAAQ,CAAC,EAAE,SAAS,EAAE,gFAAY,EAAE,CAAC,CAAC;IAC7C,CAAC;IAGD,4BAAY,GAAZ;QACE,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,qGAAmB,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjE,CAAC;IACK,2BAAW,GAAjB;;;;gBACE,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;oBAC1B,KAAI,CAAC,EAAE;yBACJ,UAAU,EAAE;yBACZ,IAAI,CAAC,aAAG;wBACP,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAChC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;wBAC3B,KAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC;wBACvC,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;4BAC1B,KAAI,CAAC,EAAE,CAAC,UAAU,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;gCACrC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;gCAC3B,mBAAmB;4BACrB,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC;yBACD,KAAK,CAAC,aAAG;wBACR,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC,CAAC;oBACzB,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;;;;KACJ;IApJe;QAAf,yEAAS,CAAC,0DAAG,CAAC;kCAAM,0DAAG;sCAAC;IADd,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;4EAaiB;YACE,2EAAQ;YACP,8EAAS;YACD,+GAAgB;YACV,kFAAsB;YACjC,sEAAY;YACf,sEAAe;YACf,mFAAe;YACtB,sGAAe;YACb,EAAU;OArBd,KAAK,CAsJjB;IAAD,CAAC;AAAA;SAtJY,KAAK,2B;;;;;;;;;;;;;;;;;;;ACpBuB;AACO;AACF;AACQ;AAOtD;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QALhC,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,mEAAc,CAAC;YAC9B,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,mEAAc,CAAC,EAAE,4EAAe,CAAC,QAAQ,EAAE,CAAC;YAC/E,OAAO,EAAE,CAAC,mEAAc,CAAC;SAC1B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;ACVQ;AACO;AACI;AACE;AAOtD;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QALnC,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,yEAAiB,CAAC;YACjC,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,yEAAiB,CAAC,EAAE,4EAAe,CAAC,QAAQ,EAAE,CAAC;YAClF,OAAO,EAAE,CAAC,yEAAiB,CAAC;SAC7B,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;ACVK;AACO;AACM;AACA;AAOtD;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QALnC,uEAAQ,CAAC;YACR,YAAY,EAAE,CAAC,2EAAiB,CAAC;YACjC,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,2EAAiB,CAAC,EAAE,4EAAe,CAAC,QAAQ,EAAE,CAAC;YAClF,OAAO,EAAE,CAAC,2EAAiB,CAAC;SAC7B,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACVc;AACwF;AACxF;AACgB;AACe;AAEa;AACtB;AAExE;;;;;GAKG;AAOH;IACE,sBACS,OAAsB,EACtB,SAAoB,EACnB,QAAkB,EAClB,eAAgC,EAChC,EAAmB,EACnB,SAA0B,EAC1B,SAA0B,EAC1B,sBAA8C,EAC9C,IAAY,EACZ,IAAoB;QATrB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACnB,aAAQ,GAAR,QAAQ,CAAU;QAClB,oBAAe,GAAf,eAAe,CAAiB;QAChC,OAAE,GAAF,EAAE,CAAiB;QACnB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,SAAI,GAAJ,IAAI,CAAQ;QACZ,SAAI,GAAJ,IAAI,CAAgB;QAyC9B,gBAAW,GAAG,EAAE,CAAC;QACjB,eAAU,GAAG,EAAE,CAAC;IAzCb,CAAC;IAIJ,qCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC3C,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,IAAI,IAAI,IAAI,EAAE;YAChB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC7B;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;SAC9B;IACH,CAAC;IAED,8BAAO,GAAP;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACtB,CAAC;IAID,sCAAe,GAAf;QAAA,iBAiBC;QAhBC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC3C,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,aAAG;YAC5B,IAAI,GAAG,IAAI,IAAI,EAAE;gBACf,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;aACvB;YACD,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACZ,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACnC,KAAI,CAAC,eAAe,GAAG,CAAC,CAAC;gBACzB,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACxB,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAO;oBAC9B,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC;wBAAE,KAAI,CAAC,cAAc,IAAI,OAAO,CAAC,OAAO,CAAC;oBAChE,IAAI,OAAO,CAAC,OAAO,GAAG,CAAC;wBAAE,KAAI,CAAC,eAAe,IAAI,OAAO,CAAC,OAAO,CAAC;gBACnE,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,WAAW,CAAC;YACvC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAMD,sCAAe,GAAf,UAAgB,OAAO;QACrB,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAM,QAAQ,GAAG;gBACf,IAAI,EAAE,OAAO,CAAC,WAAW;gBACzB,QAAQ,EAAE,OAAO,CAAC,QAAQ;aAC3B,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC5B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,OAAO;SACR;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qGAAqB,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IAC9D,CAAC;IAED,6BAAM,GAAN,UAAO,GAAW,EAAE,GAAiB;QAArC,iBAsHC;QArHC,GAAG,CAAC,KAAK,EAAE,CAAC;QACZ,IAAI,GAAG,IAAI,CAAC,EAAE;YACZ,4DAA4D;YAC5D,mBAAmB;YACnB,qCAAqC;YACrC,+BAA+B;YAC/B,mCAAmC;YACnC,qBAAqB;YACrB,0CAA0C;YAC1C,oCAAoC;YACpC,SAAS;YACT,sCAAsC;YACtC,iCAAiC;YACjC,QAAQ;YACR,6DAA6D;YAC7D,8BAA8B;YAC9B,QAAQ;YACR,MAAM;YACN,IAAI,CAAC,QAAQ;iBACV,WAAW,EAAE;iBACb,IAAI,CAAC,yBAAe;gBACnB,IAAM,QAAQ,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE;oBACjC,KAAK,CAAC,yCAAyC,CAAC,CAAC;oBACjD,OAAO;iBACR;gBACD,eAAe,CAAC,YAAY,CAAC,OAAO,CAAC,aAAG;oBACtC,IAAI,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC;oBACzB,OAAO,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;wBAClC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;qBACtC;oBACD,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC;gBACH,IAAM,IAAI,GAAG;oBACX,WAAW,EAAE,eAAe,CAAC,WAAW;oBACxC,IAAI,EAAE,QAAQ;iBACf,CAAC;gBACF,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC,IAAI,CAAC;oBACvC,KAAI,CAAC,eAAe,EAAE,CAAC;gBACzB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;SAC/B;aAAM,IAAI,GAAG,IAAI,CAAC,EAAE;YACnB,IAAM,GAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC9B,YAAY;gBACZ,QAAQ,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,aAAa,CAAC,CAAC,KAAK;gBAC/E,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,MAAM;wBACZ,YAAY;wBACZ,WAAW,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC,KAAK;qBACpF;oBACD;wBACE,IAAI,EAAE,MAAM;wBACZ,YAAY;wBACZ,WAAW,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,CAAC,KAAK;qBACtF;iBACF;gBACD,OAAO,EAAE;oBACP;wBACE,YAAY;wBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,KAAK;wBACtE,IAAI,EAAE,QAAQ;qBACf;oBACD;wBACE,YAAY;wBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,KAAK;wBACnE,OAAO,EAAE,cAAI;4BACX,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,EAAE;gCACnB,IAAI;oCACF,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;wCAAE,MAAM,KAAK,CAAC;oCACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wCACzC,IAAM,IAAI,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;wCACzC,IAAI,IAAI,IAAI,GAAG,EAAE;4CACf,IAAI,CAAC,IAAI,CAAC;gDAAE,MAAM,KAAK,CAAC;yCACzB;6CAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;4CACrE,MAAM,KAAK,CAAC;yCACb;qCACF;iCACF;gCAAC,OAAO,KAAK,EAAE;oCACd,KAAI,CAAC,eAAe;yCACjB,MAAM,CAAC;wCACN,OAAO,EAAE,uBAAuB;wCAChC,QAAQ,EAAE,IAAI;qCACf,CAAC;yCACD,OAAO,EAAE,CAAC;oCACb,OAAO,KAAK,CAAC;iCACd;gCACD,IAAM,IAAI,GAAG;oCACX,WAAW,EAAE,IAAI,CAAC,IAAI;oCACtB,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC;iCAClB,CAAC;gCACF,+BAA+B;gCAC/B,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;oCACtC,KAAI,CAAC,eAAe,EAAE,CAAC;gCACzB,CAAC,CAAC,CAAC;6BACJ;iCAAM;gCACL,KAAI,CAAC,eAAe;qCACjB,MAAM,CAAC;oCACN,YAAY;oCACZ,OAAO,EAAE,KAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,CAAC,KAAK;oCACtF,QAAQ,EAAE,IAAI;iCACf,CAAC;qCACD,OAAO,EAAE,CAAC;gCACb,GAAC,CAAC,OAAO,EAAE,CAAC;gCACZ,OAAO,KAAK,CAAC;6BACd;wBACH,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,GAAC,CAAC,OAAO,EAAE,CAAC;SACb;QACD,wBAAwB;QACxB,iFAAiF;QACjF,0CAA0C;QAC1C,MAAM;IACR,CAAC;IAED,6BAAM,GAAN;QAAA,iBAKC;QAJC,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI;YAAE,OAAO;QACrC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAO;YACjD,cAAO,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;QAAzE,CAAyE,CAC1E,CAAC;IACJ,CAAC;IAED,2BAAI,GAAJ,UAAK,GAAG;QACN,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE;YACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,CAAC,EAA1C,CAA0C,CAAC,CAAC;YAC7E,IAAI,GAAG,IAAI,CAAC,EAAE;gBACZ,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;aAC7B;SACF;aAAM,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE;YAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,EAArB,CAAqB,CAAC,CAAC;YACxD,IAAI,GAAG,IAAI,CAAC,EAAE;gBACZ,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;aAC7B;SACF;IACH,CAAC;IAED,sCAAe,GAAf;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,4FAAkB,CAAC,CAAC;IACxC,CAAC;IApNU,YAAY;QAJxB,wEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;6EAG+B;YACX,yEAAS;YACT,sEAAQ;YACD,mFAAe;YAC5B,sEAAe;YACR,sEAAe;YACf,+GAAe;YACF,8DAAsB;YACxC,qEAAM;YACN,SAAc;OAXnB,YAAY,CAqNxB;IAAD,CAAC;AAAA;SArNY,YAAY,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBC;AAEnB,IAAM,WAAW,GAAG,UAAO,GAAY;;;;;;gBAE1C,IAAI,CAAC,GAAG;oBAAE,GAAG,GAAG,wEAAwE,CAAC;gBACzF,qBAAM,6CAAK,CAAC,GAAG,CAAC,GAAG,CAAC;;gBAApB,SAAoB,CAAC;gBACrB,sBAAO,IAAI,EAAC;;;;;;;KAEf,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRwC;AACiD;AACzB;AAE4B;AACvB;AACjC;AACuB;AACrB;AAExC;;;;;GAKG;AAOH;IAUE,+BACS,OAAsB,EACtB,SAAoB,EACpB,SAA0B,EAC1B,EAAmB,EAClB,SAA0B,EAC1B,sBAA8C,EAC9C,UAA8B,EAC9B,MAAqB,EACrB,GAAQ,EACR,eAAgC;QATjC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAiB;QAC1B,OAAE,GAAF,EAAE,CAAiB;QAClB,cAAS,GAAT,SAAS,CAAiB;QAC1B,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,eAAU,GAAV,UAAU,CAAoB;QAC9B,WAAM,GAAN,MAAM,CAAe;QACrB,QAAG,GAAH,GAAG,CAAK;QACR,oBAAe,GAAf,eAAe,CAAiB;QAnB1C,YAAO,GAAG;YACR,WAAW,EAAE,EAAE;YACf,OAAO,EAAE,CAAC;YACV,IAAI,EAAE,EAAE;YACR,cAAc,EAAE,EAAE;YAClB,OAAO,EAAE,EAAE;YACX,QAAQ,EAAE,CAAC;SACZ,CAAC;QAuBF,0BAAqB,GAAG,EAAE,CAAC;QAC3B,YAAO,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QACnC,YAAO,GAAG,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;QAqKvF,eAAU,GAAG,KAAK,CAAC;QAhLjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;YAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC;SAC3B;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QACrC,8CAA8C;IAChD,CAAC;IAQD,8CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;IACtD,CAAC;IAED,uCAAO,GAAP;QACE,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACpB,CAAC;IAEK,sCAAM,GAAZ;;;;;;;6BAEI,KAAI,CAAC,qBAAqB,CAAC,MAAM,IAAI,CAAC;4BACtC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO;4BACpC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAFrC,wBAEqC;wBAErC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;;;wBAEnB,IAAI,CAAC,SAAS;6BACX,MAAM,CAAC;4BACN,YAAY;4BACZ,OAAO,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,CAAC,KAAK;4BACnF,mBAAmB,EAAE,IAAI;4BACzB,QAAQ,EAAE,IAAI;yBACf,CAAC;6BACD,OAAO,EAAE,CAAC;6BACT,KAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,GAArC,wBAAqC;wBACvC,qBAAM,IAAI,CAAC,EAAE,CAAC,wBAAwB,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,qBAAqB,CAAC;;wBAA5F,SAA4F,CAAC;;;6BAE3F,KAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,GAApC,wBAAoC;wBACtC,qBAAM,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC;;wBAAvE,SAAuE,CAAC;wBAClE,aAAa,GAAW,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACnD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;wBAChC,YAAkB,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC1G,OAAO,CAAC,GAAG,CAAC,SAAO,CAAC,CAAC;wBACrB,IAAI,CAAC,UAAU;6BACZ,WAAW,CAAC,SAAO,CAAC;6BACpB,IAAI,CAAC,qBAAW;4BACf,IAAI,WAAW,EAAE;gCACf,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,SAAO,CAAC,CAAC;gCAChC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,SAAO,CAAC,CAAC;6BAC1C;4BACD,IAAI,KAAI,CAAC,OAAO,IAAI,EAAE,EAAE;gCACtB,IAAI,YAAY,GAAG,IAAI,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;gCAC3E,YAAY,GAAG,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;gCACpD,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;oCACvB,IAAI,EAAE,8BAA8B,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW;oCAC/D,EAAE,EAAE,SAAO;oCACX,2CAA2C;oCAC3C,OAAO,EAAE,EAAE,EAAE,EAAE,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,YAAY,CAAC,EAAE;iCAC/D,CAAC,CAAC;gCACH,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,IAAI,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;6BAC9D;wBACH,CAAC,CAAC;6BACD,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;;;6BAE5B,KAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAArC,wBAAqC;wBACvC,qBAAM,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC;;wBAAvE,SAAuE,CAAC;;;wBAE1E,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;;;;;;KAEtB;IAED,2CAAW,GAAX,UAAY,SAAiB;QAA7B,iBA8CC;QA7CC,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,QAAQ;oBACd,YAAY;oBACZ,WAAW,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,KAAK;oBAC7E,IAAI,EAAE,QAAQ;iBACf;aACF;YACD,OAAO,EAAE;gBACP;oBACE,YAAY;oBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,KAAK;oBACtE,IAAI,EAAE,QAAQ;iBACf;gBACD;oBACE,YAAY;oBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,KAAK;oBACpE,OAAO,EAAE,cAAI;wBACX,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;4BACnB,WAAW,GAAG,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;yBACvC;;4BAAM,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;oBACxC,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,CAAC,CAAC,OAAO,EAAE,CAAC;QACZ,CAAC,CAAC,YAAY,CAAC;YACb,IAAI,WAAW,KAAK,CAAC,EAAE;gBACrB,OAAO;aACR;YACD,IAAM,WAAW,GAAG;gBAClB,MAAM,EAAE,WAAW;gBACnB,IAAI,EAAE,IAAI,IAAI,EAAE;gBAChB,oBAAoB;gBACpB,QAAQ,EAAE,CAAC;gBACX,IAAI,EAAE,EAAE;gBACR,GAAG,EAAE,EAAE;aACR,CAAC;YACF,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,cAAc;gBAAE,KAAI,CAAC,OAAO,CAAC,cAAc,GAAG,EAAE,CAAC;YACnE,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACjD,KAAI,CAAC,OAAO,CAAC,OAAO,IAAI,WAAW,CAAC;YACpC,KAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAW,GAAX,UAAY,QAAQ,EAAE,MAAe;QACnC,+FAA+F;QAC/F,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEhC,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;QACjH,IAAI,CAAC,MAAM;YAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC7E,OAAO,CAAC,CAAC;QACT,wDAAwD;IAC1D,CAAC;IAED,wCAAQ,GAAR,UAAS,QAAQ;QACf,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC1B,IAAI,CAAC,GAAG,CAAC,EAAE;YACT,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;SACrB;aAAM;YACL,OAAO,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC3B;IACH,CAAC;IAED,0CAAU,GAAV,UAAW,QAAQ;QACjB,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,IAAM,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,EAAE;YACT,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;SACrB;aAAM;YACL,OAAO,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;SAC3B;IACH,CAAC;IAED,sCAAM,GAAN;QAAA,iBAoBC;QAnBC,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,YAAY;YACZ,QAAQ,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,+CAA+C,CAAC,CAAC,KAAK;YACjH,OAAO,EAAE;gBACP;oBACE,YAAY;oBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,KAAK;oBACtE,IAAI,EAAE,QAAQ;iBACf;gBACD;oBACE,YAAY;oBACZ,IAAI,EAAE,IAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,KAAK;oBACpE,OAAO,EAAE;wBACP,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,cAAM,YAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAlB,CAAkB,CAAC,CAAC;oBACjF,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,CAAC,CAAC,OAAO,EAAE,CAAC;IACd,CAAC;IAGD,qCAAK,GAAL;QAAA,iBAUC;QATC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,mDAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAM;YAC1E,IAAM,OAAO,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;YACnC,KAAI,CAAC,MAAM;iBACR,KAAK,CAAC,2BAA2B,EAAE,EAAE,EAAE,OAAO,EAAE,6BAA6B,CAAC;iBAC9E,IAAI,CAAC,kBAAQ,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAArB,CAAqB,CAAC;iBACvC,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,UAAU,CAAC,cAAM,QAAC,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC,EAAzB,CAAyB,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;IAED,uCAAO,GAAP;QAAA,iBA6DC;QA5DC,IAAI,OAAO,GAAG,wCAAwC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,GAAG,MAAM,CAAC;QAC5G,IAAI,IAAI,CAAC,OAAO,IAAI,EAAE,EAAE;YACtB,OAAO,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC1D;QACD,OAAO,IAAI,yDAAyD,CAAC;QACrE,IAAI,CAAC,SAAS;aACX,MAAM,CAAC;YACN,KAAK,EAAE,UAAU;YACjB,QAAQ,EAAE,2BAA2B;YACrC,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC5B;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;iBACf;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,OAAO,EAAE,cAAI;wBACX,IAAI;4BACF,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC;gCAAE,MAAM,KAAK,CAAC;4BAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gCAC7C,IAAM,IAAI,GAAW,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gCAC7C,IAAI,IAAI,IAAI,GAAG,EAAE;oCACf,IAAI,CAAC,IAAI,CAAC;wCAAE,MAAM,KAAK,CAAC;iCACzB;qCAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;oCACrE,MAAM,KAAK,CAAC;iCACb;6BACF;yBACF;wBAAC,WAAM;4BACN,KAAI,CAAC,eAAe;iCACjB,MAAM,CAAC;gCACN,OAAO,EACL,2FAA2F;gCAC7F,QAAQ,EAAE,IAAI;6BACf,CAAC;iCACD,OAAO,EAAE,CAAC;4BACb,OAAO,KAAK,CAAC;yBACd;wBACD,IAAI,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;4BACzC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;4BACrC,IAAM,IAAI,GAAG;gCACX,WAAW,EAAE,KAAI,CAAC,OAAO,CAAC,WAAW;gCACrC,IAAI,EAAE,KAAI,CAAC,OAAO,CAAC,IAAI;6BACxB,CAAC;4BACF,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;yBACrC;wBACD,KAAI,CAAC,GAAG;6BACL,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAC;6BACxF,IAAI,CAAC,kBAAQ,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAArB,CAAqB,CAAC;6BACvC,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;oBAChC,CAAC;iBACF;aACF;SACF,CAAC;aACD,OAAO,EAAE,CAAC;IACf,CAAC;IAhRU,qBAAqB;QAJjC,wEAAS,CAAC;YACT,QAAQ,EAAE,yBAAyB;WACG;SACvC,CAAC;6EAY+B;YACX,sEAAS;YACT,mFAAe;YACtB,sEAAe;YACP,+GAAe;YACF,8FAAsB;YAClC,oFAAkB;YACtB,+DAAa;YAChB,sEAAG;YACS,eAAe;OApB/B,qBAAqB,CAiRjC;IAAD,CAAC;AAAA;SAjRY,qBAAqB,gB;;;;;;;;;;;;;;;;;;;;;;ACtBQ;AACwC;AAChB;AAC4B;AAE9F;;;;;GAKG;AAOH;IACE,gCACS,OAAsB,EACrB,sBAA8C,EAC/C,SAAoB,EACpB,EAAmB,EACnB,SAA0B,EAC1B,MAAc;QALd,YAAO,GAAP,OAAO,CAAe;QACrB,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC/C,cAAS,GAAT,SAAS,CAAW;QACpB,OAAE,GAAF,EAAE,CAAiB;QACnB,cAAS,GAAT,SAAS,CAAiB;QAC1B,WAAM,GAAN,MAAM,CAAQ;QAQvB,eAAU,GAAQ,EAAE,CAAC;IAPlB,CAAC;IAEJ,+CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QACrD,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAID,8CAAa,GAAb;QAAA,iBAIC;QAHC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,eAAK;YAChC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAW,GAAX;QAAA,iBAwBC;QAvBC,wDAAwD;QACxD,IAAI,IAAI,CAAC,UAAU,IAAI,EAAE,EAAE;YACzB,IAAM,MAAI,GAAG;gBACX,IAAI,EAAE,IAAI,CAAC,UAAU;aACtB,CAAC;YACF,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;gBAC1B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,MAAI,CAAC,CAAC,IAAI,CAAC,cAAM,YAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,eAAK,IAAI,QAAC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAlC,CAAkC,CAAC,EAAzE,CAAyE,CAAC,CAAC;gBAChH,UAAU,CAAC;oBACT,IAAM,OAAO,GAAG,KAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;oBAC3E,IAAM,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAClC,aAAa;wBACb,OAAO,EAAE,OAAO,CAAC,KAAK;wBACtB,QAAQ,EAAE,IAAI;qBACf,CAAC,CAAC;oBACH,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;oBAErB,qCAAqC;oBACrC,2CAA2C;oBAC3C,2CAA2C;oBAC3C,KAAK,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC,EAAE,IAAI,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,uCAAM,GAAN,UAAO,OAAO;QAAd,iBAqBC;QApBC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;YAC1B,KAAI,CAAC,EAAE;iBACJ,cAAc,CAAC,OAAO,CAAC;iBACvB,IAAI,CAAC,cAAM,YAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,eAAK,IAAI,QAAC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAlC,CAAkC,CAAC,EAAzE,CAAyE,CAAC,CAAC;YAEzF,UAAU,CAAC;gBACT,IAAM,OAAO,GAAG,KAAI,CAAC,sBAAsB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;gBAC3E,IAAM,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAClC,aAAa;oBACb,OAAO,EAAE,OAAO,CAAC,KAAK;oBACtB,QAAQ,EAAE,IAAI;iBACf,CAAC,CAAC;gBACH,KAAI,CAAC,aAAa,EAAE,CAAC;gBAErB,qCAAqC;gBACrC,2CAA2C;gBAC3C,2CAA2C;gBAC3C,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IA3EU,sBAAsB;QAJlC,wEAAS,CAAC;YACT,QAAQ,EAAE,2BAA2B;WACG;SACzC,CAAC;4HAG+B;YACG,iEAAsB;YACpC,mFAAS;YAChB,sEAAe;YACR,+DAAe;YAClB,MAAM;OAPZ,sBAAsB,CA4ElC;IAAD,CAAC;AAAA;SA5EY,sBAAsB,iB","file":"main.js","sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { IndividualContactPage } from \"../individual-contact/individual-contact\";\r\n\r\n/**\r\n * Generated class for the CreditReminderPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-credit-reminder\",\r\n  templateUrl: \"credit-reminder.html\",\r\n})\r\nexport class CreditReminderPage {\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public sp: StorageProvider) {}\r\n\r\n  todayList = [];\r\n  tomList = [];\r\n  pendingList = [];\r\n\r\n  async ionViewWillEnter() {\r\n    this.todayList = [];\r\n    this.tomList = [];\r\n    this.pendingList = [];\r\n    const contacts = JSON.parse(await this.sp.getContacts());\r\n    const todayDate = new Date();\r\n    contacts.forEach(contact => {\r\n      if (contact.dueDate && contact.dueDate != \"\" && contact.balance != 0) {\r\n        const contactDate = new Date(contact.dueDate);\r\n        console.log(contactDate.valueOf() - todayDate.valueOf());\r\n        if (contactDate.getFullYear() == todayDate.getFullYear()) {\r\n          if (contactDate.getMonth() == todayDate.getMonth()) {\r\n            if (contactDate.getDate() == todayDate.getDate()) {\r\n              this.todayList.push(contact);\r\n            } else if (contactDate.getDate() == todayDate.getDate() + 1) {\r\n              this.tomList.push(contact);\r\n            }\r\n          } else if (todayDate.getMonth() == contactDate.getMonth() - 1) {\r\n            if (contactDate.valueOf() - todayDate.valueOf() < 86400000) {\r\n              //8.64e7 is one day in milliseconds\r\n              this.tomList.push(contact);\r\n            }\r\n          }\r\n        }\r\n        if (contactDate.valueOf() - todayDate.valueOf() < 0) {\r\n          if (\r\n            contactDate.getDate() != todayDate.getDate() ||\r\n            contactDate.getMonth() != todayDate.getMonth() ||\r\n            contactDate.getFullYear() != todayDate.getFullYear()\r\n          )\r\n            this.pendingList.push(contact);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  navToIndividual(contact) {\r\n    this.navCtrl.push(IndividualContactPage, { data: contact });\r\n  }\r\n\r\n  goBack() {\r\n    this.navCtrl.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/credit-reminder/credit-reminder.ts","import { BluetoothSerial } from \"@ionic-native/bluetooth-serial\";\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n@Injectable()\r\nexport class PrinterProvider {\r\n  constructor(private bluetoothSerial: BluetoothSerial) {}\r\n\r\n  enableBluetooth() {\r\n    return this.bluetoothSerial.enable();\r\n  }\r\n\r\n  searchBluetooth() {\r\n    return this.bluetoothSerial.list();\r\n  }\r\n\r\n  connectBluetooth(address) {\r\n    return this.bluetoothSerial.connect(address);\r\n  }\r\n\r\n  printData(data) {\r\n    return this.bluetoothSerial.write(data);\r\n  }\r\n\r\n  disconnectBluetooth() {\r\n    return this.bluetoothSerial.disconnect();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/printer/printer.ts","import { Component, NgZone } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  AlertController,\r\n  LoadingController,\r\n  Events,\r\n} from \"ionic-angular\";\r\nimport firebase, { auth } from \"firebase\";\r\nimport { TransactionHomePage } from \"../transaction-home/transaction-home\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\n\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { UserProfilePage } from \"../user-profile/user-profile\";\r\nimport { Message, Placeholder } from \"@angular/compiler/src/i18n/i18n_ast\";\r\nimport { AddProdSignupPage } from \"../add-prod-signup/add-prod-signup\";\r\nimport { Facebook } from \"@ionic-native/facebook\";\r\nimport { createAccountDocument } from \"../../utilities/createAccountDocument\";\r\n\r\n/**\r\n * Generated class for the LoginPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-login\",\r\n  templateUrl: \"login.html\",\r\n})\r\nexport class LoginPage {\r\n  email = \"\";\r\n  password = \"\";\r\n  selectedLanguage: string;\r\n\r\n  listOfLang: string[] = [];\r\n  country_code: any;\r\n  fb = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public zone: NgZone,\r\n    public navParams: NavParams,\r\n    public toastCtrl: ToastController,\r\n\r\n    public sp: StorageProvider,\r\n    public alertCtrl: AlertController,\r\n    private translateConfigService: TranslateConfigService,\r\n    private loadingCtrl: LoadingController,\r\n    public events: Events,\r\n    private facebook: Facebook,\r\n  ) {\r\n    //this.loadDropDowns();\r\n    //this.getInfo();\r\n    this.country_code = \"95\";\r\n    this.dis = 0;\r\n    const loading = this.loadingCtrl.create({\r\n      content: `\r\n        <div class=\"custom-spinner-container\">\r\n          <div class=\"custom-spinner-box\"></div>\r\n        </div>`,\r\n    });\r\n\r\n    firebase.auth().onAuthStateChanged(async user => {\r\n      if (user) {\r\n        //console.log(user);\r\n        loading.present();\r\n\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"users\")\r\n          .where(\"owner\", \"==\", firebase.auth().currentUser.uid)\r\n          .get()\r\n          .then(querySnapshot => {\r\n            if (querySnapshot.size == 0) {\r\n              // console.log(\"Not permitted - this account has not filled their data (Fb Login) or no internet\");\r\n              // navCtrl.setRoot(UserProfilePage, {\r\n              //   uid: firebase.auth().currentUser.uid,\r\n              //   timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n              //});\r\n              console.log(\"No Internet or New Account Required\");\r\n              // console.log(firebase.auth().currentUser.uid);\r\n              //MOVE SIGN UP OPTIONS RIGHT HERE AND CREATE A DOCUMENT\r\n              //zone.run(() => {\r\n              //console.log(\"firing from constructor\");\r\n              loading.dismiss();\r\n              //navCtrl.setRoot(TransactionHomePage);\r\n              //});\r\n\r\n              // const msg = this.translateConfigService.getTranslatedMessage(\"Internet Unavailable\");\r\n\r\n              // this.toastCtrl\r\n              //   .create({\r\n              //     // @ts-ignore\r\n              //     message: msg.value,\r\n              //     duration: 2000,\r\n              //   })\r\n              //   .present();\r\n            } else {\r\n              this.sp.setMem().then(() => {\r\n                zone.run(() => {\r\n                  console.log(\"firing from constructor\");\r\n                  loading.dismiss();\r\n                  navCtrl.setRoot(TransactionHomePage);\r\n                });\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            // this.toastCtrl.create({\r\n            //   message: error,\r\n            //   duration: 2000,\r\n            // });\r\n          });\r\n      } else {\r\n        // No user is signed in.\r\n        console.log(\"no-user is previously signed in\");\r\n      }\r\n    });\r\n\r\n    this.selectedLanguage = this.translateConfigService.getDefaultLanguage();\r\n  }\r\n  dis = 0;\r\n\r\n  contactphone = \"loading...\";\r\n  getInfo() {\r\n    const msg = this.translateConfigService.getTranslatedMessage(\"Helpline\");\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"contact-us\")\r\n      .get()\r\n      .then(doc => {\r\n        this.contactphone = doc.docs[0].data().phone;\r\n        const abc = this.alertCtrl\r\n          .create({\r\n            //@ts-ignore\r\n            title: msg.value,\r\n            subTitle: this.contactphone,\r\n          })\r\n          .present();\r\n      });\r\n  }\r\n\r\n  timer = 30;\r\n  startTimer() {\r\n    this.zone.run(() => {\r\n      const interval = setInterval(() => {\r\n        this.timer--;\r\n        if (this.timer == 0) clearInterval(interval);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  language;\r\n\r\n  // loadDropDowns() {\r\n  //   firebase\r\n  //     .firestore()\r\n  //     .collection(\"sign-up\")\r\n  //     .get()\r\n  //     .then(doc => {\r\n  //       doc.docs[0].data().language.forEach(l => {\r\n  //         this.listOfLang.push(l);\r\n  //         //console.log(this.listOfLang);\r\n  //       });\r\n  //     })\r\n  //     .catch(error => {\r\n  //       this.toastCtrl.create({\r\n  //         message: error,\r\n  //         duration: 2000,\r\n  //       });\r\n  //     });\r\n  // }\r\n\r\n  // loginWithFB() {\r\n  //   this.facebook\r\n  //     .login([\"email\"])\r\n  //     .then((res: FacebookLoginResponse) => {\r\n  //       console.log(\"Logged into Facebook!\", res);\r\n\r\n  //       firebase\r\n  //         .auth()\r\n  //         .signInWithCredential(firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken))\r\n  //         .then(async success => {\r\n  //           this.checkifexist();\r\n\r\n  //           console.log(\"Firebase success\", success);\r\n  //           // const temp = success;\r\n  //           // await firebase\r\n  //           //   .firestore()\r\n  //           //   .collection(\"users\")\r\n  //           //   .where(\"owner\", \"==\", firebase.auth().currentUser.uid)\r\n  //           //   .get()\r\n  //           //   .then(function (querySnapshot) {\r\n  //           //     if (querySnapshot.size == 0) {\r\n  //           //       console.log(\"Not permitted - no sign up\");\r\n  //           //       this.navCtrl.setRoot(UserProfilePage, {\r\n  //           //         uid: firebase.auth().currentUser.uid,\r\n  //           //         timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n  //           //       });\r\n  //           //     } else {\r\n  //           //       this.loginProcedure();\r\n  //           //     }\r\n  //           //   });\r\n  //         })\r\n  //         .catch(err => {\r\n  //           console.log(\"Firebase error\", err);\r\n  //         });\r\n  //     })\r\n  //     .catch(e => console.log(\"Error logging into Facebook\", e));\r\n  // }\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad LoginPage\");\r\n    this.signup = 0;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    firebase.auth().useDeviceLanguage();\r\n    this.applicationVerifier = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\", {\r\n      size: \"invisible\",\r\n      callback: function(response) {\r\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\r\n        //this.signInPhone();\r\n      },\r\n    });\r\n  }\r\n\r\n  applicationVerifier;\r\n\r\n  // login() {\r\n  //   firebase\r\n  //     .auth()\r\n  //     .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n  //     .then(() => {\r\n  //       firebase\r\n  //         .auth()\r\n  //         .signInWithEmailAndPassword(this.email, this.password)\r\n  //         .then(user => {\r\n  //           this.loginProcedure();\r\n  //         })\r\n  //         .catch(err => {\r\n  //           console.log(err);\r\n  //           this.toastCtrl\r\n  //             .create({\r\n  //               message: err.message,\r\n  //               duration: 3000,\r\n  //             })\r\n  //             .present();\r\n  //         });\r\n  //     });\r\n  //   //console.log(user)\r\n  // }\r\n\r\n  loginAction() {\r\n    const message = this.translateConfigService.getTranslatedMessage(\"This feature will open shortly\");\r\n    this.toastCtrl\r\n      .create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2000,\r\n      })\r\n      .present();\r\n  }\r\n\r\n  // gotoSignUp() {\r\n  //   this.navCtrl.push(SignUpPage);\r\n  // }\r\n\r\n  loginProcedure() {\r\n    this.zone.run(() => {\r\n      console.log(\"firing from login proc\");\r\n      // this.sp.clearMem();\r\n\r\n      this.sp.setMem().then(() => {\r\n        this.navCtrl.setRoot(TransactionHomePage);\r\n      });\r\n    });\r\n  }\r\n\r\n  languageChanged() {\r\n    console.log(`selected language: ${this.selectedLanguage}`);\r\n    this.translateConfigService.setLanguage(this.selectedLanguage);\r\n  }\r\n\r\n  phone;\r\n  // signIn() {\r\n  //   // add a local variable to store navCtrl object\r\n  //   const thatNavCtrl = this.navCtrl;\r\n  //   //Step 1  Pass the mobile number for verification\r\n  //   const tell = \"+\" + this.country_code + this.phone;\r\n\r\n  //   firebase\r\n  //     .auth()\r\n  //     .signInWithPhoneNumber(tell, this.applicationVerifier)\r\n  //     .then((confirmationResult)=> {\r\n  //       const verificationCode = window.prompt(\r\n  //         \"Please enter the verification code that was sent to your mobile device.\",\r\n  //       );\r\n  //       return confirmationResult.confirm(verificationCode);\r\n  //     })\r\n  //     .catch((error)=> {\r\n  //       // Handle Errors here.\r\n  //       this.toastCtrl.create({\r\n  //         message: error,\r\n  //         duration: 2000,\r\n  //       }).present();\r\n  //     });\r\n  // }\r\n\r\n  newaccOwnName;\r\n  newaccBName;\r\n  newaccBArea;\r\n  newaccemail; //\r\n  newaccBType;\r\n\r\n  async createAccount() {\r\n    if (this.newaccBArea && this.newaccBName && this.newaccOwnName && this.newaccBType && this.phone) {\r\n      this.toastCtrl.create({\r\n        message: \"Please wait while account is created. This may take a few minutes\",\r\n        duration: 3000,\r\n      });\r\n      this.dis = 1;\r\n\r\n      try {\r\n        const user = {\r\n          owner: firebase.auth().currentUser.uid,\r\n          owner_name: this.newaccOwnName,\r\n          business_name: this.newaccBName,\r\n          businesstype: this.newaccBType,\r\n          business_address: this.newaccBArea,\r\n          email: this.newaccemail ? this.newaccemail : \"sample@sample.com\",\r\n          ph_no: \"+\" + this.country_code + this.phone,\r\n          language: this.translateConfigService.getCurrentLanguage(),\r\n        };\r\n        if (!user.owner) throw new Error(\"firebase authentication uid missing\");\r\n        await createAccountDocument(user);\r\n\r\n        const title = this.translateConfigService.getTranslatedMessage(\"Account Created\");\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Your account has been created successfully\");\r\n        this.alertCtrl\r\n          .create({\r\n            // @ts-ignore\r\n            title: title.value,\r\n            // @ts-ignore\r\n            message: message.value,\r\n            buttons: [\r\n              {\r\n                text: \"OK\",\r\n                handler: () => {\r\n                  this.sp.setMem({ force: true }).then(() => {\r\n                    this.navCtrl.push(AddProdSignupPage);\r\n                  });\r\n                },\r\n              },\r\n            ],\r\n          })\r\n          .present();\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      this.toastCtrl\r\n        .create({\r\n          message: \"Incomplete\",\r\n          duration: 3000,\r\n        })\r\n        .present();\r\n    }\r\n  }\r\n\r\n  signup = 0;\r\n  otpmode = 0;\r\n  lang = 1;\r\n\r\n  selectLang(lang: string) {\r\n    this.lang = 0;\r\n    this.selectedLanguage = lang;\r\n    this.translateConfigService.setLanguage(lang);\r\n  }\r\n\r\n  backToLang() {\r\n    this.lang = 1;\r\n    this.selectedLanguage = \"en\";\r\n  }\r\n\r\n  async checkifexist() {\r\n    let flag = 0;\r\n    return await firebase\r\n      .firestore()\r\n      .collection(\"users\")\r\n      .where(\"owner\", \"==\", firebase.auth().currentUser.uid)\r\n      .get()\r\n      .then(async querySnapshot => {\r\n        if (querySnapshot.size == 0) {\r\n          console.log(\"Bun\");\r\n          flag = 1;\r\n          this.otpmode = 0;\r\n          this.signup = 1;\r\n          return false;\r\n        } else {\r\n          console.log(\"loggin you in\");\r\n          flag = 0;\r\n          this.otpmode = 0;\r\n          this.signup = 0;\r\n          this.loginProcedure();\r\n          return true;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        return false;\r\n      });\r\n  }\r\n\r\n  submitSignUp() {\r\n    //if all are filled\r\n    //this.newaccetcetc then this.createAccount();\r\n  }\r\n  otpnum: any;\r\n\r\n  backToLogin() {\r\n    this.otpmode = 0;\r\n    this.signup = 0;\r\n  }\r\n\r\n  timer2 = 0;\r\n  startTimer2() {\r\n    this.zone.run(() => {\r\n      this.timer2 = 5;\r\n      const interval = setInterval(() => {\r\n        this.timer2--;\r\n        if (this.timer2 == 0) clearInterval(interval);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  async otpFn() {\r\n    this.startTimer2();\r\n    const confirmationResult = this.confirmres;\r\n    let flag = 0;\r\n    await confirmationResult\r\n      .confirm(this.otpnum)\r\n      .then(async result => {\r\n        // User signed in successfully.\r\n        console.log(result.user);\r\n        flag = 1;\r\n        // ...\r\n      })\r\n      .catch(error => {\r\n        // User couldn't sign in (bad verification code?)\r\n        // ...\r\n        console.log(error);\r\n        this.toastCtrl\r\n          .create({\r\n            message: error,\r\n            duration: 2000,\r\n          })\r\n          .present();\r\n        const a = this.alertCtrl.create({\r\n          title: \"Incorrect OTP\",\r\n          subTitle: \"OTP entered is incorrect. Request new OTP or retry\",\r\n          buttons: [\r\n            {\r\n              text: \"Retry\",\r\n              role: \"cancel\",\r\n              handler: () => {\r\n                this.otpnum = \"\";\r\n              },\r\n            },\r\n            {\r\n              text: \"New OTP\",\r\n              handler: () => {\r\n                this.otpmode = 0;\r\n                this.otpnum = \"\";\r\n              },\r\n            },\r\n          ],\r\n        });\r\n        a.present();\r\n      })\r\n      .finally(() => {\r\n        if (flag == 1) {\r\n          const temp = this.checkifexist();\r\n        }\r\n      });\r\n  }\r\n\r\n  confirmres: any;\r\n  async signInPhone() {\r\n    if (this.phone == null || this.country_code == null) {\r\n      console.log(\"hi\");\r\n      const msg = this.translateConfigService.getTranslatedMessage(\"No Phone Number Entered\");\r\n      const msg1 = this.translateConfigService.getTranslatedMessage(\"CANCEL\");\r\n\r\n      this.alertCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: msg.value,\r\n          buttons: [\r\n            {\r\n              //@ts-ignore\r\n              text: msg1.value,\r\n              role: \"cancel\",\r\n            },\r\n          ],\r\n        })\r\n        .present();\r\n    } else {\r\n      this.toastCtrl\r\n        .create({\r\n          //@ts-ignore\r\n          message: this.translateConfigService.getTranslatedMessage(\"Please Wait...\").value,\r\n          duration: 2000,\r\n        })\r\n        .present();\r\n\r\n      const phoneNumber = \"+\" + this.country_code + this.phone;\r\n      const appVerifier = this.applicationVerifier;\r\n\r\n      const flag = 0;\r\n      await firebase\r\n        .auth()\r\n        .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n        .then(confirmationResult => {\r\n          this.otpmode = 1;\r\n          this.confirmres = confirmationResult;\r\n          this.timer = 30;\r\n          this.startTimer();\r\n          // SMS sent. Prompt user to type the code from the message, then sign the\r\n          // user in with confirmationResult.confirm(code).\r\n\r\n          const msg = this.translateConfigService.getTranslatedMessage(\"Enter the Confirmation code\");\r\n          const msg1 = this.translateConfigService.getTranslatedMessage(\"A 6 Digit Code\");\r\n          const msg2 = this.translateConfigService.getTranslatedMessage(\"SEND\");\r\n          const msg3 = this.translateConfigService.getTranslatedMessage(\"CANCEL\");\r\n\r\n          // const prompt = this.alertCtrl.create({\r\n          //   //@ts-ignore\r\n          //   title: msg.value,\r\n          //   message:\r\n          //     //@ts-ignore\r\n          //     msg1.value,\r\n          //   inputs: [{ name: \"confirmationCode\", placeholder: \"Confirmation Code\" }],\r\n          //   buttons: [\r\n          //     {\r\n          //       //@ts-ignore\r\n          //       text: msg3.value,\r\n          //       handler: data => {\r\n          //         console.log(\"Cancel clicked\");\r\n          //       },\r\n          //     },\r\n          //     {\r\n          //       //@ts-ignore\r\n          //       text: msg2.value,\r\n          //       handler: async data => {\r\n          //         await confirmationResult\r\n          //           .confirm(data.confirmationCode)\r\n          //           .then(async result => {\r\n          //             // User signed in successfully.\r\n          //             console.log(result.user);\r\n          //             flag = 1;\r\n          //             // ...\r\n          //           })\r\n          //           .catch(error => {\r\n          //             // User couldn't sign in (bad verification code?)\r\n          //             // ...\r\n          //             console.log(error);\r\n          //             this.toastCtrl\r\n          //               .create({\r\n          //                 message: error,\r\n          //                 duration: 2000,\r\n          //               })\r\n          //               .present();\r\n          //           })\r\n          //           .finally(() => {\r\n          //             if (flag == 1) {\r\n          //               this.checkifexist();\r\n          //             }\r\n          //           });\r\n          //       },\r\n          //     },\r\n          //   ],\r\n          // });\r\n          // prompt.present();\r\n          console.log(confirmationResult);\r\n        })\r\n        .catch(error => {\r\n          // Error; SMS not sent\r\n          // ...\r\n          this.alertCtrl\r\n            .create({\r\n              message: \"SMS not sent: \" + error,\r\n            })\r\n            .present();\r\n          console.log(\"SMS Not Sent: \" + error);\r\n        });\r\n\r\n      // if(flag==1){\r\n      //   console.log(\"yeahh\")\r\n      //   this.createAccount();\r\n      // }\r\n    }\r\n  }\r\n\r\n  async fbLogin() {\r\n    this.facebook\r\n      .login([\"email\", \"public_profile\"])\r\n      .then(loginResponse => {\r\n        const credential = firebase.auth.FacebookAuthProvider.credential(loginResponse.authResponse.accessToken);\r\n        firebase\r\n          .auth()\r\n          .signInWithCredential(credential)\r\n          .then(async info => {\r\n            console.log(info);\r\n            //alert(JSON.stringify(info));\r\n            const accountExist = await this.checkifexist();\r\n            if (!accountExist) {\r\n              console.log(\"inside new acc\");\r\n              this.facebook.api(\"me?fields=id,name,email\", []).then(profile => {\r\n                console.log(profile);\r\n                this.newaccOwnName = profile[\"name\"];\r\n                this.newaccemail = profile[\"email\"];\r\n                this.zone.run(() => {\r\n                  this.fb = true;\r\n                  console.log(\"FB IS TRUE\");\r\n                });\r\n              });\r\n            }\r\n          })\r\n          .catch(err => console.log(err));\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  Events,\r\n  Tabs,\r\n  AlertController,\r\n  Platform,\r\n  App,\r\n  ModalController,\r\n  FabContainer,\r\n} from \"ionic-angular\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { SingleProductPage } from \"../singleproduct/singleproduct\";\r\nimport { AddProductPage } from \"../addproduct/addproduct\";\r\nimport { AddProductCategoryPage } from \"../add-product-category/add-product-category\";\r\n\r\n/**\r\n * Generated class for the TransactionProductPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-transaction-product\",\r\n  templateUrl: \"transaction-product.html\",\r\n})\r\nexport class TransactionProductPage {\r\n  //@ts-ignore\r\n\r\n  updateOrCreate = this.translateConfigService.getTranslatedMessage(\"Complete Sale\").value;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    public sp: StorageProvider,\r\n    public events: Events,\r\n    public toastCtrl: ToastController,\r\n    public alertCtrl: AlertController,\r\n    public platform: Platform,\r\n    public app: App,\r\n    public modal: ModalController,\r\n  ) {\r\n    this.event = false;\r\n    this.showmanual = 0;\r\n    this.itname = \"\";\r\n    //@ts-ignore\r\n    this.updateOrCreate = this.translateConfigService.getTranslatedMessage(\"Complete Sale\").value;\r\n\r\n    this.events.subscribe(\"newUser\", data => {\r\n      this.delay(500).then(() => {\r\n        this.ionViewDidLoad();\r\n        console.log(\"update this page\");\r\n      });\r\n    });\r\n\r\n    this.events.subscribe(\"productUpdate:created\", async data => {\r\n      this.delay(500).then(() => {\r\n        this.ionViewDidLoad();\r\n        console.log(\"update this page\");\r\n      });\r\n    });\r\n\r\n    this.events.subscribe(\"addRecProd:created\", data => {\r\n      console.log(\"ENTERED!\");\r\n      console.log(\"Received 0 \" + data);\r\n      //@ts-ignore\r\n      this.updateOrCreate = this.translateConfigService.getTranslatedMessage(\"Update Receipt\").value;\r\n\r\n      const tempdat = JSON.parse(data);\r\n      this.getProducts();\r\n      console.log(tempdat);\r\n\r\n      tempdat.forEach(element => {\r\n        this.event = true;\r\n\r\n        // this.itemsname.push(element.name)\r\n        // this.itemsprice.push(element.price);\r\n        // this.itemsqty.push(element.qty)\r\n\r\n        if (this.listProducts.length != 0) {\r\n          this.listProducts.forEach(element1 => {\r\n            if (element1.name == element.name) {\r\n              element1.qty = element.qty;\r\n              element1.discount = element.discount;\r\n            }\r\n          });\r\n        }\r\n        if (element.code == \"000000\") {\r\n          this.calcitems.push(element);\r\n        }\r\n      });\r\n      console.log(this.calcitems);\r\n    });\r\n\r\n    // this.events.subscribe(\"cbUpdate:created\", async ()=>{\r\n    //   await this.getProducts();\r\n    // })\r\n\r\n    this.events.subscribe(\"addSingleProd:created\", async (data, index, fulldat) => {\r\n      console.log(\"ENTERED!\");\r\n      console.log(\"Received 1 \" + data + index);\r\n      this.recitemslist = JSON.parse(fulldat);\r\n\r\n      this.index = parseInt(index);\r\n\r\n      const tempdat = JSON.parse(data);\r\n      this.event1 = true;\r\n      await this.getProducts();\r\n      this.price = tempdat.price;\r\n      this.filteredProductPrice(tempdat.price);\r\n      //console.log(this.listProducts)\r\n    });\r\n  }\r\n\r\n  doRefresh(refresher) {\r\n    this.ionViewDidLoad();\r\n    refresher.complete();\r\n  }\r\n  price;\r\n  itname = \"\";\r\n\r\n  navAdd(num: number, fab: FabContainer) {\r\n    fab.close();\r\n    if (num == 1) {\r\n      this.navCtrl.push(AddProductPage);\r\n    } else if (num == 2) {\r\n      this.navCtrl.push(AddProductCategoryPage);\r\n    }\r\n  }\r\n\r\n  updateName() {\r\n    if (this.itname == \"\") {\r\n      this.event1 = false;\r\n      this.event = false;\r\n      this.showmanual = 0;\r\n      this.itname = \"\";\r\n      this.ionViewDidLoad();\r\n      (this.navCtrl.parent as Tabs).select(0);\r\n    } else {\r\n      console.log(\"Create Rec\");\r\n      const data1 = {\r\n        code: \"000000\",\r\n        cat: \"NIL\",\r\n        stock_qty: 0,\r\n        name: this.itname,\r\n        price: this.price,\r\n        qty: this.recitemslist[this.index].qty,\r\n        discount: this.recitemslist[this.index].discount,\r\n      };\r\n      this.singleProduct(data1);\r\n    }\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    //@ts-ignore\r\n    this.updateOrCreate = this.translateConfigService.getTranslatedMessage(\"Complete Sale\").value;\r\n  }\r\n\r\n  calcitems: any = [];\r\n\r\n  reset() {\r\n    this.event1 = false;\r\n    this.event = false;\r\n    this.showmanual = 0;\r\n    this.itname = \"\";\r\n    this.ionViewDidLoad();\r\n    (this.navCtrl.parent as Tabs).select(0);\r\n  }\r\n\r\n  selectedItem: any;\r\n  index;\r\n  recitemslist: any = [];\r\n  event = false;\r\n  event1 = false;\r\n  searchprice: any;\r\n  searchterm: any = \"\";\r\n  selectedCat: any = [];\r\n  icons: string[];\r\n  items: Array<{ title: string; note: string; icon: string }>;\r\n  listProducts: any;\r\n  filteredList: any = [];\r\n  listArray: any = [];\r\n  listCat: any;\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad TransactionProductPage\");\r\n    this.getProducts();\r\n    this.getCategories();\r\n  }\r\n\r\n  buttonReset() {\r\n    this.selectedCat = [];\r\n  }\r\n\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  tempprodlist: any = [{}];\r\n\r\n  addUp(index) {\r\n    this.listProducts[index].qty++;\r\n  }\r\n  addDown(index) {\r\n    if (this.listProducts[index].qty > 0) {\r\n      this.listProducts[index].qty--;\r\n    }\r\n  }\r\n  sellProd(product) {\r\n    product.qty = 1;\r\n  }\r\n  getProducts() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getProducts()\r\n        .then(val => {\r\n          if (val) {\r\n            if (this.event != true) {\r\n              this.listProducts = JSON.parse(val);\r\n              console.log(this.listProducts);\r\n              if (this.listProducts != null) {\r\n                this.listProducts.forEach(element => {\r\n                  element.qty = 0;\r\n                });\r\n              }\r\n            }\r\n\r\n            if (this.event1 != true) {\r\n              if (this.listProducts != null) {\r\n                this.filteredProduct();\r\n              }\r\n            }\r\n          } else {\r\n            this.getProducts();\r\n          }\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  openCalc() {\r\n    const helpModal = this.modal.create(\"AllTransactionPage\");\r\n    helpModal.present();\r\n  }\r\n\r\n  filteredProduct() {\r\n    this.filteredList = this.listProducts.filter(item => {\r\n      //console.log(this.searchterm);\r\n      //console.log(item);\r\n      if (item.name.toLowerCase().includes(this.searchterm.toLowerCase())) {\r\n        if (this.selectedCat.length > 0) {\r\n          for (let i = 0; i < this.selectedCat.length; i++) {\r\n            if (this.selectedCat == null || item.cat.includes(this.selectedCat[i])) {\r\n              return true;\r\n            }\r\n          }\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  addwholesaledisc(val: string, product) {\r\n    //product.discount = ((product.price - product.wholesale_price) / product.price) * 100;\r\n    if (val == \"r\") {\r\n      product.discount = null;\r\n    } else {\r\n      product.discount = ((product.price - product.wholesale_price) / product.price) * 100;\r\n    }\r\n  }\r\n  remwholesaledisc(product) {\r\n    product.discount = null;\r\n  }\r\n\r\n  singleProduct(product) {\r\n    const tempqty = this.recitemslist[this.index].qty;\r\n    let tempdisc = this.recitemslist[this.index].discount;\r\n    if (this.price == product.price) {\r\n      //console.log(\"Discount == Regular\");\r\n      tempdisc = this.recitemslist[this.index].discount;\r\n    } else if (this.price == product.wholesale_price) {\r\n      //console.log(\"discount==wholesale\");\r\n\r\n      const wholesaledisc = ((product.price - product.wholesale_price) / product.price) * 100;\r\n      tempdisc = this.recitemslist[this.index].discount + wholesaledisc;\r\n    }\r\n\r\n    //const tempdsc = this.recitemslist[this.index].disc;\r\n    //check if search w wholesale or retail price\r\n    this.recitemslist[this.index] = product;\r\n\r\n    this.recitemslist[this.index].qty = tempqty;\r\n    this.recitemslist[this.index].discount = tempdisc;\r\n\r\n    const tempJSON = { itemslist: this.recitemslist };\r\n\r\n    const myObjStr = JSON.stringify(tempJSON);\r\n\r\n    this.showmanual = 0;\r\n    this.itname = \"\";\r\n    this.ionViewDidLoad();\r\n    (this.navCtrl.parent as Tabs).select(0);\r\n    this.delay(300).then(any => {\r\n      this.events.publish(\"genRec:created\", myObjStr);\r\n      console.log(\"Sent: \" + myObjStr);\r\n      this.getProducts();\r\n      this.event = false;\r\n      this.event1 = false;\r\n    });\r\n\r\n    this.getProducts();\r\n  }\r\n\r\n  singleitemname = \"\";\r\n\r\n  setfilter(price) {\r\n    return new Promise(async resolve => {\r\n      this.filteredList = await this.listProducts.filter(item => {\r\n        console.log(item.price + \" and \" + price);\r\n\r\n        if (item.price == price || item.wholesale_price == price) {\r\n          return true;\r\n        } else {\r\n          false;\r\n        }\r\n      });\r\n      resolve();\r\n    });\r\n  }\r\n  showmanual = 0;\r\n\r\n  filteredProductPrice(price) {\r\n    this.setfilter(price).then(() => {\r\n      if (this.filteredList.length == 0) {\r\n        this.showmanual = 1;\r\n        console.log(\"No Items\");\r\n\r\n        // create event and send back\r\n        //at other end if event received,\r\n\r\n        //   const message1 = this.translateConfigService.getTranslatedMessage(\"Alert!\");\r\n        //   const message20 = this.translateConfigService.getTranslatedMessage(\"There is no item with \");\r\n        //   const message21 = this.translateConfigService.getTranslatedMessage(\r\n        //     \" price in database. Please type the item name:\",\r\n        //   );\r\n        //   const message3 = this.translateConfigService.getTranslatedMessage(\"Enter Name Here\");\r\n        //   const message4 = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n        //   const message5 = this.translateConfigService.getTranslatedMessage(\"Update Receipt\");\r\n\r\n        //   const alert = this.alertCtrl\r\n        //     .create({\r\n        //       // @ts-ignore\r\n        //       title: message1.value, //translate this\r\n        //       // @ts-ignore\r\n        //       message: message20.value + price + message21.value,\r\n        //       enableBackdropDismiss: true,\r\n        //       inputs: [\r\n        //         {\r\n        //           name: \"singleitemname\",\r\n        //           // @ts-ignore\r\n        //           placeholder: message3.value,\r\n        //         },\r\n        //       ],\r\n\r\n        //       buttons: [\r\n        //         {\r\n        //           // @ts-ignore\r\n        //           text: message4.value,\r\n        //           role: \"cancel\",\r\n        //           handler: data => {\r\n\r\n        //         this.event1 = false;\r\n        //         this.event = false;\r\n\r\n        //        //(this.navCtrl.parent as Tabs).select(2).catch(err=>{\r\n        //        //  console.log(\"ERRORZONE\"+ err)\r\n        //       // });\r\n\r\n        //           },\r\n        //         },\r\n        //         {\r\n        //           // @ts-ignore\r\n        //           text: message5.value,\r\n        //           handler: data => {\r\n        //   if (data.singleitemname == \"\") {\r\n        //     this.event1 = false;\r\n        //     this.event = false;\r\n        //    //(this.navCtrl.parent as Tabs).select(2);\r\n        //   } else {\r\n        //     console.log(\"Create Rec\");\r\n        //     const data1 = {\r\n        //       code: \"000000\",\r\n        //       cat: \"NIL\",\r\n        //       stock_qty: 0,\r\n        //       name: data.singleitemname,\r\n        //       price: price,\r\n        //       qty: this.recitemslist[this.index].qty,\r\n        //       discount: this.recitemslist[this.index].discount,\r\n        //     };\r\n        //     this.singleProduct(data1);\r\n        //   }\r\n        // },\r\n        //         },\r\n        //       ],\r\n        //     })\r\n        //     .present()\r\n      }\r\n    });\r\n  }\r\n\r\n  datlist: any = [];\r\n\r\n  createRec() {\r\n    //console.log(\"bangin\");\r\n\r\n    const tempJSON = { itemslist: [] };\r\n\r\n    this.listProducts.forEach(element => {\r\n      if (element.qty > 0) {\r\n        tempJSON.itemslist.push(element);\r\n        console.log(\"pushed\" + element);\r\n      }\r\n    });\r\n\r\n    if (this.calcitems.length > 0) {\r\n      console.log(this.calcitems);\r\n      console.log(this.calcitems.length);\r\n      this.calcitems.forEach(element => {\r\n        tempJSON.itemslist.push(element);\r\n      });\r\n    }\r\n\r\n    if (tempJSON.itemslist.length == 0) {\r\n      this.toastCtrl.create({ message: \"Please choose atleast 1 item to add to receipt\", duration: 2000 }).present();\r\n    } else {\r\n      tempJSON.itemslist.forEach(element => {\r\n        if (element.discount) {\r\n        } else {\r\n          element.discount = 0;\r\n        }\r\n      });\r\n\r\n      this.listProducts = [];\r\n      this.calcitems = [];\r\n      this.listArray = [];\r\n      this.recitemslist = [];\r\n\r\n      console.log(this.datlist);\r\n      const myObjStr = JSON.stringify(tempJSON);\r\n\r\n      (this.navCtrl.parent as Tabs).select(0);\r\n      this.delay(300).then(any => {\r\n        this.events.publish(\"genRec:created\", myObjStr);\r\n\r\n        console.log(\"Sent: \" + myObjStr);\r\n        this.getProducts();\r\n        this.event = false;\r\n        this.event1 = false;\r\n        //this.listProducts=\r\n        //your task after delay.\r\n      });\r\n\r\n      this.getProducts();\r\n    }\r\n  }\r\n\r\n  async delay(ms: number) {\r\n    await new Promise(resolve => setTimeout(() => resolve(), ms)).then(() => console.log(\"fired\"));\r\n  }\r\n\r\n  viewEditProduct(data) {\r\n    console.log(data);\r\n    this.navCtrl.push(SingleProductPage, { data: data });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction-product/transaction-product.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams, Tabs, ModalController, Events, AlertController } from \"ionic-angular\";\r\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { ToastController } from \"ionic-angular\";\r\nimport { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport firebase from \"firebase\";\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { UpdateStockPage } from \"../update-stock/update-stock\";\r\n\r\n@Component({\r\n  selector: \"page-single-product\",\r\n  templateUrl: \"singleproduct.html\",\r\n})\r\nexport class SingleProductPage {\r\n  prodCodeOld: any;\r\n  product: any;\r\n\r\n  prodCode: any = \"\";\r\n  prodName: any = \"\";\r\n  prodPrice = 0;\r\n  prodWholesalePrice = 0;\r\n  prodCost = 0;\r\n  prodCat: any = \"\";\r\n  listProduct: any;\r\n  isProdCode000000 = false;\r\n\r\n  orgData = {\r\n    prodCode: \"\",\r\n    prodName: \"\",\r\n    prodPrice: 0,\r\n    prodWholesalePrice: 0,\r\n    prodCost: 0,\r\n    stock: 0,\r\n    prodCat: \"\",\r\n    image: \"\",\r\n  };\r\n\r\n  formProduct: FormGroup;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public barcodeScanner: BarcodeScanner,\r\n    public alertCtrl: AlertController,\r\n    public navParams: NavParams,\r\n    public sp: StorageProvider,\r\n    private toastCtrl: ToastController,\r\n    public camera: Camera,\r\n    private formBuilder: FormBuilder,\r\n    private modal: ModalController,\r\n    public events: Events,\r\n  ) {\r\n    this.product = this.navParams.get(\"data\");\r\n    this.prodCodeOld = this.product.code;\r\n    this.image = this.product.url;\r\n\r\n    this.orgData[\"image\"] = this.image;\r\n    this.orgData[\"prodCode\"] = this.product.code;\r\n    this.orgData[\"prodName\"] = this.product.name;\r\n    this.orgData[\"prodPrice\"] = this.product.price;\r\n    this.orgData[\"prodWholesalePrice\"] = this.product.wholesale_price;\r\n    this.orgData[\"prodCost\"] = this.product.cost;\r\n    this.orgData[\"stock\"] = this.product.stock_qty;\r\n    this.orgData[\"prodCat\"] = this.product.cat;\r\n\r\n    this.getUserData();\r\n    this.formProduct = this.formBuilder.group({\r\n      prodCode: new FormControl(\"\", Validators.required),\r\n      prodName: new FormControl(\"\", Validators.required),\r\n      prodPrice: new FormControl(0, Validators.required),\r\n      prodWholesalePrice: new FormControl(0, Validators.required),\r\n      prodCost: new FormControl(0, Validators.required),\r\n      currstock: new FormControl(0, Validators.required),\r\n      prodCat: new FormControl(\"\", Validators.required),\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad AddProductCategoryPage\");\r\n    this.getCategories();\r\n    this.disabled = false;\r\n  }\r\n\r\n  newprodCat: any = \"\";\r\n  listCat: any;\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  userdata;\r\n  uid;\r\n\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          console.log(this.userdata);\r\n          this.uid = this.userdata.id;\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n  image: any = \"\";\r\n  askCamera() {\r\n    const options: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n    const options1: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Gallery or Camera?\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Gallery\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Camera\");\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        message: msg1.value,\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: msg3.value,\r\n            handler: () => {\r\n              this.launchCamera(options);\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: msg2.value,\r\n            handler: () => {\r\n              this.launchCamera(options1);\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n  launchCamera(options) {\r\n    // const options: CameraOptions = {\r\n    //   quality: 20,\r\n    //   //sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n    //   destinationType: this.camera.DestinationType.DATA_URL,\r\n    //   encodingType: this.camera.EncodingType.JPEG,\r\n    //   mediaType: this.camera.MediaType.PICTURE,\r\n    //   correctOrientation: true,\r\n    //   targetHeight: 300,\r\n    //   targetWidth: 300,\r\n    //   allowEdit: false,\r\n    // };\r\n    this.camera\r\n      .getPicture(options)\r\n      .then(base64Image => {\r\n        this.image = \"data:image/png;base64,\" + base64Image;\r\n        this.upload_new(this.product.name);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  temp = \"na\";\r\n  upload_new(name: string) {\r\n    return new Promise((resolve, reject) => {\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Please wait - Uploading new image\");\r\n      this.toastCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 1000,\r\n        })\r\n        .present();\r\n      this.temp = \"prodImages/\" + this.uid + this.prodCode + name;\r\n      //LET REF be tied to a particular product- we save the url in the products db\r\n      const ref = firebase.storage().ref(\"prodImages/\" + this.uid + this.prodCode + name);\r\n\r\n      const uploadTask = ref.putString(this.image.split(\",\")[1], \"base64\");\r\n\r\n      this.temp = \"UPTask\";\r\n\r\n      uploadTask.then(snap => {\r\n        snap.ref.getDownloadURL().then(url => {\r\n          // do something with url here\r\n\r\n          this.product.url = url;\r\n          this.temp = url;\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Done uploading\");\r\n          this.toastCtrl\r\n            .create({\r\n              // @ts-ignore\r\n              message: message.value,\r\n              duration: 1000,\r\n            })\r\n            .present();\r\n\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  confirmDelete(product) {\r\n    const a = this.alertCtrl.create({\r\n      title: \"Are you sure?\",\r\n      buttons: [\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Cancel\").value,\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Ok\").value,\r\n          handler: () => {\r\n            this.deleteproduct(product);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    a.present();\r\n  }\r\n\r\n  addCategory() {\r\n    //console.log(this.listCat + \" and \"+this.newprodCat);\r\n    if (this.newprodCat != \"\") {\r\n      const data = {\r\n        name: this.newprodCat,\r\n      };\r\n      this.sp.storageReady().then(() => {\r\n        this.sp.addCategory(data).then();\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 3000,\r\n          });\r\n          this.newprodCat = \"\";\r\n\r\n          //this.navCtrl.push(ProductListPage);\r\n          //this.events.publish('prodAdd:created',0);\r\n          // (this.navCtrl.parent as Tabs).select(0);\r\n          toast.present();\r\n        }, 1000);\r\n      });\r\n    }\r\n  }\r\n\r\n  scanQR() {\r\n    this.barcodeScanner\r\n      .scan()\r\n      .then(barcodeData => {\r\n        //this.prodCode = barcodeData.text;\r\n        //this.navCtrl.setRoot(SingleProductPage,{code: barcodeData.text})\r\n        this.prodCode = barcodeData.text;\r\n        this.product.code = barcodeData.text;\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error\", err);\r\n      });\r\n  }\r\n  disabled = false;\r\n\r\n  updateProduct() {\r\n    if (this.product.code == \"000000\") {\r\n      const msg = this.translateConfigService.getTranslatedMessage(\"Code not permitted. Please use a different code\");\r\n      const toast = this.toastCtrl.create({\r\n        //@ts-ignore\r\n        message: msg.value,\r\n        duration: 3000,\r\n      });\r\n      toast.present();\r\n      this.isProdCode000000 = true;\r\n      return;\r\n    } else {\r\n      this.isProdCode000000 = false;\r\n    }\r\n    this.disabled = true;\r\n    if (!this.formProduct.valid) {\r\n      console.log(\"invalid product with missing fields\");\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Please fill all the information!\");\r\n      const toast = this.toastCtrl.create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2000,\r\n      });\r\n      toast.present();\r\n      this.disabled = false;\r\n    } else {\r\n      if (this.newprodCat != \"\") {\r\n        this.addCategory();\r\n        this.product.cat = this.newprodCat;\r\n      }\r\n\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Modifying item, please wait a moment\");\r\n      const toast = this.toastCtrl.create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2000,\r\n      });\r\n      toast.present();\r\n\r\n      const data = {\r\n        ...this.product,\r\n        code: this.product.code,\r\n        name: this.product.name,\r\n        price: this.product.price,\r\n        wholesale_price: this.product.wholesale_price,\r\n        cost: this.product.cost,\r\n        cat: this.product.cat,\r\n        url: this.product.url,\r\n        stock_qty: this.product.stock_qty,\r\n      };\r\n\r\n      this.sp.updateProduct(data, this.prodCodeOld).then(() => {\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          });\r\n          toast.present();\r\n          this.disabled = false;\r\n          this.events.publish(\"productUpdate:created\");\r\n          this.navCtrl.pop();\r\n        }, 1000);\r\n        this.prodCode = \"\";\r\n      });\r\n    }\r\n  }\r\n\r\n  produrl: any = \"\";\r\n\r\n  deleteproduct(data) {\r\n    this.disabled = true;\r\n\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Deleting item, please wait a moment\");\r\n    const toast = this.toastCtrl.create({\r\n      // @ts-ignore\r\n      message: message.value,\r\n      duration: 2000,\r\n    });\r\n    toast.present();\r\n    this.disabled = false;\r\n\r\n    this.sp\r\n      .storageReady()\r\n      .then(() => {\r\n        this.sp.deleteProduct(data);\r\n\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          });\r\n          toast.present();\r\n          this.events.publish(\"productUpdate:created\");\r\n          this.navCtrl.pop();\r\n        }, 1000);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  discardChange() {\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Changes discarded\");\r\n    this.image = this.orgData[\"image\"];\r\n    this.product.code = this.orgData[\"prodCode\"];\r\n    this.product.name = this.orgData[\"prodName\"];\r\n    this.product.price = this.orgData[\"prodPrice\"];\r\n    this.product.wholesale_price = this.orgData[\"prodWholesalePrice\"];\r\n    this.product.cost = this.orgData[\"prodCost\"];\r\n    this.product.stock_qty = this.orgData[\"stock\"];\r\n    this.product.cat = this.orgData[\"prodCat\"];\r\n\r\n    const toast = this.toastCtrl\r\n      .create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2500,\r\n      })\r\n      .present();\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  goBack() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  goToUpdateStock() {\r\n    const m = this.modal.create(\"UpdateStockPage\", { data: this.product });\r\n    m.present();\r\n    m.onDidDismiss(data => {\r\n      if (data == \"cancel\") {\r\n      } else {\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n        const toast = this.toastCtrl.create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 2000,\r\n        });\r\n        toast.present();\r\n        toast.onDidDismiss(() => {\r\n          this.events.publish(\"productUpdate:created\");\r\n          this.navCtrl.pop();\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/singleproduct/singleproduct.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams, Events, AlertController } from \"ionic-angular\";\r\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { ToastController } from \"ionic-angular\";\r\nimport { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport firebase from \"firebase\";\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from \"@angular/forms\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\n\r\n@Component({\r\n  selector: \"page-add-product\",\r\n  templateUrl: \"addproduct.html\",\r\n})\r\nexport class AddProductPage {\r\n  prodCode: any = \"\";\r\n  prodName: any = \"\";\r\n  prodPrice: number = null;\r\n  prodWholesalePrice: number = null;\r\n  prodCost: number = null;\r\n  prodCat: any = \"\";\r\n  listProduct: any;\r\n  isProdCode000000: boolean;\r\n\r\n  formProduct: FormGroup;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public barcodeScanner: BarcodeScanner,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    public sp: StorageProvider,\r\n    public toastCtrl: ToastController,\r\n    public events: Events,\r\n    public camera: Camera,\r\n    public alertCtrl: AlertController,\r\n    private formBuilder: FormBuilder,\r\n  ) {\r\n    this.isProdCode000000 = false;\r\n    this.prodCode = this.navParams.get(\"code\");\r\n    this.getUserData();\r\n    this.formProduct = this.formBuilder.group({\r\n      prodName: new FormControl(\"\", Validators.required),\r\n      prodPrice: new FormControl(0, Validators.required),\r\n      prodWholesalePrice: new FormControl(0, Validators.required),\r\n      prodCost: new FormControl(0, Validators.required),\r\n      currstock: new FormControl(0, Validators.required),\r\n      prodCat: new FormControl(\"\", Validators.required),\r\n      newprodCat: new FormControl(\"\", Validators.compose([])),\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad AddProductCategoryPage\");\r\n    this.getCategories();\r\n    this.disabled = false;\r\n  }\r\n\r\n  userdata;\r\n  uid;\r\n  currstock: number;\r\n\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          this.uid = this.userdata.id;\r\n          console.log(this.userdata);\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  newprodCat: any = \"\";\r\n  listCat: any;\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  image: any = \"\";\r\n\r\n  askCamera() {\r\n    const options: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n    const options1: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Gallery or Camera?\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Gallery\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Camera\");\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        message: msg1.value,\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: msg3.value,\r\n            handler: () => {\r\n              this.launchCamera(options);\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: msg2.value,\r\n            handler: () => {\r\n              this.launchCamera(options1);\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n  launchCamera(options) {\r\n    // const options: CameraOptions = {\r\n    //   quality: 20,\r\n    //   //sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n    //   destinationType: this.camera.DestinationType.DATA_URL,\r\n    //   encodingType: this.camera.EncodingType.JPEG,\r\n    //   mediaType: this.camera.MediaType.PICTURE,\r\n    //   correctOrientation: true,\r\n    //   targetHeight: 300,\r\n    //   targetWidth: 300,\r\n    //   allowEdit: false,\r\n    // };\r\n    this.camera\r\n      .getPicture(options)\r\n      .then(base64Image => {\r\n        this.image = \"data:image/png;base64,\" + base64Image;\r\n        // console.log(base64Image)\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  temp = \"na\";\r\n  upload_new(name: string) {\r\n    return new Promise(resolve => {\r\n      this.temp = \"prodImages/\" + this.uid + this.prodCode + name;\r\n      //LET REF be tied to a particular product- we save the url in the products db\r\n      const ref = firebase.storage().ref(\"prodImages/\" + this.uid + this.prodCode + name);\r\n\r\n      const uploadTask = ref.putString(this.image.split(\",\")[1], \"base64\");\r\n\r\n      this.temp = \"UPTask\";\r\n\r\n      uploadTask.then(snap => {\r\n        snap.ref.getDownloadURL().then(url => {\r\n          // do something with url here\r\n\r\n          this.produrl = url;\r\n          this.temp = url;\r\n\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  addCategory() {\r\n    //console.log(this.listCat + \" and \"+this.newprodCat);\r\n    if (this.newprodCat != \"\") {\r\n      const data = {\r\n        name: this.newprodCat,\r\n      };\r\n      this.sp.storageReady().then(() => {\r\n        this.sp.addCategory(data).then();\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 3000,\r\n          });\r\n          this.newprodCat = \"\";\r\n\r\n          //this.navCtrl.push(ProductListPage);\r\n          //this.events.publish('prodAdd:created',0);\r\n          // (this.navCtrl.parent as Tabs).select(0);\r\n          toast.present();\r\n        }, 1000);\r\n      });\r\n    }\r\n  }\r\n\r\n  clearFields() {\r\n    this.prodCode = \"\";\r\n    this.prodName = \"\";\r\n    this.prodPrice = null;\r\n    this.prodWholesalePrice = null;\r\n    this.prodCost = null;\r\n    this.prodCat = \"\";\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  addProdPic() {}\r\n\r\n  scanQR() {\r\n    this.barcodeScanner\r\n      .scan()\r\n      .then(barcodeData => {\r\n        this.prodCode = barcodeData.text;\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error\", err);\r\n      });\r\n  }\r\n  produrl: any = \"\";\r\n  disabled = false;\r\n\r\n  addproduct() {\r\n    if (this.prodCode == \"000000\") {\r\n      const msg = this.translateConfigService.getTranslatedMessage(\"Code not permitted. Please use a different code\");\r\n      this.isProdCode000000 = true;\r\n      return;\r\n    } else {\r\n      this.isProdCode000000 = false;\r\n    }\r\n\r\n    this.disabled = true;\r\n\r\n    if (!this.formProduct.valid || (this.prodCat == \"New\" && this.newprodCat == \"\")) {\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Incomplete\");\r\n      this.toastCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 1000,\r\n        })\r\n        .present();\r\n      this.disabled = false;\r\n    } else {\r\n      //old\r\n      if (this.prodCode == \"\" || this.prodCode == null || this.prodCode == undefined) {\r\n        this.prodCode = Math.round(Math.random() * 10000000).toString();\r\n        console.log(\"No Code ::\" + this.prodCode);\r\n      }\r\n\r\n      if (this.newprodCat != \"\") {\r\n        this.addCategory();\r\n        this.prodCat = this.newprodCat;\r\n      }\r\n      if (this.image == \"\") {\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Creating item, please wait a moment\");\r\n        this.toastCtrl\r\n          .create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          })\r\n          .present();\r\n\r\n        const data = {\r\n          code: this.prodCode,\r\n          name: this.prodName,\r\n          price: this.prodPrice,\r\n          wholesale_price: this.prodWholesalePrice,\r\n          cost: this.prodCost,\r\n          cat: this.prodCat,\r\n          url: this.produrl,\r\n          stock_qty: this.currstock,\r\n          //\"sub-group\": (productcode, itemslist)\r\n        };\r\n\r\n        console.log(data);\r\n        this.temp = JSON.stringify(data);\r\n        this.sp.storageReady().then(() => {\r\n          this.sp.addProduct(data);\r\n          setTimeout(() => {\r\n            const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n            const toast = this.toastCtrl.create({\r\n              // @ts-ignore\r\n              message: message.value,\r\n              duration: 2000,\r\n            });\r\n            this.prodCode = \"\";\r\n            this.prodName = \"\";\r\n            this.prodPrice = null;\r\n            this.prodWholesalePrice = null;\r\n            this.prodCat = \"\";\r\n            this.prodCost = null;\r\n            this.produrl = \"\";\r\n            this.currstock = null;\r\n            this.image = \"\";\r\n            this.disabled = false;\r\n\r\n            //this.navCtrl.push(ProductListPage);\r\n            this.events.publish(\"prodAdd:created\", 0);\r\n            toast.present();\r\n            toast.onDidDismiss(() => {\r\n              const msg = this.translateConfigService.getTranslatedMessage(\"Refresh page to see changes\");\r\n              this.events.publish(\"productUpdate:created\", 0);\r\n              this.toastCtrl\r\n                .create({\r\n                  //@ts-ignore\r\n                  message: msg.value,\r\n                  duration: 1500,\r\n                })\r\n                .present();\r\n            });\r\n          }, 1000);\r\n        });\r\n      } else {\r\n        this.temp = this.prodName;\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Creating item, please wait a moment\");\r\n        this.toastCtrl\r\n          .create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          })\r\n          .present();\r\n        this.upload_new(this.prodName).then(() => {\r\n          const data = {\r\n            code: this.prodCode,\r\n            name: this.prodName,\r\n            price: this.prodPrice,\r\n            wholesale_price: this.prodWholesalePrice,\r\n            cost: this.prodCost,\r\n            cat: this.prodCat,\r\n            url: this.produrl,\r\n            stock_qty: this.currstock,\r\n            //\"sub-group\": (productcode, itemslist)\r\n          };\r\n\r\n          console.log(data);\r\n          this.temp = JSON.stringify(data);\r\n\r\n          this.sp.storageReady().then(() => {\r\n            this.sp.addProduct(data);\r\n            setTimeout(() => {\r\n              const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n              const toast = this.toastCtrl.create({\r\n                // @ts-ignore\r\n                message: message.value,\r\n                duration: 2000,\r\n              });\r\n              this.prodCode = \"\";\r\n              this.prodName = \"\";\r\n              this.prodPrice = 0;\r\n              this.prodWholesalePrice = 0;\r\n              this.prodCat = \"\";\r\n              this.prodCost = 0;\r\n              this.produrl = \"\";\r\n              this.image = \"\";\r\n              this.disabled = false;\r\n\r\n              //this.navCtrl.push(ProductListPage);\r\n              this.events.publish(\"prodAdd:created\", 0);\r\n              toast.present();\r\n              toast.onDidDismiss(() => {\r\n                const msg = this.translateConfigService.getTranslatedMessage(\"Refresh page to see changes\");\r\n                this.toastCtrl\r\n                  .create({\r\n                    //@ts-ignore\r\n                    message: msg.value,\r\n                    duration: 1500,\r\n                  })\r\n                  .present();\r\n              });\r\n            }, 1000);\r\n          });\r\n        });\r\n      }\r\n      this.events.publish(\"productUpdate:created\");\r\n      this.navCtrl.pop();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addproduct/addproduct.ts","import { Component } from \"@angular/core\";\r\nimport { NavController, NavParams, Events, AlertController } from \"ionic-angular\";\r\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { ToastController } from \"ionic-angular\";\r\nimport { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport firebase from \"firebase\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { TransactionHomePage } from \"../transaction-home/transaction-home\";\r\n\r\n@Component({\r\n  selector: \"page-add-prod-signup\",\r\n  templateUrl: \"add-prod-signup.html\",\r\n})\r\nexport class AddProdSignupPage {\r\n  prodCode: any = \"\";\r\n  prodName: any = \"\";\r\n  prodPrice: number = null;\r\n  prodWholesalePrice: number = null;\r\n  prodCost: number = null;\r\n  prodCat: any = \"\";\r\n  listProduct: any;\r\n  isProdCode000000: boolean;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public barcodeScanner: BarcodeScanner,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    public sp: StorageProvider,\r\n    public toastCtrl: ToastController,\r\n    public events: Events,\r\n    public camera: Camera,\r\n    public alertCtrl: AlertController,\r\n  ) {\r\n    this.isProdCode000000 = false;\r\n    this.prodCode = this.navParams.get(\"code\");\r\n    this.getUserData();\r\n  }\r\n  mode = 0;\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad AddProductCategoryPage\");\r\n    this.getCategories();\r\n    this.disabled = false;\r\n    this.mode = 1;\r\n  }\r\n\r\n  addMode() {\r\n    this.mode++;\r\n  }\r\n\r\n  remMode() {\r\n    this.mode--;\r\n  }\r\n\r\n  userdata;\r\n  uid;\r\n  currstock: number;\r\n\r\n  async getUserData() {\r\n    return new Promise(resolve => {\r\n      this.sp.storageReady().then(() => {\r\n        this.sp\r\n          .getUserDat()\r\n          .then(async val => {\r\n            if (val) {\r\n              this.userdata = JSON.parse(val);\r\n              console.log(this.userdata);\r\n              //this.setUsrLang();\r\n              resolve();\r\n            } else {\r\n              await this.getUserData();\r\n            }\r\n          })\r\n          .catch(err => {\r\n            alert(\"Error: \" + err);\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  newprodCat: any = \"\";\r\n  listCat: any;\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  image: any = \"\";\r\n\r\n  askCamera() {\r\n    const options: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.CAMERA,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n    const options1: CameraOptions = {\r\n      quality: 20,\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.PNG,\r\n      mediaType: this.camera.MediaType.PICTURE,\r\n      correctOrientation: true,\r\n      targetHeight: 300,\r\n      targetWidth: 300,\r\n      allowEdit: false,\r\n    };\r\n\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Gallery or Camera?\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Gallery\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Camera\");\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        message: msg1.value,\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: msg3.value,\r\n            handler: () => {\r\n              this.launchCamera(options);\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: msg2.value,\r\n            handler: () => {\r\n              this.launchCamera(options1);\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n  launchCamera(options) {\r\n    // const options: CameraOptions = {\r\n    //   quality: 20,\r\n    //   //sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n    //   destinationType: this.camera.DestinationType.DATA_URL,\r\n    //   encodingType: this.camera.EncodingType.JPEG,\r\n    //   mediaType: this.camera.MediaType.PICTURE,\r\n    //   correctOrientation: true,\r\n    //   targetHeight: 300,\r\n    //   targetWidth: 300,\r\n    //   allowEdit: false,\r\n    // };\r\n    this.camera\r\n      .getPicture(options)\r\n      .then(base64Image => {\r\n        this.image = \"data:image/png;base64,\" + base64Image;\r\n        // console.log(base64Image)\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  temp = \"na\";\r\n  upload_new(name: string) {\r\n    return new Promise(resolve => {\r\n      this.temp = \"prodImages/\" + this.uid + this.prodCode + name;\r\n      //LET REF be tied to a particular product- we save the url in the products db\r\n      const ref = firebase.storage().ref(\"prodImages/\" + this.uid + this.prodCode + name);\r\n\r\n      const uploadTask = ref.putString(this.image.split(\",\")[1], \"base64\");\r\n\r\n      this.temp = \"UPTask\";\r\n\r\n      uploadTask.then(snap => {\r\n        snap.ref.getDownloadURL().then(url => {\r\n          // do something with url here\r\n\r\n          this.produrl = url;\r\n          this.temp = url;\r\n\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  addCategory() {\r\n    //console.log(this.listCat + \" and \"+this.newprodCat);\r\n    if (this.newprodCat != \"\") {\r\n      const data = {\r\n        name: this.newprodCat,\r\n      };\r\n      this.sp.storageReady().then(() => {\r\n        this.sp.addCategory(data).then();\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 3000,\r\n          });\r\n          this.newprodCat = \"\";\r\n\r\n          //this.navCtrl.push(ProductListPage);\r\n          //this.events.publish('prodAdd:created',0);\r\n          // (this.navCtrl.parent as Tabs).select(0);\r\n          toast.present();\r\n        }, 1000);\r\n      });\r\n    }\r\n  }\r\n\r\n  addProdMode() {\r\n    this.addproduct();\r\n  }\r\n\r\n  startApp() {\r\n    this.navCtrl.setRoot(TransactionHomePage, {\r\n      data: \"newUser\",\r\n      lang: this.translateConfigService.getCurrentLanguage(),\r\n    }); //navigate to feeds page\r\n    this.events.publish(\"newUser\");\r\n  }\r\n\r\n  clearFields() {\r\n    this.prodCode = \"\";\r\n    this.prodName = \"\";\r\n    this.prodPrice = null;\r\n    this.prodWholesalePrice = null;\r\n    this.prodCost = null;\r\n    this.prodCat = \"\";\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  addProdPic() {}\r\n\r\n  scanQR() {\r\n    this.barcodeScanner\r\n      .scan()\r\n      .then(barcodeData => {\r\n        this.prodCode = barcodeData.text;\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error\", err);\r\n      });\r\n  }\r\n  produrl: any = \"\";\r\n  disabled = false;\r\n\r\n  addproduct() {\r\n    if (this.prodCode == \"000000\") {\r\n      const msg = this.translateConfigService.getTranslatedMessage(\"Code not permitted. Please use a different code\");\r\n      this.isProdCode000000 = true;\r\n      return;\r\n    } else {\r\n      this.isProdCode000000 = false;\r\n    }\r\n\r\n    this.disabled = true;\r\n\r\n    if (this.prodCat == \"New\" && this.newprodCat == \"\") {\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Incomplete\");\r\n      this.toastCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 1000,\r\n        })\r\n        .present();\r\n      this.disabled = false;\r\n    } else {\r\n      //old\r\n      if (this.prodCode == \"\" || this.prodCode == null || this.prodCode == undefined) {\r\n        this.prodCode = Math.round(Math.random() * 10000000).toString();\r\n        console.log(\"No Code ::\" + this.prodCode);\r\n      }\r\n\r\n      if (this.newprodCat != \"\") {\r\n        this.addCategory();\r\n        this.prodCat = this.newprodCat;\r\n      }\r\n      if (this.image == \"\") {\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Creating item, please wait a moment\");\r\n        this.toastCtrl\r\n          .create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          })\r\n          .present();\r\n\r\n        const data = {\r\n          code: this.prodCode,\r\n          name: this.prodName,\r\n          price: this.prodPrice,\r\n          wholesale_price: this.prodWholesalePrice,\r\n          cost: this.prodCost,\r\n          cat: this.prodCat,\r\n          url: this.produrl,\r\n          stock_qty: this.currstock,\r\n          //\"sub-group\": (productcode, itemslist)\r\n        };\r\n\r\n        const exprod = {\r\n          cat: \"Example\",\r\n          code: \"0000\",\r\n          cost: \"100\",\r\n          name: \"Example Product\",\r\n          price: \"0\",\r\n          stock_qty: \"10\",\r\n          url: \"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\",\r\n          wholesale_price: \"0\",\r\n        };\r\n\r\n        console.log(data);\r\n        this.temp = JSON.stringify(data);\r\n        this.sp.storageReady().then(() => {\r\n          this.sp.addProduct(data);\r\n          setTimeout(() => {\r\n            const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n            const toast = this.toastCtrl.create({\r\n              // @ts-ignore\r\n              message: message.value,\r\n              duration: 2000,\r\n            });\r\n            this.sp.deleteProduct(exprod);\r\n            this.prodCode = \"\";\r\n            this.prodName = \"\";\r\n            this.prodPrice = null;\r\n            this.prodWholesalePrice = null;\r\n            this.prodCat = \"\";\r\n            this.prodCost = null;\r\n            this.produrl = \"\";\r\n            this.currstock = null;\r\n            this.image = \"\";\r\n            this.disabled = false;\r\n\r\n            //this.navCtrl.push(ProductListPage);\r\n            this.events.publish(\"prodAdd:created\", 0);\r\n            toast.present();\r\n            toast.onDidDismiss(() => {\r\n              //const msg = this.translateConfigService.getTranslatedMessage(\"Refresh page to see changes\");\r\n              this.events.publish(\"productUpdate:created\", 0);\r\n              this.mode++;\r\n              // this.toastCtrl\r\n              //   .create({\r\n              //     //@ts-ignore\r\n              //     message: msg.value,\r\n              //     duration: 1500,\r\n              //   })\r\n              //   .present();\r\n            });\r\n          }, 1000);\r\n        });\r\n      } else {\r\n        this.temp = this.prodName;\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Creating item, please wait a moment\");\r\n        this.toastCtrl\r\n          .create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 2000,\r\n          })\r\n          .present();\r\n        this.upload_new(this.prodName).then(() => {\r\n          const data = {\r\n            code: this.prodCode,\r\n            name: this.prodName,\r\n            price: this.prodPrice,\r\n            wholesale_price: this.prodWholesalePrice,\r\n            cost: this.prodCost,\r\n            cat: this.prodCat,\r\n            url: this.produrl,\r\n            stock_qty: this.currstock,\r\n            //\"sub-group\": (productcode, itemslist)\r\n          };\r\n\r\n          console.log(data);\r\n          this.temp = JSON.stringify(data);\r\n\r\n          this.sp.storageReady().then(() => {\r\n            this.sp.addProduct(data);\r\n            setTimeout(() => {\r\n              const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n              const toast = this.toastCtrl.create({\r\n                // @ts-ignore\r\n                message: message.value,\r\n                duration: 2000,\r\n              });\r\n              this.prodCode = \"\";\r\n              this.prodName = \"\";\r\n              this.prodPrice = 0;\r\n              this.prodWholesalePrice = 0;\r\n              this.prodCat = \"\";\r\n              this.prodCost = 0;\r\n              this.produrl = \"\";\r\n              this.image = \"\";\r\n              this.disabled = false;\r\n\r\n              //this.navCtrl.push(ProductListPage);\r\n              this.events.publish(\"prodAdd:created\", 0);\r\n              toast.present();\r\n              this.mode++;\r\n              // toast.onDidDismiss(() => {\r\n              //   //const msg = this.translateConfigService.getTranslatedMessage(\"Refresh page to see changes\");\r\n              //   // this.toastCtrl\r\n              //   //   .create({\r\n              //   //     //@ts-ignore\r\n              //   //     message: msg.value,\r\n              //   //     duration: 1500,\r\n              //   //   })\r\n              //   //   .present();\r\n              // });\r\n            }, 1000);\r\n          });\r\n        });\r\n      }\r\n      this.events.publish(\"productUpdate:created\");\r\n      //this.navCtrl.pop();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-prod-signup/add-prod-signup.ts","import { Injectable, ViewChild } from \"@angular/core\";\r\nimport { Storage } from \"@ionic/storage\";\r\nimport firebase from \"firebase\";\r\nimport { Nav, NavController, ToastController } from \"ionic-angular\";\r\nimport moment from \"moment\";\r\nimport uniqid from \"uniqid\";\r\nimport {\r\n  convertTimestampToDate,\r\n  queryCollection,\r\n  queryUser,\r\n  updateCollectionWithTransaction,\r\n} from \"./utilities/firestore\";\r\nimport { syncDocuments, transactionCallback } from \"./utilities/backupStorage\";\r\nimport { initializeFirebase } from \"../../utilities/initializeFirebase\";\r\nimport { LocalNotifications } from \"@ionic-native/local-notifications\";\r\n\r\n@Injectable()\r\nexport class StorageProvider {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  // main data objects\r\n  products: any = [];\r\n  categories: any = [];\r\n  transactions: any = [];\r\n  user: any = {};\r\n  contacts: any = [];\r\n  summary: any = [];\r\n  coach: any = {};\r\n\r\n  static get parameters() {\r\n    return [[Storage]];\r\n  }\r\n\r\n  constructor(\r\n    public storage: Storage,\r\n    public toastCtrl: ToastController,\r\n    public navCtrl: NavController,\r\n    private localNotif: LocalNotifications,\r\n  ) {}\r\n\r\n  async isThereFirebase(): Promise<boolean> {\r\n    const isThereFirebase = await initializeFirebase();\r\n    if (!isThereFirebase) console.log(\"no firebase\");\r\n    return isThereFirebase;\r\n  }\r\n\r\n  async hasData(): Promise<boolean> {\r\n    await this.storage.ready();\r\n    const userInMemory = JSON.parse(await this.getUserDat());\r\n    const productsInMemory = JSON.parse(await this.getProducts());\r\n    const transactionsInMemory = JSON.parse(await this.getTransactions());\r\n    const userCondition = userInMemory && userInMemory.id;\r\n    const productCondition = productsInMemory && productsInMemory.length > 0;\r\n    const transactionCondition = transactionsInMemory && transactionsInMemory.length > 0;\r\n\r\n    return userCondition && productCondition && transactionCondition;\r\n  }\r\n\r\n  async clearMem() {\r\n    await this.storage.clear();\r\n  }\r\n\r\n  async saveInMemory(): Promise<void> {\r\n    await this.storage.ready();\r\n    await this.storage.set(\"categories\", JSON.stringify(this.categories));\r\n    await this.storage.set(\"products\", JSON.stringify(this.products));\r\n    await this.storage.set(\"transactions\", JSON.stringify(this.transactions));\r\n    await this.storage.set(\"user\", JSON.stringify(this.user));\r\n    await this.storage.set(\"contacts\", JSON.stringify(this.contacts));\r\n    await this.storage.set(\"summary\", JSON.stringify(this.summary));\r\n    await this.storage.set(\"coach\", JSON.stringify(this.coach));\r\n  }\r\n\r\n  async setMem(options?: { force?: boolean }): Promise<boolean> {\r\n    // check if there is internet and firebase\r\n    const isThereFirebase = await this.isThereFirebase();\r\n    if (!isThereFirebase) return false;\r\n\r\n    const defaultOptions = { force: false };\r\n    const { force } = { ...defaultOptions, ...options };\r\n    await this.storage.ready();\r\n\r\n    // check if user data is already in memory\r\n    const dataExist = await this.hasData();\r\n    if (!force && dataExist) return false;\r\n\r\n    console.log(\"setMem(): query user data from firestore\");\r\n    // query user from firestore\r\n    let id, user;\r\n    try {\r\n      const result = await queryUser();\r\n      id = result.id;\r\n      user = result.user;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    if (!id || !user) return false;\r\n\r\n    // extract categories and business performance (as summary)\r\n    this.categories = user.categories ? user.categories.map(category => convertTimestampToDate(category)) : [];\r\n    if (!user.businessPerformance) {\r\n      this.summary = [];\r\n      for (let i = 0; i <= 30; i++) this.summary.push({ expenses: 0, revenue: 0, profit: 0 });\r\n    } else this.summary = user.businessPerformance;\r\n\r\n    // query sub collections\r\n    try {\r\n      for (const path of [\"products\", \"transactions\", \"contacts\"]) {\r\n        this[path] = await queryCollection(`/users/${id}/${path}`);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    // prune user object to reduce data overhead\r\n    for (const key of [\"businessPerformance\", \"categories\"]) delete user[key];\r\n    this.user = { ...user, id };\r\n\r\n    // save user data in memory\r\n    await this.saveInMemory();\r\n\r\n    // set last backup to current time\r\n    await this.setLastBackup();\r\n\r\n    return true;\r\n  }\r\n\r\n  // setcoach() {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     this.storage.ready().then(async () => {\r\n  //       const tempvid = [];\r\n  //       await firebase\r\n  //         .firestore()\r\n  //         .collection(\"tutorial\")\r\n  //         .get()\r\n  //         .then(doc => {\r\n  //           //console.log(doc)\r\n  //           doc.docs.forEach(element => {\r\n  //             console.log(element);\r\n\r\n  //             element.data().video.forEach(element2 => {\r\n  //               element2.language = element.id;\r\n  //               tempvid.push(element2);\r\n  //             });\r\n  //             //tempvid = element.data().video;\r\n  //           });\r\n  //         });\r\n  //       this.coach = {\r\n  //         video: tempvid,\r\n  //       };\r\n  //       resolve();\r\n  //     });\r\n  //   });\r\n  // }\r\n\r\n  // async getCoach() {\r\n  //   return await this.storage.get(\"coach\");\r\n  // }\r\n\r\n  async backupStorage(): Promise<void> {\r\n    const isThereFirebase = await this.isThereFirebase();\r\n    if (!isThereFirebase) return;\r\n\r\n    const user = JSON.parse(await this.getUserDat());\r\n    let lastBackup = await this.getLastBackup();\r\n    lastBackup = lastBackup ? lastBackup : new Date(\"2000-01-01T00:00:00.000Z\");\r\n    console.log(`backup: lastBackup is ${moment(lastBackup).format()}`);\r\n\r\n    const [productDeviceDocs, transactionDeviceDocs, categoryDeviceDocs, contactDeviceDocs] = [\r\n      JSON.parse(await this.getProducts()),\r\n      JSON.parse(await this.getTransactions()),\r\n      JSON.parse(await this.getCategories()),\r\n      JSON.parse(await this.getContacts()),\r\n    ];\r\n    const db = firebase.firestore();\r\n\r\n    // handle sub collection documents\r\n    const subCollections = [\r\n      {\r\n        id: \"products\",\r\n        deviceDocs: productDeviceDocs,\r\n        cloudDocs: [],\r\n      },\r\n      {\r\n        id: \"transactions\",\r\n        deviceDocs: transactionDeviceDocs,\r\n        cloudDocs: [],\r\n        callback: transactionCallback,\r\n        output: {\r\n          changeInCash: 0,\r\n          products: productDeviceDocs,\r\n        },\r\n      },\r\n      {\r\n        id: \"contacts\",\r\n        deviceDocs: contactDeviceDocs,\r\n        cloudDocs: [],\r\n      },\r\n    ];\r\n\r\n    try {\r\n      for (const collection of subCollections) {\r\n        // query sub collection documents with updated at later than last backup\r\n        collection.cloudDocs = await queryCollection(`/users/${user.id}/${collection.id}`, { lastBackup });\r\n      }\r\n      // modify sub collection documents\r\n      for (const collection of subCollections) {\r\n        syncDocuments(collection);\r\n      }\r\n\r\n      let changeInCash = 0;\r\n      for (const collection of subCollections) {\r\n        if (collection.id === \"transactions\") changeInCash = collection.output.changeInCash;\r\n      }\r\n      const oldCashBalance = Number(user.cash_balance);\r\n      user.cash_balance = changeInCash + (!isNaN(oldCashBalance) ? oldCashBalance : 0);\r\n      console.log(`backup: change in cash balance: ${changeInCash}, new cash balance: ${user.cash_balance}`);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // run with firestore transactions\r\n      await db.runTransaction(async t => {\r\n        console.log(\"backup: run transaction\");\r\n\r\n        // update user\r\n        const { id, user: userInCloud } = await queryUser();\r\n        if (!id || !userInCloud) throw new Error(\"backup error: no user document found\");\r\n        // if user is later than the one in cloud, update document\r\n        const categories = {\r\n          deviceDocs: categoryDeviceDocs,\r\n          cloudDocs: userInCloud.categories\r\n            ? userInCloud.categories.map(category => convertTimestampToDate(category))\r\n            : [],\r\n        };\r\n        syncDocuments(categories);\r\n\r\n        const newUser = moment(user.updatedAt).isSameOrAfter(moment(userInCloud.updatedAt)) ? user : userInCloud;\r\n        newUser.cash_balance = user.cash_balance;\r\n        newUser.updatedAt = new Date();\r\n        this.user = newUser;\r\n        const userReference = db.collection(\"users\").doc(id);\r\n        t.update(userReference, { ...newUser });\r\n\r\n        // update sub collection documents\r\n        for (const collection of subCollections) {\r\n          const documents = collection.deviceDocs.filter(document =>\r\n            moment(document.updatedAt).isSameOrAfter(moment(lastBackup)),\r\n          );\r\n          await updateCollectionWithTransaction(t, `/users/${id}/${collection.id}`, documents);\r\n        }\r\n\r\n        // set new device documents to be saved in memory\r\n        this.user = newUser;\r\n        this.products = productDeviceDocs;\r\n        this.transactions = transactionDeviceDocs;\r\n        this.categories = categoryDeviceDocs;\r\n        this.contacts = contactDeviceDocs;\r\n        this.summary = JSON.parse(await this.getSummary());\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      return;\r\n    }\r\n\r\n    // update memory\r\n    await this.saveInMemory();\r\n    // update last backup\r\n    await this.setLastBackup();\r\n    console.log(\"backup: completed\");\r\n  }\r\n\r\n  async setUserDat(user): Promise<void> {\r\n    await this.storage.ready();\r\n    user.updatedAt = new Date();\r\n    await this.storage.set(\"user\", JSON.stringify(user));\r\n  }\r\n\r\n  async getUserDat(): Promise<string | null> {\r\n    await this.storage.ready();\r\n    return await this.storage.get(\"user\");\r\n  }\r\n\r\n  async addCategory(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const categories = JSON.parse(await this.getCategories());\r\n\r\n    data.id = uniqid(); // generates a unique id to track categories\r\n    data.updatedAt = new Date();\r\n    categories.push(data);\r\n    await this.storage.set(\"categories\", JSON.stringify(categories));\r\n  }\r\n\r\n  async getCategories(): Promise<string | null> {\r\n    await this.storage.ready();\r\n    let categories = JSON.parse(await this.storage.get(\"categories\"));\r\n    if (!categories) categories = [];\r\n\r\n    const filteredCategories = categories.filter(category => !category.isDisabled);\r\n    return JSON.stringify(filteredCategories);\r\n  }\r\n\r\n  async deleteCategory(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const categories = JSON.parse(await this.getCategories());\r\n\r\n    const changes = {\r\n      updatedAt: new Date(),\r\n      isDisabled: true,\r\n    };\r\n    const newCategories = categories.map(category =>\r\n      category.id === data.id ? { ...category, ...changes } : category,\r\n    );\r\n    await this.storage.set(\"categories\", JSON.stringify(newCategories));\r\n  }\r\n\r\n  async getSummary(): Promise<string | null> {\r\n    await this.storage.ready();\r\n    let summary = JSON.parse(await this.storage.get(\"summary\"));\r\n    if (!summary) summary = [];\r\n    return JSON.stringify(summary);\r\n  }\r\n\r\n  async addProduct(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const products = JSON.parse(await this.getProducts());\r\n\r\n    data.updatedAt = new Date();\r\n    products.push(data);\r\n    await this.storage.set(\"products\", JSON.stringify(products));\r\n  }\r\n\r\n  async getProducts(): Promise<string | null> {\r\n    await this.storage.ready();\r\n    let products = JSON.parse(await this.storage.get(\"products\"));\r\n    if (!products) products = [];\r\n    return JSON.stringify(products);\r\n  }\r\n\r\n  async addTransactions(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const transactions = JSON.parse(await this.getTransactions());\r\n\r\n    data.updatedAt = new Date();\r\n    transactions.push(data);\r\n    await this.storage.set(\"transactions\", JSON.stringify(transactions));\r\n  }\r\n\r\n  async getTransactions(options?: { start?: Date; end?: Date }): Promise<string | null> {\r\n    await this.storage.ready();\r\n    const defaultOptions = { start: new Date(\"2000-01-01T00:00:00.000Z\"), end: new Date() };\r\n    const { start, end } = { ...defaultOptions, ...options };\r\n\r\n    let transactions = JSON.parse(await this.storage.get(\"transactions\"));\r\n    if (!transactions) transactions = [];\r\n    const filteredTransactions = transactions.filter(transaction =>\r\n      moment(transaction.datetime).isBetween(moment(start), moment(end)),\r\n    );\r\n    return JSON.stringify(filteredTransactions);\r\n  }\r\n\r\n  async deleteTransactions(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const transactions = JSON.parse(await this.getTransactions());\r\n\r\n    const changes = {\r\n      updatedAt: new Date(),\r\n      isDisabled: true,\r\n    };\r\n    const newTransactions = transactions.map(transaction =>\r\n      moment(transaction.datetime).isSame(moment(data.datetime)) && transaction.id === data.id\r\n        ? { ...transaction, ...changes }\r\n        : transaction,\r\n    );\r\n    await this.storage.set(\"transactions\", JSON.stringify(newTransactions));\r\n  }\r\n\r\n  async searchProduct(barcode): Promise<any[]> {\r\n    await this.storage.ready();\r\n    const products = JSON.parse(await this.getProducts());\r\n    return products.find(product => product.code === barcode);\r\n  }\r\n\r\n  async updateProduct(data, old_code): Promise<void> {\r\n    await this.storage.ready();\r\n    const products = JSON.parse(await this.getProducts());\r\n\r\n    data.updatedAt = new Date();\r\n    const newProducts = products.map(product => (product.code === old_code && product.id === data.id ? data : product));\r\n    await this.storage.set(\"products\", JSON.stringify(newProducts));\r\n  }\r\n\r\n  async deleteProduct(data): Promise<void> {\r\n    await this.storage.ready();\r\n    const products = JSON.parse(await this.getProducts());\r\n\r\n    const changes = {\r\n      updatedAt: new Date(),\r\n      isDisabled: true,\r\n    };\r\n    const newProducts = products.map(product =>\r\n      product.code === data.code && product.id === data.id ? { ...product, ...changes } : product,\r\n    );\r\n    await this.storage.set(\"products\", JSON.stringify(newProducts));\r\n  }\r\n\r\n  async saveContacts(newContacts: any[], manualAdd: boolean): Promise<void> {\r\n    if (!newContacts || newContacts.length === 0) return;\r\n    const contacts = JSON.parse(await this.getContacts());\r\n\r\n    newContacts.forEach(newContact => {\r\n      const index = contacts.findIndex(contact => contact.displayName === newContact.displayName);\r\n      if (index != -1) {\r\n        const { id, balance, transacHistory, transac_new, dueDate, discount } = contacts[index];\r\n        contacts[index] = {\r\n          ...newContact,\r\n          id,\r\n          balance,\r\n          dueDate,\r\n          transacHistory,\r\n          transac_new,\r\n          discount,\r\n          updatedAt: new Date(),\r\n        };\r\n      } else {\r\n        const defaultKeys = {\r\n          balance: 0,\r\n          discount: 0,\r\n          dueDate: \"\",\r\n          transacHistory: [],\r\n          transac_new: [],\r\n          updatedAt: new Date(),\r\n        };\r\n        contacts.push({ ...newContact, ...defaultKeys });\r\n      }\r\n    });\r\n\r\n    contacts.sort((a, b) => a.displayName.localeCompare(b.displayName));\r\n    await this.storage.set(\"contacts\", JSON.stringify(contacts));\r\n  }\r\n\r\n  async updateContactDisc(contactName, newDisc): Promise<void> {\r\n    const contacts = JSON.parse(await this.getContacts());\r\n    const contact = contacts.find(contact => contact.displayName === contactName);\r\n    if (contact) {\r\n      contact.discount = newDisc;\r\n      contact.updatedAt = new Date();\r\n    } else {\r\n      console.log(\"No contact found for discount change\");\r\n    }\r\n    await this.storage.set(\"contacts\", JSON.stringify(contacts));\r\n  }\r\n\r\n  async updateContactDate(contactName, newDate): Promise<void> {\r\n    const contacts = JSON.parse(await this.getContacts());\r\n    const contact = contacts.find(contact => contact.displayName === contactName);\r\n    if (contact) {\r\n      // this.localNotif.hasPermission().then(permission=>{\r\n      //   if(!permission){\r\n      //     this.localNotif.requestPermission().then(granted=>{\r\n      //       if(!granted){\r\n\r\n      //       }\r\n      //     });\r\n      //   }\r\n\r\n      // }).catch(e=>console.log(\"Permission error\", e));\r\n      contact.dueDate = newDate;\r\n      contact.updatedAt = new Date();\r\n    } else {\r\n      console.log(\"No contact found for date change\");\r\n    }\r\n    await this.storage.set(\"contacts\", JSON.stringify(contacts));\r\n  }\r\n\r\n  async getContacts(): Promise<string | null> {\r\n    await this.storage.ready();\r\n    let contacts = JSON.parse(await this.storage.get(\"contacts\"));\r\n    if (!contacts) contacts = [];\r\n    return JSON.stringify(contacts);\r\n  }\r\n\r\n  async deleteContact(contactName): Promise<void> {\r\n    const contacts = JSON.parse(await this.getContacts());\r\n    for (let i = 0; i < contacts.length; i++) {\r\n      if (contacts[i].displayName === contactName) {\r\n        contacts.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    await this.storage.set(\"contacts\", JSON.stringify(contacts));\r\n  }\r\n\r\n  async updateContactTransaction(contactName, newTransactions): Promise<void> {\r\n    await this.storage.ready();\r\n    const contacts = JSON.parse(await this.getContacts());\r\n\r\n    const contact = contacts.find(contact => contact.displayName === contactName);\r\n    if (contact) {\r\n      let newBalance = contact.balance ? contact.balance : 0;\r\n      newTransactions.forEach(transaction => (newBalance += transaction.amount));\r\n      contact.transacHistory = newTransactions.concat(contact.transacHistory);\r\n      contact.balance = newBalance;\r\n      contact.updatedAt = new Date();\r\n    } else {\r\n      console.log(\"no contact found to add new transaction\");\r\n    }\r\n    await this.storage.set(\"contacts\", JSON.stringify(contacts));\r\n  }\r\n\r\n  async setLastBackup(time?: Date): Promise<void> {\r\n    await this.storage.ready();\r\n    if (!time) time = new Date();\r\n    await this.storage.set(\"lastBackup\", time);\r\n  }\r\n\r\n  async getLastBackup(): Promise<Date | null> {\r\n    await this.storage.ready();\r\n    return await this.storage.get(\"lastBackup\");\r\n  }\r\n\r\n  async storageReady(): Promise<LocalForage> {\r\n    return await this.storage.ready();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/storage.ts","//translate-config.service.ts\r\nimport { Injectable } from \"@angular/core\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\n\r\n// @ts-ignore\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class TranslateConfigService {\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  getDefaultLanguage() {\r\n    const language = this.translate.getBrowserLang();\r\n    this.translate.setDefaultLang(language);\r\n    console.log(`device default language: ${language}`);\r\n    return language;\r\n  }\r\n\r\n  setLanguage(setLang) {\r\n    this.translate.use(setLang);\r\n  }\r\n\r\n  getTranslatedMessage(message) {\r\n    return this.translate.get(message);\r\n  }\r\n\r\n  getCurrentLanguage() {\r\n    return this.translate.currentLang;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/translation/translate-config.service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\n\r\n// @ts-ignore\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class GeolocationService {\r\n  constructor(private geolocation: Geolocation) {}\r\n\r\n  getCoordinates() {\r\n    return new Promise((resolve, reject) => {\r\n      this.geolocation\r\n        .getCurrentPosition()\r\n        .then(position => {\r\n          console.log(`geolocation -> latitude: ${position.coords.latitude}, longitude: ${position.coords.longitude}`);\r\n          resolve(position.coords);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/geolocation/geolocation.service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 144;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 144\n// module chunks = 10","var map = {\n\t\"../pages/add-product-category/add-product-category.module\": [\n\t\t188\n\t],\n\t\"../pages/all-transaction/all-transaction.module\": [\n\t\t553,\n\t\t9\n\t],\n\t\"../pages/business-card/business-card.module\": [\n\t\t558,\n\t\t8\n\t],\n\t\"../pages/contact-us/contact-us.module\": [\n\t\t552,\n\t\t7\n\t],\n\t\"../pages/contacts/contacts.module\": [\n\t\t336\n\t],\n\t\"../pages/credit-reminder/credit-reminder.module\": [\n\t\t339\n\t],\n\t\"../pages/expense-general/expense-general.module\": [\n\t\t555,\n\t\t3\n\t],\n\t\"../pages/help/help.module\": [\n\t\t554,\n\t\t2\n\t],\n\t\"../pages/income-transaction/income-transaction.module\": [\n\t\t557,\n\t\t6\n\t],\n\t\"../pages/individual-contact/individual-contact.module\": [\n\t\t356\n\t],\n\t\"../pages/loan-home/loan-home.module\": [\n\t\t556,\n\t\t1\n\t],\n\t\"../pages/login/login.module\": [\n\t\t348\n\t],\n\t\"../pages/summary-graphs/summary-graphs.module\": [\n\t\t559,\n\t\t5\n\t],\n\t\"../pages/transaction-home/transaction-home.module\": [\n\t\t352\n\t],\n\t\"../pages/transaction-product/transaction-product.module\": [\n\t\t353\n\t],\n\t\"../pages/update-stock/update-stock.module\": [\n\t\t560,\n\t\t0\n\t],\n\t\"../pages/user-data/user-data.module\": [\n\t\t354\n\t],\n\t\"../pages/user-profile/user-profile.module\": [\n\t\t561,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 187;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 187\n// module chunks = 10","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { AddProductCategoryPage } from \"./add-product-category\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [AddProductCategoryPage],\r\n  imports: [IonicPageModule.forChild(AddProductCategoryPage), TranslateModule.forChild()],\r\n  exports: [AddProductCategoryPage],\r\n})\r\nexport class AddProductCategoryPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-product-category/add-product-category.module.ts","import firebase from \"firebase\";\r\nimport { hasInternet } from \"./hasInternet\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyBlxUkCX8OPsb9QL2p_jN8vaHdb5LhsS7A\",\r\n  authDomain: \"open-fintech.firebaseapp.com\",\r\n  databaseURL: \"https://open-fintech.firebaseio.com\",\r\n  projectId: \"open-fintech\",\r\n  storageBucket: \"open-fintech.appspot.com\",\r\n  messagingSenderId: \"1001643033524\",\r\n  measurementId: \"G-CECMRG504L\",\r\n};\r\n\r\nexport const initializeFirebase = async (): Promise<boolean> => {\r\n  // check if there is internet and if there is an app running already\r\n  const condition = (await hasInternet()) && firebase.apps.length === 0;\r\n  if (condition) {\r\n    console.log(\"initialize firebase app\");\r\n    firebase.initializeApp(config);\r\n  }\r\n\r\n  return (await hasInternet()) && firebase.apps.length !== 0;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/initializeFirebase.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { ContactsPage } from \"./contacts\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [ContactsPage],\r\n  imports: [IonicPageModule.forChild(ContactsPage), TranslateModule.forChild()],\r\n  exports: [ContactsPage],\r\n})\r\nexport class ContactsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contacts/contacts.module.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { CreditReminderPage } from \"./credit-reminder\";\r\n\r\n@NgModule({\r\n  declarations: [CreditReminderPage],\r\n  imports: [IonicPageModule.forChild(CreditReminderPage)],\r\n})\r\nexport class CreditReminderPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/credit-reminder/credit-reminder.module.ts","//commands based on https://github.com/humbertopiaia/escpos-commands-js/blob/master/src/commands.js\r\n//all the commands below may vary by printer, check the manual\r\nexport const commands = {\r\n  LF: [0x0a],\r\n  ESC: [0x1b],\r\n  FS: [0x1c],\r\n  GS: [0x1d],\r\n  US: [0x1f],\r\n  FF: [0x0c],\r\n  DLE: [0x10],\r\n  DC1: [0x11],\r\n  DC4: [0x14],\r\n  EOT: [0x04],\r\n  NUL: [0x00],\r\n  //EOL: [\\n],\r\n  HORIZONTAL_LINE: {\r\n    HR_58MM: \"================================\",\r\n    HR2_58MM: \"********************************\",\r\n  },\r\n  FEED_CONTROL_SEQUENCES: {\r\n    CTL_LF: [0x0a], // Print and line feed\r\n    CTL_FF: [0x0c], // Form feed\r\n    CTL_CR: [0x0d], // Carriage return\r\n    CTL_HT: [0x09], // Horizontal tab\r\n    CTL_VT: [0x0b], // Vertical tab\r\n    RST_HT: [0x1b, 0x44, 0x00], //Reset HT\r\n    SET_HT: [0x1b, 0x44, 0x10, 0x0f, 0x0f, 0x00], //Set HT\r\n  },\r\n  LINE_SPACING: {\r\n    LS_DEFAULT: [0x1b, 0x32],\r\n    LS_SET: [0x1b, 0x33],\r\n  },\r\n  HARDWARE: {\r\n    HW_INIT: [0x1b, 0x40], // Clear data in buffer and reset modes\r\n    HW_SELECT: [0x1b, 0x3d, 0x01], // Printer select\r\n    HW_RESET: [0x1b, 0x3f, 0x0a, 0x00], // Reset printer hardware\r\n  },\r\n  CASH_DRAWER: {\r\n    CD_KICK_2: [0x1b, 0x70, 0x00], // Sends a pulse to pin 2 []\r\n    CD_KICK_5: [0x1b, 0x70, 0x01], // Sends a pulse to pin 5 []\r\n  },\r\n  MARGINS: {\r\n    BOTTOM: [0x1b, 0x4f], // Fi0x bottom size\r\n    LEFT: [0x1b, 0x6c], // Fi0x left size\r\n    RIGHT: [0x1b, 0x51], // Fi0x right size\r\n  },\r\n  PAPER: {\r\n    PAPER_FULL_CUT: [0x1d, 0x56, 0x00], // Full cut paper\r\n    PAPER_PART_CUT: [0x1d, 0x56, 0x01], // Partial cut paper\r\n    PAPER_CUT_A: [0x1d, 0x56, 0x41], // Partial cut paper\r\n    PAPER_CUT_B: [0x1d, 0x56, 0x42], // Partial cut paper\r\n  },\r\n  TEXT_FORMAT: {\r\n    TXT_NORMAL: [0x1b, 0x21, 0x00], // Normal text\r\n    TXT_2HEIGHT: [0x1b, 0x21, 0x10], // Double height text\r\n    TXT_2WIDTH: [0x1b, 0x21, 0x20], // Double width text\r\n    TXT_4SQUARE: [0x1b, 0x21, 0x30], // Double width & height text\r\n    TXT_CUSTOM_SIZE: function(width, height) {\r\n      // other sizes\r\n      const widthDec = (width - 1) * 16;\r\n      const heightDec = height - 1;\r\n      const sizeDec = widthDec + heightDec;\r\n      return [0x1d, 0x21, String.fromCharCode(sizeDec)];\r\n    },\r\n\r\n    TXT_HEIGHT: {\r\n      1: [0x00],\r\n      2: [0x01],\r\n      3: [0x02],\r\n      4: [0x03],\r\n      5: [0x04],\r\n      6: [0x05],\r\n      7: [0x06],\r\n      8: [0x07],\r\n    },\r\n    TXT_WIDTH: {\r\n      1: [0x00],\r\n      2: [0x10],\r\n      3: [0x20],\r\n      4: [0x30],\r\n      5: [0x40],\r\n      6: [0x50],\r\n      7: [0x60],\r\n      8: [0x70],\r\n    },\r\n\r\n    TXT_UNDERL_OFF: [0x1b, 0x2d, 0x00], // Underline font OFF\r\n    TXT_UNDERL_ON: [0x1b, 0x2d, 0x01], // Underline font 1-dot ON\r\n    TXT_UNDERL2_ON: [0x1b, 0x2d, 0x02], // Underline font 2-dot ON\r\n    TXT_BOLD_OFF: [0x1b, 0x45, 0x00], // Bold font OFF\r\n    TXT_BOLD_ON: [0x1b, 0x45, 0x01], // Bold font ON\r\n    TXT_ITALIC_OFF: [0x1b, 0x35], // Italic font ON\r\n    TXT_ITALIC_ON: [0x1b, 0x34], // Italic font ON\r\n    TXT_FONT_A: [0x1b, 0x4d, 0x00], // Font type A\r\n    TXT_FONT_B: [0x1b, 0x4d, 0x01], // Font type B\r\n    TXT_FONT_C: [0x1b, 0x4d, 0x02], // Font type C\r\n    TXT_ALIGN_LT: [0x1b, 0x61, 0x00], // Left justification\r\n    TXT_ALIGN_CT: [0x1b, 0x61, 0x01], // Centering\r\n    TXT_ALIGN_RT: [0x1b, 0x61, 0x02], // Right justification\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/printer/printer-commands.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { LoginPage } from \"./login\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [LoginPage],\r\n  imports: [IonicPageModule.forChild(LoginPage), TranslateModule.forChild()],\r\n  exports: [LoginPage],\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { TransactionHomePage } from \"./transaction-home\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n@NgModule({\r\n  declarations: [TransactionHomePage],\r\n  imports: [IonicPageModule.forChild(TransactionHomePage), TranslateModule.forChild()],\r\n  exports: [TransactionHomePage],\r\n})\r\nexport class TransactionHomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction-home/transaction-home.module.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { TransactionProductPage } from \"./transaction-product\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [TransactionProductPage],\r\n  imports: [IonicPageModule.forChild(TransactionProductPage), TranslateModule.forChild()],\r\n  exports: [TransactionProductPage],\r\n})\r\nexport class TransactionProductPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction-product/transaction-product.module.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { UserDataPage } from './user-data';\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserDataPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(UserDataPage),\r\n    TranslateModule.forChild(),\r\n  ],\r\n})\r\nexport class UserDataPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-data/user-data.module.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams, ModalController } from \"ionic-angular\";\r\nimport { TransactionHomePage } from \"../transaction-home/transaction-home\";\r\nimport { UserProfilePage } from \"../user-profile/user-profile\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { BusinessCardPage } from \"../business-card/business-card\";\r\n\r\n/**\r\n * Generated class for the UserDataPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-user-data\",\r\n  templateUrl: \"user-data.html\",\r\n})\r\nexport class UserDataPage {\r\n  user: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: \"en\",\r\n    logo_url: \"\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n    email: \"\",\r\n  };\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private sp: StorageProvider,\r\n    private modalCtrl: ModalController,\r\n  ) {}\r\n\r\n  language: string;\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad UserDataPage\");\r\n    this.getUser();\r\n  }\r\n\r\n  goBack() {\r\n    this.navCtrl.setRoot(TransactionHomePage);\r\n  }\r\n\r\n  editProfile() {\r\n    this.navCtrl.push(UserProfilePage);\r\n  }\r\n\r\n  async getUser() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp.getUserDat().then(user => {\r\n        if (user == null) {\r\n          this.editProfile();\r\n        } else {\r\n          this.user = JSON.parse(user);\r\n          console.log(this.user.language);\r\n          if (this.user.language == \"en\") {\r\n            this.language = \" English\";\r\n          } else if (this.user.language == \"my\") {\r\n            this.language = \" \";\r\n          } else {\r\n            this.language = \"No language selected\";\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  bCard() {\r\n    const m = this.modalCtrl.create(BusinessCardPage, { data: this.user });\r\n    m.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-data/user-data.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { IndividualContactPage } from \"./individual-contact\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [IndividualContactPage],\r\n  imports: [IonicPageModule.forChild(IndividualContactPage), TranslateModule.forChild()],\r\n  exports: [IndividualContactPage],\r\n})\r\nexport class IndividualContactPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/individual-contact/individual-contact.module.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Tabs,\r\n  ToastController,\r\n  Events,\r\n  AlertController,\r\n  ModalController,\r\n} from \"ionic-angular\";\r\nimport firebase from \"firebase\";\r\nimport { AddProductPage } from \"../addproduct/addproduct\";\r\nimport { AllTransactionPage } from \"../all-transaction/all-transaction\";\r\nimport { IncomeTransactionPage } from \"../income-transaction/income-transaction\";\r\nimport { TransactionProductPage } from \"../transaction-product/transaction-product\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { LoginPage } from \"../login/login\";\r\nimport { ContactUsPage } from \"../contact-us/contact-us\";\r\nimport { SummaryGraphsPage } from \"../summary-graphs/summary-graphs\";\r\nimport { AppVersion } from \"@ionic-native/app-version\";\r\nimport axios from \"axios\";\r\nimport { Market } from \"@ionic-native/market\";\r\nimport { ContactsPage } from \"../contacts/contacts\";\r\nimport { hasInternet } from \"../../utilities/hasInternet\";\r\n\r\n/**\r\n * Generated class for the TransactionHomePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-transaction-home\",\r\n  templateUrl: \"transaction-home.html\",\r\n})\r\nexport class TransactionHomePage {\r\n  @ViewChild(\"myTabs\") tabRef: Tabs;\r\n\r\n  AllTransactions = AllTransactionPage;\r\n  IncomeTransactions = IncomeTransactionPage;\r\n  //ExpenseTransactions = ExpenseTransactionPage;\r\n  ExpenseTransactions = TransactionProductPage;\r\n  Contacts = ContactsPage;\r\n\r\n  Accounts = SummaryGraphsPage;\r\n\r\n  //Calculator = CalculatorPage;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private translateConfigService: TranslateConfigService,\r\n    public toastCtrl: ToastController,\r\n    public sp: StorageProvider,\r\n    public events: Events,\r\n    public alertCtrl: AlertController,\r\n    private modal: ModalController,\r\n    private appVersion: AppVersion,\r\n    private market: Market,\r\n  ) {\r\n    this.userdata.language = this.translateConfigService.getCurrentLanguage();\r\n    //this.getUserData();\r\n    //this.tutorial();\r\n    if (this.navParams.get(\"data\") == \"newUser\") {\r\n      this.delay(500).then(() => {\r\n        this.tutorial();\r\n        this.getUserData();\r\n      });\r\n    }\r\n    this.events.subscribe(\"newUser\", data => {\r\n      //this.events.unsubscribe(\"newUser\");\r\n      this.delay(500).then(() => {\r\n        this.tutorial();\r\n        this.getUserData();\r\n      });\r\n    });\r\n\r\n    this.events.subscribe(\"cbUpdate:created\", async data => {\r\n      await this.getUserData();\r\n    });\r\n    const mg1 = this.translateConfigService.getTranslatedMessage(\"Update available\");\r\n    const mg2 = this.translateConfigService.getTranslatedMessage(\"Update the app\");\r\n    const mg3 = this.translateConfigService.getTranslatedMessage(\"Not Now\");\r\n    const mg4 = this.translateConfigService.getTranslatedMessage(\"Update now\");\r\n    const url = \"https://us-central1-open-fintech.cloudfunctions.net/data/versionNumber\";\r\n\r\n    hasInternet().then(isThereInternet => {\r\n      if (isThereInternet)\r\n        axios\r\n          .get(url)\r\n          .then(response => {\r\n            const newestVersion = response.data.versionNumber;\r\n            this.appVersion\r\n              .getVersionNumber()\r\n              .then(version => {\r\n                console.log(version);\r\n                if (newestVersion > version) {\r\n                  this.alertCtrl\r\n                    .create({\r\n                      //@ts-ignore\r\n                      title: mg1.value,\r\n                      //@ts-ignore\r\n                      subTitle: mg2.value,\r\n                      buttons: [\r\n                        {\r\n                          //@ts-ignore\r\n                          text: mg3.value,\r\n                          role: \"cancel\",\r\n                        },\r\n                        {\r\n                          //@ts-ignore\r\n                          text: mg4.value,\r\n                          handler: () => {\r\n                            //window.open(\"https://play.google.com/store/apps/details?id=com.openfintech.openpos\", \"_system\", \"location=yes\");\r\n                            market\r\n                              .open(\"com.openfintech.openpos\")\r\n                              .then(() => {\r\n                                console.log(\"Opened Google play\");\r\n                              })\r\n                              .catch(error => {\r\n                                console.log(error);\r\n                              });\r\n                          },\r\n                        },\r\n                      ],\r\n                    })\r\n                    .present();\r\n                } else {\r\n                  console.log(\"Version same\");\r\n                }\r\n              })\r\n              .catch(error => {\r\n                console.log(error);\r\n              });\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n    });\r\n  }\r\n\r\n  async ionViewDidEnter() {\r\n    console.log(\"ionViewDidLoad TransactionHomePage\");\r\n    if (\r\n      this.navParams.get(\"lang\") != this.userdata.language &&\r\n      this.navParams.get(\"lang\") != null &&\r\n      this.navParams.get(\"lang\") != undefined\r\n    ) {\r\n      this.userdata.language = this.navParams.get(\"lang\");\r\n    }\r\n    this.delay(500).then(() => {\r\n      this.getUserData();\r\n    });\r\n  }\r\n\r\n  async delay(ms: number) {\r\n    await new Promise(resolve => setTimeout(() => resolve(), ms)).then(() => console.log(\"fired\"));\r\n  }\r\n  userdata: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: this.translateConfigService.getCurrentLanguage(),\r\n    logo_url: \"\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n\r\n  async getUserData() {\r\n    return new Promise((resolve, reject) => {\r\n      this.sp.storageReady().then(() => {\r\n        this.sp\r\n          .getUserDat()\r\n          .then(async val => {\r\n            if (val) {\r\n              this.userdata = JSON.parse(val);\r\n              console.log(this.userdata);\r\n              this.setUsrLang();\r\n              resolve();\r\n            } else {\r\n              await this.getUserData();\r\n            }\r\n          })\r\n          .catch(err => {\r\n            alert(\"Error: \" + err);\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  // openCalc() {\r\n  //   //this.navCtrl.push(CalculatorPage);\r\n  //   this.tabRef.select(3);\r\n  // }\r\n\r\n  uploadbtn() {\r\n    this.sp\r\n      .backupStorage()\r\n      .then()\r\n      .catch();\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Online backup ready\");\r\n\r\n    const message1 = this.translateConfigService.getTranslatedMessage(\"Backup Online\");\r\n    const message2 = this.translateConfigService.getTranslatedMessage(\"backupdescrip\");\r\n\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        title: message1.value,\r\n        //@ts-ignore\r\n        subTitle: message2.value,\r\n        buttons: [{ text: \"OK\", role: \"cancel\" }],\r\n      })\r\n      .present();\r\n    this.toastCtrl\r\n      .create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2000,\r\n      })\r\n      .present();\r\n  }\r\n\r\n  async cashbtn() {\r\n    await this.getUserData();\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Balance\");\r\n    const message1 = this.translateConfigService.getTranslatedMessage(\"Edit\");\r\n    const message2 = this.translateConfigService.getTranslatedMessage(\"Enter Current Cash Balance\");\r\n    const message3 = this.translateConfigService.getTranslatedMessage(\"Update\");\r\n    const message4 = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n    const message5 = this.translateConfigService.getTranslatedMessage(\"OK\");\r\n    const ms = this.translateConfigService.getTranslatedMessage(\"Cash Balance\");\r\n    const ms1 = this.translateConfigService.getTranslatedMessage(\"cashbalancedescrip\");\r\n\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        title: ms.value,\r\n        //@ts-ignore\r\n        subTitle: ms1.value,\r\n        //@ts-ignore\r\n        message: message.value + \": \" + this.userdata.cash_balance,\r\n\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: message1.value,\r\n            handler: data => {\r\n              this.alertCtrl\r\n                .create({\r\n                  inputs: [\r\n                    //@ts-ignore\r\n                    { name: \"cb\", placeholder: message2.value },\r\n                  ],\r\n                  buttons: [\r\n                    {\r\n                      //@ts-ignore\r\n                      text: message4.value,\r\n                      role: \"cancel\",\r\n                    },\r\n                    {\r\n                      //@ts-ignore\r\n                      text: message3.value,\r\n                      handler: data1 => {\r\n                        if (data1.cb != null && data1.cb != \"\" && data1.cb != undefined) {\r\n                          //console.log(\"Update CB to :\"+data1.cb)\r\n                          this.getUserData();\r\n                          this.userdata.cash_balance = parseFloat(data1.cb).toString();\r\n                          this.sp.setUserDat(this.userdata);\r\n                        }\r\n                      },\r\n                    },\r\n                  ],\r\n                })\r\n                .present();\r\n            },\r\n          }, // end Edit Button\r\n          {\r\n            //translate these buttons\r\n            //@ts-ignore\r\n            text: message5.value,\r\n            role: \"Cancel\",\r\n          }, // end OK Button\r\n        ], //end button\r\n      })\r\n      .present();\r\n  }\r\n\r\n  setUsrLang() {\r\n    this.translateConfigService.setLanguage(this.userdata.language);\r\n    console.log(this.userdata.language);\r\n  }\r\n\r\n  tutorial() {\r\n    const msg = this.translateConfigService.getTranslatedMessage(\"Create New Sales\");\r\n    const passedData = {\r\n      //youtube link, required text\r\n      //@ts-ignore\r\n      page: msg.value,\r\n    };\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Help Button\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\r\n      \"For any queries about a page, click the ? icon in the top right for more information\",\r\n    );\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\r\n      \"For further queries, you can reach us through the Contact Us page\",\r\n    );\r\n    const msg4 = this.translateConfigService.getTranslatedMessage(\"Contact Us\");\r\n    const msg5 = this.translateConfigService.getTranslatedMessage(\"Okay\");\r\n\r\n    const helpAlert = this.alertCtrl.create({\r\n      //@ts-ignore\r\n      title: msg1.value,\r\n      //@ts-ignore\r\n      subTitle: msg2.value,\r\n      //@ts-ignore\r\n      message: msg3.value,\r\n      buttons: [\r\n        {\r\n          //@ts-ignore\r\n          text: msg4.value,\r\n          handler: () => {\r\n            this.navCtrl.push(ContactUsPage);\r\n          },\r\n        },\r\n        {\r\n          //@ts-ignore\r\n          text: msg5.value,\r\n          role: \"cancel\",\r\n        },\r\n      ],\r\n    });\r\n    helpAlert.present();\r\n  }\r\n\r\n  help() {\r\n    // const msg = this.translateConfigService.getTranslatedMessage(\"Create New Sales\");\r\n    // const temptxt = [];\r\n    // let tempvid = [];\r\n\r\n    // firebase\r\n    //   .firestore()\r\n    //   .collection(\"tutorial\")\r\n    //   .get()\r\n    //   .then(doc => {\r\n    //     //console.log(doc)\r\n    //     doc.docs.forEach(element => {\r\n    //       console.log(element);\r\n    //       if (element.id == this.userdata.language) {\r\n    //         element.data().text.forEach(element1 => {\r\n    //           if (element1.page == \"Sale\") {\r\n    //             temptxt.push(element1);\r\n    //           }\r\n    //         });\r\n\r\n    //         element.data().video.forEach(element2 => {\r\n    //           if (element2.page == \"Sale\") {\r\n    //             tempvid.push(element2);\r\n    //           }\r\n    //         });\r\n    //         tempvid = element.data().video;\r\n    //       }\r\n    //     });\r\n    //   });\r\n\r\n    // const passedData = {\r\n    //   //youtube link, required text\r\n    //   //@ts-ignore\r\n    //   page: msg.value,\r\n    //   text: temptxt,\r\n    //   video: tempvid,\r\n    // };\r\n    const helpModal = this.modal.create(\"HelpPage\");\r\n    helpModal.present();\r\n  }\r\n\r\n  contactpg() {\r\n    this.navCtrl.push(ContactUsPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/transaction-home/transaction-home.ts","import { Injectable } from \"@angular/core\";\r\nimport { ToastController } from \"ionic-angular\";\r\nimport * as firebase from \"firebase/app\";\r\n\r\n@Injectable()\r\nexport class FcmService {\r\n  constructor(private toastCtrl: ToastController) {}\r\n\r\n  async getToken() {\r\n    const messaging = firebase.messaging();\r\n    await messaging.getToken().then(token => {\r\n      console.log(`latest device token: ${token}`);\r\n      this.saveToken(token);\r\n    });\r\n  }\r\n\r\n  private saveToken(token) {\r\n    if (!token) return;\r\n\r\n    const devicesRef = firebase.firestore().collection(\"devices\");\r\n\r\n    const data = {\r\n      token,\r\n      userId: firebase.auth().currentUser.uid || \"userId\",\r\n    };\r\n\r\n    return devicesRef.doc(token).set(data);\r\n  }\r\n\r\n  private async presentToast(message) {\r\n    const toast = await this.toastCtrl.create({\r\n      message,\r\n      duration: 3000,\r\n    });\r\n    await toast.present();\r\n  }\r\n\r\n  onNotifications() {\r\n    const messaging = firebase.messaging();\r\n    messaging.onMessage(payload => {\r\n      console.log(`payload: ${payload}`);\r\n      this.presentToast(payload.notification.body);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebase-cloud-messaging/fcm.service.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\r\nimport firebase from \"firebase\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { CallNumber } from \"@ionic-native/call-number\";\r\nimport { EmailComposer } from \"@ionic-native/email-composer\";\r\n\r\n/**\r\n * Generated class for the ContactUsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-contact-us\",\r\n  templateUrl: \"contact-us.html\",\r\n})\r\nexport class ContactUsPage {\r\n  email = \"Loading...\";\r\n  phone = [];\r\n  chatbot = \"\";\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    private callNumber: CallNumber,\r\n    private emailComposer: EmailComposer,\r\n  ) {\r\n    this.getInfo();\r\n  }\r\n\r\n  getInfo() {\r\n    firebase\r\n      .firestore()\r\n      .collection(\"contact-us\")\r\n      .get()\r\n      .then(doc => {\r\n        this.email = doc.docs[0].data().email;\r\n        this.phone = doc.docs[0].data().phone;\r\n        this.chatbot = doc.docs[0].data().chatbot;\r\n      });\r\n  }\r\n\r\n  navFB() {\r\n    window.open(this.chatbot, \"_system\", \"location=no\");\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad ContactUsPage\");\r\n  }\r\n\r\n  call(numberToCall) {\r\n    this.callNumber\r\n      .callNumber(numberToCall, false)\r\n      .then(res => {\r\n        console.log(\"Successful\", res);\r\n      })\r\n      .catch(err => console.log(\"Error with dialing\", err));\r\n  }\r\n\r\n  sendMail() {\r\n    const emailSettings = {\r\n      to: this.email,\r\n      subject: \"OPEN Help\", //edit as and when needed\r\n      body: \"Hello! I need your help!\",\r\n      isHTML: true,\r\n    };\r\n    // this.emailComposer.requestPermission()\r\n    //   .then((response:boolean)=>{\r\n    //     if(response){\r\n\r\n    //     }\r\n    //   });\r\n    this.emailComposer\r\n      .open(emailSettings)\r\n      .then(res => console.log(\"Successful\", res))\r\n      .catch(err => console.log(\"Error on email\", err));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact-us/contact-us.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Events,\r\n  Tabs,\r\n  ToastController,\r\n  AlertController,\r\n  App,\r\n  ViewController,\r\n} from \"ionic-angular\";\r\nimport { IncomeTransactionPage } from \"../income-transaction/income-transaction\";\r\nimport firebase from \"firebase\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\n//import { threadId } from 'worker_threads';\r\n\r\n/**\r\n * Generated class for the AllTransactionPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-all-transaction\",\r\n  templateUrl: \"all-transaction.html\",\r\n})\r\nexport class AllTransactionPage {\r\n  updateOrCreate = \"Create Receipt\";\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    public events: Events,\r\n    public sp: StorageProvider,\r\n    private view: ViewController,\r\n    public tstCtrl: ToastController,\r\n    private alertCtrl: AlertController,\r\n    private app: App,\r\n  ) {\r\n    this.getUserData().then(() => console.log(\"get user data\"));\r\n    this.events.subscribe(\"addRecCalc:created\", data => {\r\n      this.updateOrCreate = \"Update Receipt\";\r\n      //console.log(\"ENTERED!\");\r\n      console.log(\"Received 0 \" + data);\r\n      //SET itemsprice here? - make new addgen - diff button calls diff event that pushes rather than replaces\r\n      //Same for Product Transaction Page\r\n      //console.log(this.showSampleRec);\r\n      const tempdat = JSON.parse(data);\r\n      this.showSampleRec = true;\r\n      // this.itemsname=null;\r\n      // this.itemsprice=null;\r\n      // this.itemsqty=null;\r\n      tempdat.forEach(element => {\r\n        this.itemsname.push(element.name);\r\n        this.itemsprice.push(element.price);\r\n        this.itemsqty.push(element.qty);\r\n        this.loitems.push(element);\r\n        this.itemsDiscount.push(element.discount);\r\n      });\r\n      //console.log(this.itemsprice);\r\n    });\r\n  }\r\n  itemsname: string[] = [];\r\n  loitems: any = [];\r\n  buttonColor = \"#ffa100\";\r\n  buttonColor1 = \"#ff0300\";\r\n\r\n  ionViewDidLoad() {\r\n    //console.log(\"ionViewDidLoad AllTransactionPage\");\r\n    //console.log(\"Size of array: \" + this.itemsprice.length);\r\n    if (this.itemsprice.length > 0) {\r\n      this.showSampleRec = false;\r\n      this.flag_mode = 1;\r\n    }\r\n    this.showSampleRec = false;\r\n    this.delay(3000).then(() => {\r\n      this.getUserData();\r\n    });\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.updateOrCreate = \"Create Receipt\";\r\n  }\r\n\r\n  result = \"\";\r\n  flag_mode = 0;\r\n  showSampleRec = true;\r\n  itemsprice: string[] = [];\r\n  itemsqty: number[] = [];\r\n  itemsDiscount: number[] = [];\r\n  ctr = 0;\r\n  lastsum = 0;\r\n  lastchar = \"NIL\";\r\n  lastdigit = 0;\r\n\r\n  async delay(ms: number) {\r\n    await new Promise(resolve => setTimeout(() => resolve(), ms)).then(() => console.log(\"fired\"));\r\n  }\r\n\r\n  userdata: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: \"en\",\r\n    logo_url: \"\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          //console.log(this.userdata);\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  createRec() {\r\n    const tempJSON = { itemslist: [] };\r\n    this.showSampleRec = false;\r\n\r\n    this.itemsprice.forEach((element, index) => {\r\n      if (this.itemsname.length > 0 && index < this.itemsname.length) {\r\n        tempJSON.itemslist.push(this.loitems[index]);\r\n      } else {\r\n        tempJSON.itemslist.push({\r\n          code: \"000000\",\r\n          cat: \"NIL\",\r\n          stock_qty: 0,\r\n          name: \"Item \" + index,\r\n          price: parseInt(element),\r\n          qty: this.itemsqty[index],\r\n          discount: this.itemsDiscount[index],\r\n        });\r\n      }\r\n    });\r\n\r\n    //var sampledat={ 'itemslist': myJsonString,};\r\n\r\n    const myObjStr = JSON.stringify(tempJSON);\r\n\r\n    //(this.navCtrl.parent as Tabs).select(2);\r\n\r\n    this.view.dismiss();\r\n\r\n    this.delay(300).then(any => {\r\n      this.events.publish(\"genRec:created\", myObjStr);\r\n\r\n      console.log(\"Sent: \" + myObjStr);\r\n\r\n      //your task after delay.\r\n    });\r\n\r\n    this.result = \"\";\r\n    this.itemsname = [];\r\n    this.itemsprice = [];\r\n    this.lastsum = 0;\r\n    this.itemsqty = [];\r\n    this.itemsDiscount = [];\r\n    this.loitems = [];\r\n  }\r\n\r\n  flag = false;\r\n\r\n  btnClicked(btn) {\r\n    this.getUserData();\r\n\r\n    if (this.flag) {\r\n      this.flag = false;\r\n      this.btnClicked(\"C\");\r\n    }\r\n\r\n    try {\r\n      //console.log(\"CalculatorPage::btnClicked = \" + btn);\r\n      if (btn == \"C\") {\r\n        this.result = \"\";\r\n        this.itemsprice = [];\r\n        this.lastsum = 0;\r\n        this.itemsqty = [];\r\n        this.itemsDiscount = [];\r\n        this.showSampleRec = false;\r\n      } else if (btn == \"=\") {\r\n        this.showSampleRec = true;\r\n\r\n        if (this.buttonColor == \"#ffa100\") {\r\n          this.buttonColor = \"#ff0300\";\r\n          this.buttonColor1 = \"#ffa100\";\r\n        } else {\r\n          this.buttonColor = \"#ffa100\";\r\n          this.buttonColor1 = \"#ff0300\";\r\n        }\r\n\r\n        //IF LAST = character then remove that character\r\n        while (this.result.includes(\"%\")) {\r\n          if (!this.result.includes(\"*\")) throw Error;\r\n          const index1 = this.result.indexOf(\"%\");\r\n          const index2 = this.result.substring(0, index1).lastIndexOf(\"*\");\r\n          const num = parseFloat(this.result.substring(index2 + 1, index1)) / 100;\r\n          this.result = this.result.substring(0, index2 + 1) + num + this.result.substring(index1 + 1);\r\n        }\r\n\r\n        const answ = this.result.split(\"+\");\r\n        // if(this.result.includes('-')){\r\n        //   answ=this.result.split('+').join('-').split('-');\r\n        // }\r\n        let temp;\r\n\r\n        answ.forEach((element, index) => {\r\n          let discAmt;\r\n          if (!element.includes(\"-\")) discAmt = 0;\r\n          else {\r\n            discAmt = parseFloat(element.substring(element.indexOf(\"-\") + 1));\r\n            answ[index] = element.substring(0, element.indexOf(\"-\"));\r\n            element = answ[index];\r\n          }\r\n\r\n          if (element.includes(\"*\")) {\r\n            console.log(this.discEval(element));\r\n            const l = this.discEval(element).split(\"/\");\r\n            this.itemsqty.push(parseInt(l[1]));\r\n            this.itemsprice.push(l[0]);\r\n            discAmt += parseFloat(l[2]);\r\n          } else if (element.includes(\"/\")) {\r\n            answ[index] = element.substring(0, element.indexOf(\"/\"));\r\n            this.itemsprice.push(answ[index]);\r\n            temp = Math.round((1 / parseInt(element.substring(element.indexOf(\"/\") + 1))) * 100) / 100;\r\n            //console.log(temp);\r\n            this.itemsqty.push(temp);\r\n          } else {\r\n            if (element != \"\") {\r\n              this.itemsprice.push(element);\r\n              this.itemsqty.push(parseInt(\"1\"));\r\n              temp = 1;\r\n            }\r\n          }\r\n\r\n          //console.log(\"ItemsPrice[index]: \" + answ[index] + \" Qty: \" + temp);\r\n\r\n          this.itemsDiscount.push((discAmt * 100) / (parseFloat(this.itemsprice[index]) * this.itemsqty[index]));\r\n          //console.log(\"Element: \"+element+\" DiscAmt: \"+discAmt+\" Discount: \"+(discAmt * 100) / (parseFloat(this.itemsprice[index]) * this.itemsqty[index]))\r\n\r\n          // this.itemsprice.push(\r\n          //   {'name': \"Blank_Item\",\r\n          //   'price': parseInt(element),\r\n          //   'qty': 0,\r\n          //   })\r\n        });\r\n        //flag_mode=0 means normal (sample reciept is generated)\r\n        //if(flag_mode==1) then go to reciept page directly - call createRec()\r\n        //if(flag_mode=2) then just use as calc - no reciept is generated\r\n\r\n        console.log(this.itemsprice);\r\n        console.log(this.itemsqty);\r\n        this.result = eval(this.result) + \"\";\r\n        this.lastsum = 0;\r\n\r\n        //this.lastsum=parseInt(this.result);\r\n        for (let i = 0; i < this.itemsprice.length; i++) {\r\n          this.lastsum = this.lastsum + parseInt(this.itemsprice[i]) * this.itemsqty[i];\r\n          console.log(this.lastsum);\r\n        }\r\n\r\n        this.createRec();\r\n      } else if (btn == \"b\") {\r\n        this.result = this.result.substring(0, this.result.length - 1);\r\n        this.lastchar = this.result.charAt(this.result.length - 1);\r\n      } else if (btn == \"squareroot\") {\r\n        this.result = Math.sqrt(eval(this.result)) + \"\";\r\n      } else if (btn == \"square\") {\r\n        this.result = eval(\"(\" + this.result + \") * ( \" + this.result + \")\");\r\n      } else if (btn == \"reciproc\") {\r\n        this.result = eval(1 + \"/ (\" + this.result + \")\");\r\n      } else {\r\n        if (parseInt(this.result) == this.lastsum) {\r\n          this.result = this.result.substring(0, 0);\r\n        }\r\n\r\n        console.log(\"Lastchar: \" + this.lastchar + \" Result: \" + this.result);\r\n\r\n        if (\r\n          (btn == \"+\" || btn == \"-\" || btn == \"*\" || btn == \"/\" || btn == \"%\") &&\r\n          (this.lastchar == \"+\" || this.lastchar == \"-\" || this.lastchar == \"*\" || this.lastchar == \"/\")\r\n        ) {\r\n          this.result = this.result = this.result.substring(0, this.result.length - 1);\r\n        }\r\n        if (this.lastchar == \"%\" && btn != \"+\" && btn != \"-\") {\r\n          this.result = this.result = this.result.substring(0, this.result.length - 1);\r\n        }\r\n        this.lastchar = btn;\r\n        this.result += btn;\r\n      }\r\n    } catch (err) {\r\n      this.result = \"Input Error!\";\r\n      this.itemsprice = [];\r\n      this.lastsum = 0;\r\n      this.itemsqty = [];\r\n      this.itemsDiscount = [];\r\n      this.loitems = [];\r\n      this.flag = true;\r\n    } finally {\r\n    }\r\n  }\r\n\r\n  discEval(expression) {\r\n    const l = expression.split(\"*\");\r\n    let s = \"\";\r\n    if (l.length == 3) {\r\n      if (l[2] > 1) {\r\n        console.log(\"Discount amount exceeds 1\");\r\n        throw Error;\r\n      } else {\r\n        l[2] = (1 - parseFloat(l[2])) * parseFloat(l[1]) * l[0];\r\n        s = l.join(\"/\");\r\n      }\r\n    } else if (l.length == 2) {\r\n      if (parseFloat(l[1]) <= 1) {\r\n        l[1] = (1 - parseFloat(l[1])) * parseFloat(l[0]);\r\n        s = l[0] + \"/1/\" + l[1];\r\n      } else {\r\n        s = l[0] + \"/\" + l[1] + \"/0\";\r\n      }\r\n    } else {\r\n      console.log(l.length + \" is length of temp list\");\r\n    }\r\n    return s;\r\n  }\r\n\r\n  // addSalesExp() {\r\n  //   const msg = this.translateConfigService.getTranslatedMessage(\"Add\");\r\n  //   const msg1 = this.translateConfigService.getTranslatedMessage(\"Sales\");\r\n  //   const msg2 = this.translateConfigService.getTranslatedMessage(\"Expense\");\r\n  //   const msg3 = this.translateConfigService.getTranslatedMessage(\"CANCEL\");\r\n  //   const alert = this.alertCtrl.create({\r\n  //     //@ts-ignore\r\n  //     title: msg.value,\r\n  //     buttons: [\r\n  //       {\r\n  //         //@ts-ignore\r\n  //         text: msg1.value,\r\n  //         handler: () => {\r\n  //           (this.navCtrl.parent as Tabs).select(1);\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         //@ts-ignore\r\n  //         text: msg2.value,\r\n  //         handler: () => {\r\n  //           this.app.getRootNav().setRoot(ExpenseTransactionPage, { data: \"ViewExp\" });\r\n  //         },\r\n  //       },\r\n  //       {\r\n  //         //@ts-ignore\r\n  //         text: msg3.value,\r\n  //         role: \"cancel\",\r\n  //       },\r\n  //     ],\r\n  //   });\r\n  //   alert.present();\r\n  // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/all-transaction/all-transaction.ts","import { Injectable } from \"@angular/core\";\r\n\r\n/*\r\n  Generated class for the GettersetterProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class GettersetterProvider {\r\n  total = 0;\r\n  count = 0;\r\n  vat = 0;\r\n\r\n  constructor() {}\r\n\r\n  getTotal() {\r\n    return this.total;\r\n  }\r\n\r\n  setTotal(total) {\r\n    this.total = total;\r\n  }\r\n\r\n  getCount() {\r\n    return this.count;\r\n  }\r\n\r\n  setCount(count) {\r\n    this.count = count;\r\n  }\r\n\r\n  getVat() {\r\n    return this.vat;\r\n  }\r\n\r\n  setVat(vat) {\r\n    this.vat = vat;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/gettersetter/gettersetter.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Events,\r\n  Tabs,\r\n  ToastController,\r\n  DateTime,\r\n  App,\r\n  ModalController,\r\n  Img,\r\n} from \"ionic-angular\";\r\nimport { AllTransactionPage } from \"../all-transaction/all-transaction\";\r\nimport firebase from \"firebase\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { TransactionHomePage } from \"../transaction-home/transaction-home\";\r\nimport { AlertController, LoadingController } from \"ionic-angular\";\r\nimport { PrinterProvider } from \"./../../providers/printer/printer\";\r\nimport { commands } from \"./../../providers/printer/printer-commands\";\r\nimport EscPosEncoder from \"esc-pos-encoder-ionic\";\r\nimport { GeolocationService } from \"../../providers/geolocation/geolocation.service\";\r\nimport { Camera, CameraOptions } from \"@ionic-native/camera\";\r\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\r\nimport html2canvas from \"html2canvas\";\r\nimport download from \"downloadjs\";\r\n// import { Base64ToGallery, Base64ToGalleryOptions } from \"@ionic-native/base64-to-gallery\";\r\n//import { File } from \"@ionic-native/file\";\r\nimport { PhotoLibrary } from \"@ionic-native/photo-library\";\r\nimport { ContactsPage } from \"../contacts/contacts\";\r\n/**\r\n * Generated class for the IncomeTransactionPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-income-transaction\",\r\n  templateUrl: \"income-transaction.html\",\r\n})\r\nexport class IncomeTransactionPage {\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public events: Events,\r\n    public camera: Camera,\r\n    public sp: StorageProvider,\r\n    public toastCtrl: ToastController,\r\n    private translateConfigService: TranslateConfigService,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private printer: PrinterProvider,\r\n    private alertCtrl: AlertController,\r\n    private loadCtrl: LoadingController,\r\n    private gps: GeolocationService,\r\n    public app: App,\r\n    private modal: ModalController,\r\n    private social: SocialSharing,\r\n    private photoLibrary: PhotoLibrary,\r\n  ) {\r\n    this.isReady = false;\r\n    // const nav = app._appRoot._getActivePortal() || app.getActiveNav();\r\n    // const activeView = nav.getActive();\r\n    // if (activeView != null) {\r\n    //   if (activeView.isOverlay) {\r\n    //     console.log(\"Alert Prev\");\r\n    //     activeView.dismiss();\r\n    //   }\r\n    // }\r\n    //console.log(\"Recieved -1\" + this.navParams.get('itemslist'));\r\n    this.getUserData();\r\n    this.gps\r\n      .getCoordinates()\r\n      .then(coordinates => {\r\n        this.geolocation = coordinates;\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  async delay(ms: number) {\r\n    await new Promise(resolve => setTimeout(() => resolve(), ms)).then(() => console.log(\"fired\"));\r\n  }\r\n\r\n  taxbtn = 0;\r\n  showrec = false;\r\n\r\n  lastTransaction: any;\r\n  isReady: boolean;\r\n\r\n  userdata: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    logo_url:\r\n      \"https://scontent.fhkg10-1.fna.fbcdn.net/v/t1.0-9/79674109_100715951430298_615106696234139648_n.png?_nc_cat=109&_nc_ohc=2pdu1s1LRmoAX-04NCO&_nc_ht=scontent.fhkg10-1.fna&oh=70fea5a886837de2b9cf4aaf4a4112a8&oe=5EF6F085\",\r\n    language: \"en\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n\r\n  discount = 0.0;\r\n  lastsumdisc = 0.0;\r\n  taxrate = 0.0;\r\n  contact = \"\";\r\n\r\n  printOldRec(transac) {\r\n    console.log(transac);\r\n    const encoder = new EscPosEncoder();\r\n    const result = encoder.initialize();\r\n    result\r\n      .codepage(\"cp936\")\r\n      .align(\"center\")\r\n      .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n      .line(this.userdata.business_name)\r\n      .raw(commands.TEXT_FORMAT.TXT_NORMAL)\r\n      .line(this.userdata.business_address)\r\n      .line(this.userdata.businesstype)\r\n      .line(this.userdata.ph_no)\r\n      .newline()\r\n      .line(this.getDateTime(transac.datetime))\r\n      .align(\"center\")\r\n      .text(commands.HORIZONTAL_LINE.HR_58MM)\r\n      .newline();\r\n\r\n    result\r\n      //.raw(commands.FEED_CONTROL_SEQUENCES.RST_HT)\r\n      //.raw(commands.FEED_CONTROL_SEQUENCES.SET_HT)\r\n      .text(\"Item Name           \") //10 char + 10 char\r\n      //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n      .text(\"Qty \") //4 char\r\n      //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n      .text(\"Price   \") //8 char\r\n      .newline()\r\n      .newline();\r\n\r\n    transac.itemslist.forEach(element => {\r\n      element.qty = element.qty.toString();\r\n      element.price = element.price.toString();\r\n      //autotab system\r\n      if (element.name.length < 20) {\r\n        for (let i = element.name.length; i < 20; i++) {\r\n          element.name += \" \";\r\n        }\r\n      } else {\r\n        element.name = element.name.substring(0, 20);\r\n      }\r\n\r\n      if (element.qty < 10000) {\r\n        for (let i = element.qty.length; i < 4; i++) {\r\n          element.qty += \" \";\r\n        }\r\n      } else {\r\n        element.qty.substring(0, 4);\r\n      }\r\n\r\n      if (element.price < 10000000) {\r\n        for (let i = element.price.length; i < 8; i++) {\r\n          element.price += \" \";\r\n        }\r\n      } else {\r\n        element.price.substring(0, 8);\r\n      }\r\n\r\n      result\r\n\r\n        .text(element.name) //19 + space\r\n        //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n        .text(element.qty) //4+ space\r\n        //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n        .text(element.price) //7+space\r\n\r\n        .newline();\r\n\r\n      if (parseFloat(element.discount) != 0) {\r\n        result\r\n          .text(\"Discount (\" + Math.round(parseFloat(element.discount) * 100) / 100 + \"%) : \")\r\n\r\n          .text(\"-\" + Math.round((element.price * element.discount * element.qty) / 100))\r\n          .newline();\r\n      }\r\n    });\r\n    const spacer1 = \"                  \";\r\n    const spacer2 = \"    \";\r\n    const spacer3 = \"          \";\r\n    result.newline();\r\n    result.align(\"center\").line(spacer1 + \"Total:\" + transac.totalsum);\r\n    if (this.lastsumAfterIndividualDiscount != this.lastsumdisc) {\r\n      result.line(spacer2 + \"After Discount (\" + Math.round(this.discount * 100) / 100 + \"%): \" + transac.totaldisc);\r\n    }\r\n    if (this.lastsumAfterIndividualDiscount != this.lastsumtax) {\r\n      result.line(spacer3 + \"After Tax (\" + Math.round(this.taxrate * 100) / 100 + \"%): \" + transac.totalatax);\r\n    }\r\n\r\n    result\r\n      .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n      .newline()\r\n      .line(\"\")\r\n      .newline()\r\n      .cut(\"full\");\r\n    this.mountAlertBt(result.encode());\r\n  }\r\n\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          console.log(this.userdata);\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad IncomeTransactionPage\");\r\n    this.getCategories();\r\n    this.getUserData();\r\n    this.events.subscribe(\"genRec:created\", data => {\r\n      console.log(\"ENTERED!\");\r\n      console.log(\"Received 0 \" + data);\r\n      this.datastore = JSON.parse(data);\r\n      this.showrec = true;\r\n\r\n      //Here if 2 items have same code then coagulate/merge - price is always full price, merge discounts accordingly\r\n\r\n      this.datastore.itemslist.forEach((item, index) => {\r\n        this.datastore.itemslist.forEach((item1, index1) => {\r\n          if (index1 != index) {\r\n            if (item.code == item1.code && item.price == item1.price && item.name == item1.name) {\r\n              //ALL the 0000 might get combined\r\n              const totaldiscsumx = (item.price * (item.discount * item.qty + item1.discount * item1.qty)) / 100;\r\n              console.log(\"Total Disc Sum \" + totaldiscsumx);\r\n              item.qty = item.qty + item1.qty;\r\n              item.discount = (totaldiscsumx / (item.price * item.qty)) * 100; //new qty\r\n\r\n              const rem = this.datastore.itemslist.splice(index1, 1);\r\n              //remove item1, merge qty and manage discount as avg\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.updateRec();\r\n    });\r\n    this.getLastTransaction();\r\n  }\r\n  temp;\r\n\r\n  getLastTransaction() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp.getTransactions().then(val => {\r\n        let listOfTransactions: any[] = JSON.parse(val);\r\n        listOfTransactions = listOfTransactions.reverse();\r\n        this.lastTransaction = listOfTransactions[0];\r\n        this.isReady = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  addNewItembtn() {\r\n    const message1 = this.translateConfigService.getTranslatedMessage(\"CANCEL \");\r\n    const message2 = this.translateConfigService.getTranslatedMessage(\"Add from Calculator\");\r\n    const message3 = this.translateConfigService.getTranslatedMessage(\"Scan Barcode\");\r\n    const message4 = this.translateConfigService.getTranslatedMessage(\"Add from Product List\");\r\n    const message5 = this.translateConfigService.getTranslatedMessage(\"Add Additional Charges\");\r\n    const alert = this.alertCtrl\r\n      .create({\r\n        // @ts-ignore\r\n        title: \"Add From\", //translate this\r\n        // @ts-ignore\r\n        enableBackdropDismiss: true,\r\n        buttons: [\r\n          {\r\n            // @ts-ignore\r\n            text: message2.value,\r\n            handler: () => {\r\n              this.addCalc();\r\n            },\r\n          },\r\n          {\r\n            // @ts-ignore\r\n            text: message3.value,\r\n            handler: () => {\r\n              this.qrscan();\r\n            },\r\n          },\r\n          {\r\n            // @ts-ignore\r\n            text: message4.value,\r\n            handler: () => {\r\n              this.addProdList();\r\n            },\r\n          },\r\n          {\r\n            // @ts-ignore\r\n            text: message5.value,\r\n            handler: () => {\r\n              this.dispM();\r\n            },\r\n          },\r\n          {\r\n            // @ts-ignore\r\n            text: message1.value,\r\n            role: \"cancel\",\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n\r\n  addNewExp() {\r\n    this.modal.create(\"ExpenseGeneralPage\").present();\r\n  }\r\n\r\n  updateRec() {\r\n    this.lastsum = 0;\r\n    let totalDiscount = 0,\r\n      totalIndividualDiscount = 0;\r\n    this.datastore.itemslist.forEach(item => {\r\n      if (item.discount != 0) {\r\n        totalIndividualDiscount += ((item.price * parseFloat(item.discount)) / 100) * item.qty;\r\n        console.log(((parseFloat(item.price) * parseFloat(item.discount)) / 100) * item.qty);\r\n      }\r\n      this.lastsum += item.price * item.qty;\r\n    });\r\n    totalDiscount += totalIndividualDiscount;\r\n    console.log(this.lastsum + \" \" + totalDiscount);\r\n    this.lastsumAfterIndividualDiscount = Math.round((this.lastsum - totalIndividualDiscount) * 100) / 100;\r\n    console.log(this.lastsum + \" \" + this.lastsumAfterIndividualDiscount);\r\n    this.lastsumdisc = Math.round((this.lastsum - totalDiscount) * ((100 - this.discount) / 100) * 100) / 100;\r\n    this.lastsumtax = Math.round(this.lastsumdisc * (1.0 + this.taxrate / 100) * 100) / 100;\r\n  }\r\n\r\n  file: any;\r\n\r\n  upload_new() {\r\n    //LET REF be tied to a particular product- we save the url in the products db\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(\"prodImages/\" + this.userdata.id + \"logo\")\r\n      .putString(this.file.split(\",\")[1], \"base64\")\r\n      .then(snap => {\r\n        snap.ref.getDownloadURL().then(url => {\r\n          console.log(\"Uploaded!\");\r\n          // do something with url here\r\n          this.userdata.logo_url = url;\r\n          this.toastCtrl.create({ message: \"Please wait- saving...\", duration: 2000 }).present();\r\n          this.sp.setUserDat(this.userdata).then(() => {\r\n            this.toastCtrl.create({ message: \"Saved!\", duration: 2000 }).present();\r\n          });\r\n          // this.temp = url;\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  launchCamera() {\r\n    return new Promise((resolve, reject) => {\r\n      const options: CameraOptions = {\r\n        quality: 100,\r\n        sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.PNG,\r\n        mediaType: this.camera.MediaType.PICTURE,\r\n        correctOrientation: true,\r\n        targetHeight: 256,\r\n        targetWidth: 256,\r\n        allowEdit: true,\r\n      };\r\n      this.camera\r\n        .getPicture(options)\r\n        .then(pic => {\r\n          this.file = \"data:image/png;base64,\" + pic;\r\n          // console.log(base64Image)\r\n          resolve();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  editRecTop() {\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n    const message1 = this.translateConfigService.getTranslatedMessage(\"Save\");\r\n    const message2 = this.translateConfigService.getTranslatedMessage(\"Edit Receipt Details\");\r\n    const message3 = this.translateConfigService.getTranslatedMessage(\"Enter Information\");\r\n\r\n    const message4 = this.translateConfigService.getTranslatedMessage(\"Add Logo\");\r\n    const message5 = this.translateConfigService.getTranslatedMessage(\"Remove Logo\");\r\n\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        title: message2.value,\r\n        inputs: [\r\n          //@ts-ignore\r\n          { name: \"Line1\", placeholder: message3.value, value: this.userdata.business_name },\r\n          //@ts-ignore\r\n          { name: \"Line2\", placeholder: message3.value, value: this.userdata.business_address },\r\n          //@ts-ignore\r\n          { name: \"Line3\", placeholder: message3.value, value: this.userdata.businesstype },\r\n          //@ts-ignore\r\n          { name: \"Line4\", placeholder: message3.value, value: this.userdata.ph_no },\r\n        ],\r\n        buttons: [\r\n          //@ts-ignore\r\n          { text: message.value, role: \"cancel\" },\r\n          {\r\n            //@ts-ignore\r\n            text: message1.value,\r\n            handler: data => {\r\n              this.userdata.business_name = data.Line1;\r\n              this.userdata.business_address = data.Line2;\r\n              this.userdata.businesstype = data.Line3;\r\n              this.userdata.ph_no = data.Line4;\r\n              this.sp.setUserDat(this.userdata);\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: message4.value,\r\n            handler: data => {\r\n              this.launchCamera().then(() => {\r\n                this.upload_new();\r\n              });\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: message5.value,\r\n            handler: data => {\r\n              this.toastCtrl.create({ message: \"Please wait- removing...\", duration: 2000 }).present();\r\n              this.userdata.logo_url =\r\n                \"https://scontent.fhkg10-1.fna.fbcdn.net/v/t1.0-9/79674109_100715951430298_615106696234139648_n.png?_nc_cat=109&_nc_ohc=2pdu1s1LRmoAX-04NCO&_nc_ht=scontent.fhkg10-1.fna&oh=70fea5a886837de2b9cf4aaf4a4112a8&oe=5EF6F085\";\r\n              this.sp.setUserDat(this.userdata).then(() => {\r\n                this.toastCtrl.create({ message: \"Removed!\", duration: 2000 }).present();\r\n              });\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n\r\n  setTax() {\r\n    this.taxrate = this.userdata.taxrate;\r\n    this.taxbtn = 1;\r\n    this.updateRec();\r\n  }\r\n  remTax() {\r\n    this.taxbtn = 0;\r\n    this.taxrate = 0.0;\r\n    this.updateRec();\r\n  }\r\n  discbtn = 0;\r\n  setDisc() {\r\n    this.discount = this.userdata.discount;\r\n    this.discbtn = 1;\r\n    this.updateRec();\r\n  }\r\n  remDisc() {\r\n    this.discount = 0.0;\r\n    this.discbtn = 0;\r\n    this.updateRec();\r\n  }\r\n\r\n  qrscan() {\r\n    let curprod;\r\n    this.barcodeScanner\r\n      .scan()\r\n      .then(barcodeData => {\r\n        this.sp.searchProduct(barcodeData.text).then(val => {\r\n          if (val[0] != null) {\r\n            curprod = val[0];\r\n            const message = this.translateConfigService.getTranslatedMessage(\"Found Product\");\r\n            const toast = this.toastCtrl.create({\r\n              // @ts-ignore\r\n              message: message.value + \" \" + val[0].name,\r\n              duration: 2000,\r\n            });\r\n            toast.present();\r\n            curprod.qty = 1;\r\n            this.temp = curprod;\r\n\r\n            // addQty(index){\r\n            //   //this.lastsum=this.lastsum+this.datastore.itemslist[index].price;\r\n            //   this.datastore.itemslist[index].qty=parseInt(this.datastore.itemslist[index].qty)+1;\r\n\r\n            //   this.lastsum=0;\r\n            //   for(let i = 0; i < this.datastore.itemslist.length; i++){\r\n            //     this.lastsum  = this.lastsum + (this.datastore.itemslist[i].price*this.datastore.itemslist[i].qty);\r\n            //   }\r\n            // }\r\n            curprod.discount = 0;\r\n            this.datastore.itemslist.push(curprod);\r\n            this.showrec = true;\r\n            //this.lastsum=this.lastsum+curprod.price;\r\n            this.updateRec();\r\n          } else {\r\n            const message = this.translateConfigService.getTranslatedMessage(\"No Product!!!\");\r\n            const toast = this.toastCtrl.create({\r\n              // @ts-ignore\r\n              message: message.value,\r\n              duration: 2000,\r\n            });\r\n            toast.present();\r\n          }\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error\", err);\r\n      });\r\n  }\r\n\r\n  dispM() {\r\n    console.log(\"DisM = \" + this.displayManual);\r\n    if (this.displayManual == 0) {\r\n      this.displayManual = 1;\r\n    } else {\r\n      this.displayManual = 0;\r\n    }\r\n  }\r\n\r\n  result = \"\";\r\n  displayManual = 0;\r\n  datastore = { itemslist: [] };\r\n  flag_mode = 0;\r\n  showSampleRec = true;\r\n  itemsprice: string[] = [];\r\n  ctr = 0;\r\n  lastsum = 0;\r\n  lastsumAfterIndividualDiscount = 0;\r\n  lastchar = \"NIL\";\r\n  lastdigit = 0;\r\n\r\n  ngOnInit() {\r\n    //this.itemsprice=JSON.parse(this.dataparm);\r\n  }\r\n\r\n  createRec() {\r\n    //Nav to Rec Page\r\n    //Build Expand Feature on REC Page\r\n  }\r\n\r\n  removeItem(index) {\r\n    //this.lastsum=this.lastsum-(this.datastore.itemslist[index].price*this.datastore.itemslist[index].qty);\r\n\r\n    const rem = this.datastore.itemslist.splice(index, 1);\r\n    if (this.datastore.itemslist.length == 0) {\r\n      this.cancelRec();\r\n    }\r\n\r\n    this.updateRec();\r\n    console.log(\"I: \" + index);\r\n    console.log(this.datastore.itemslist[index]);\r\n  }\r\n\r\n  addQty(index) {\r\n    //this.lastsum=this.lastsum+this.datastore.itemslist[index].price;\r\n    this.datastore.itemslist[index].qty = parseInt(this.datastore.itemslist[index].qty) + 1;\r\n\r\n    this.updateRec();\r\n  }\r\n\r\n  removeQty(index) {\r\n    //this.lastsum=this.lastsum-this.datastore.itemslist[index].price;\r\n    this.datastore.itemslist[index].qty = this.datastore.itemslist[index].qty - 1;\r\n    if (this.datastore.itemslist[index].qty == 0) {\r\n      this.removeItem(index);\r\n    }\r\n\r\n    this.updateRec();\r\n  }\r\n\r\n  newItemName = \"\";\r\n  newUnitPrice: number = null;\r\n  newUnitQty = 1;\r\n  newItemCat = \"\";\r\n  newItemDiscount: number = null;\r\n\r\n  addNewItem() {\r\n    if (this.newItemName != \"\" && this.newUnitPrice != null && this.newUnitQty != null) {\r\n      const newitem = {\r\n        code: \"000000\",\r\n        name: this.newItemName,\r\n        price: this.newUnitPrice,\r\n        qty: this.newUnitQty,\r\n        discount: this.newItemDiscount ? this.newItemDiscount : 0,\r\n      };\r\n\r\n      this.datastore.itemslist.push(newitem);\r\n      this.newItemCat = \"\";\r\n      this.newItemName = \"\";\r\n      this.newUnitPrice = null;\r\n      this.newUnitQty = 1;\r\n      this.newItemDiscount = 0;\r\n      this.showrec = true;\r\n      this.displayManual = 0;\r\n\r\n      this.updateRec();\r\n    }\r\n  }\r\n\r\n  listProducts: any;\r\n  filteredList: any;\r\n  listArray: any = [];\r\n  listCat: any;\r\n  lastsumtax;\r\n\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  cancelRec() {\r\n    this.showrec = false;\r\n    this.datastore.itemslist = [];\r\n    this.lastsum = 0;\r\n    this.lastsumdisc = 0;\r\n    this.lastsumtax = 0;\r\n    this.discount = 0;\r\n    this.taxrate = 0;\r\n    this.taxbtn = 0;\r\n    this.displayManual = 0;\r\n    this.discbtn = 0;\r\n    this.updateRec();\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Receipt was cancelled\");\r\n    this.toastCtrl\r\n      .create({\r\n        // @ts-ignore\r\n        message: message.value,\r\n        duration: 2000,\r\n      })\r\n      .present();\r\n  }\r\n\r\n  prodidlist: any = [];\r\n  pnllist: any = [];\r\n  datetime = new Date();\r\n  tax_vat: any = [];\r\n  geolocation: {};\r\n\r\n  updateProduct() {}\r\n\r\n  async updateCb(postransacsum) {\r\n    this.getUserData();\r\n    this.userdata.cash_balance = (parseFloat(this.userdata.cash_balance) + parseFloat(postransacsum)).toString();\r\n    await this.sp.setUserDat(this.userdata);\r\n  }\r\n\r\n  shareRec() {\r\n    this.disableShare = true;\r\n    html2canvas(document.querySelector(\"#recImg\"), { useCORS: true }).then(canvas => {\r\n      // var ctx = canvas.getContext(\"2d\");\r\n      // var img = new Image();\r\n      // img.src = this.userdata.logo_url\r\n      // ctx.drawImage(img, 10, 10);\r\n      const dataUrl = canvas.toDataURL();\r\n      this.social\r\n        .share(\"Receipt made using Open POS app\\n\", \"\", dataUrl, \"facebook.com/openfinanceapp\")\r\n        .then(response => console.log(response))\r\n        .catch(err => console.log(err));\r\n    });\r\n    setTimeout(() => (this.disableShare = false), 1000);\r\n  }\r\n\r\n  disableDownload = false;\r\n  disableShare = false;\r\n\r\n  autodownloadRec() {\r\n    console.log(\"Preference:\", this.userdata.autosave);\r\n    if (this.userdata.autosave != 1 && this.userdata.autosave != -1) {\r\n      const alert = this.alertCtrl.create({\r\n        subTitle: \"Would you like to auto-download reciepts as images?\",\r\n        message: \"You can change this preference later in settings\",\r\n        buttons: [\r\n          {\r\n            text: \"No\",\r\n            handler: () => {\r\n              this.userdata.autosave = -1;\r\n              this.sp.setUserDat(this.userdata).then(() => {\r\n                this.toastCtrl\r\n                  .create({\r\n                    message: \"OK\",\r\n                    duration: 1500,\r\n                  })\r\n                  .present();\r\n              });\r\n            },\r\n          },\r\n          {\r\n            text: \"Yes\",\r\n            handler: () => {\r\n              this.userdata.autosave = 1;\r\n              this.sp.setUserDat(this.userdata).then(() => {\r\n                this.recAction();\r\n              });\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      alert.present();\r\n    } else if (this.userdata.autosave == 1) {\r\n      this.recAction();\r\n    } else {\r\n      console.log(\"autosave attribute is -1\");\r\n    }\r\n  }\r\n\r\n  recAction() {\r\n    this.disableDownload = true;\r\n    this.toastCtrl.create({ message: \"Please Wait...\", duration: 3000 }).present();\r\n    html2canvas(document.querySelector(\"#recImg\"), { useCORS: true }).then(canvas => {\r\n      const dataUrl = canvas.toDataURL();\r\n      //   const options: Base64ToGalleryOptions = {\r\n      //     prefix: \"_img\",\r\n      //     mediaScanner: true,\r\n      //   };\r\n      //   this.base64toGallery\r\n      //     .base64ToGallery(dataUrl, options)\r\n      //     .then(res => console.log(res))\r\n      //     .catch(err => console.log(err));\r\n      //   // download(dataUrl, 'r.png');\r\n      this.photoLibrary\r\n        .requestAuthorization({ read: true, write: true })\r\n        .then(() => {\r\n          this.photoLibrary\r\n            .saveImage(dataUrl, \"OpenFinance\")\r\n            .then(libItem => {\r\n              console.log(\"Success!\", libItem);\r\n              this.toastCtrl.create({ message: \"Saved to Gallery!\", duration: 2000 }).present();\r\n            })\r\n            .catch(err => console.log(\"Error\" + err));\r\n        })\r\n        .catch(err => console.log(\"Permission not granted\"));\r\n    });\r\n    setTimeout(() => (this.disableDownload = false), 1000);\r\n  }\r\n\r\n  contactAlert() {\r\n    if (this.contact != \"\") {\r\n      let amountToCredit = 0;\r\n      const tempVal = this.lastsumtax;\r\n      const contactTemp = this.contact;\r\n      const a = this.alertCtrl.create({\r\n        enableBackdropDismiss: false,\r\n        inputs: [\r\n          {\r\n            //@ts-ignore\r\n            placeholder: this.translateConfigService.getTranslatedMessage(\"Amount to be paid later\").value,\r\n            type: \"number\",\r\n            name: \"creditAmount\",\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: this.translateConfigService.getTranslatedMessage(\"On Full Credit\").value,\r\n            handler: () => {\r\n              amountToCredit = tempVal;\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: this.translateConfigService.getTranslatedMessage(\"Cancel\").value,\r\n            role: \"cancel\",\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: this.translateConfigService.getTranslatedMessage(\"Okay\").value,\r\n            handler: data => {\r\n              if (data.creditAmount && data.creditAmount > 0) {\r\n                amountToCredit = data.creditAmount;\r\n              } else {\r\n                return false;\r\n              }\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      a.present();\r\n      a.onDidDismiss(async () => {\r\n        if (amountToCredit == 0) return;\r\n        const transaction = {\r\n          amount: -1 * amountToCredit,\r\n          date: this.datetime,\r\n          reminderDate: \"\",\r\n          discount: 0,\r\n          note: \"\",\r\n          img: \"\",\r\n        };\r\n        await this.sp.updateContactTransaction(contactTemp, [transaction]);\r\n      });\r\n    }\r\n  }\r\n\r\n  saveRec() {\r\n    this.datetime = new Date();\r\n    if (this.contact != null && this.contact != undefined && this.contact != \"\") {\r\n      this.contactAlert();\r\n    }\r\n    if (this.datastore.itemslist.length == 0) {\r\n    } else {\r\n      const data = {\r\n        itemslist: this.datastore.itemslist,\r\n        totalsum: this.lastsum,\r\n        prodidlist: this.prodidlist,\r\n        pnllist: this.pnllist,\r\n        datetime: this.datetime,\r\n        taxrate: this.taxrate,\r\n        discountlist: [],\r\n        discount: this.discount,\r\n        totaldisc: this.lastsumdisc,\r\n        totalatax: this.lastsumtax,\r\n        geolocation: this.geolocation,\r\n      };\r\n\r\n      this.datastore.itemslist.forEach(async product => {\r\n        if (product.code != \"000000\") {\r\n          const data1 = {\r\n            ...product,\r\n            code: product.code,\r\n            name: product.name,\r\n            price: product.price,\r\n            wholesale_price: product.wholesale_price,\r\n            cost: product.cost,\r\n            cat: product.cat,\r\n            url: product.url,\r\n            stock_qty: product.stock_qty - product.qty,\r\n          };\r\n          await this.sp.updateProduct(data1, product.code);\r\n          data.discountlist.push(product.discount);\r\n          this.discountlist.push(product.discount);\r\n          console.log(this.discountlist);\r\n        } else {\r\n          data.discountlist.push(product.discount);\r\n          this.discountlist.push(product.discount);\r\n        }\r\n      });\r\n\r\n      this.sp.storageReady().then(async () => {\r\n        // for(var i=0;i<160;i++){\r\n        console.log(data);\r\n        await this.sp.addTransactions(data);\r\n        await this.updateCb(this.lastsum).then(() => {\r\n          this.events.publish(\"cbUpdate:created\", 0);\r\n          this.events.publish(\"productUpdate:created\", 0);\r\n          //this.sp.backupStorage();\r\n          console.log(\"backup here\");\r\n        });\r\n        //}\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n        const toast = this.toastCtrl.create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 3000,\r\n        });\r\n\r\n        //REFLECT CHANGE ON CASH BALANCE HERE & Reflect change in inventory here as well\r\n        this.lastTransaction = data;\r\n        console.log(this.lastTransaction);\r\n        this.datastore.itemslist = [];\r\n        this.lastsum = 0;\r\n        this.lastsumtax = 0;\r\n        this.lastsumdisc = 0;\r\n        this.discount = 0;\r\n        this.taxrate = 0;\r\n        this.taxbtn = 0;\r\n        this.discbtn = 0;\r\n        this.contact = \"\";\r\n        //this.sp.backupStorage();\r\n        toast.present();\r\n\r\n        this.showrec = false;\r\n      });\r\n    }\r\n    //this.getLastTransaction();\r\n    //(this.navCtrl.parent as Tabs).select(0);\r\n    setTimeout(() => this.autodownloadRec(), 2000);\r\n  }\r\n  discountlist = [];\r\n  addCalc() {\r\n    //(this.navCtrl.parent as Tabs).select(0);\r\n    const helpModal = this.modal.create(\"AllTransactionPage\");\r\n    helpModal.present();\r\n    this.delay(300).then(any => {\r\n      this.events.publish(\"addRecCalc:created\", JSON.stringify(this.datastore.itemslist)); //SEND ITEMS PRICE\r\n\r\n      console.log(\"Sent: 1332 \");\r\n\r\n      //your task after delay.\r\n    });\r\n  }\r\n\r\n  addSingleProd(item, index) {\r\n    (this.navCtrl.parent as Tabs).select(2);\r\n    this.delay(300).then(any => {\r\n      this.events.publish(\r\n        \"addSingleProd:created\",\r\n        JSON.stringify(item),\r\n        JSON.stringify(index),\r\n        JSON.stringify(this.datastore.itemslist),\r\n      );\r\n\r\n      console.log(\"Sent: 1330 \");\r\n\r\n      //your task after delay.\r\n    });\r\n  }\r\n\r\n  addProdList() {\r\n    (this.navCtrl.parent as Tabs).select(2);\r\n    this.delay(300).then(any => {\r\n      this.events.publish(\"addRecProd:created\", JSON.stringify(this.datastore.itemslist));\r\n\r\n      console.log(\"Sent: 1331 \");\r\n\r\n      //your task after delay.\r\n    });\r\n  }\r\n\r\n  // printOldRec(data){\r\n  //   this.datastore.itemslist=data.itemslist;\r\n  //   this.lastsum=data.totalsum,\r\n  //   prodidlist: this.prodidlist,\r\n  //   pnllist: this.pnllist,\r\n  //   datetime: this.datetime,\r\n  //   taxrate: this.taxrate,\r\n  //   discountlist: this.discountlist,\r\n  //   discount: this.discount,\r\n  //   totaldisc: this.lastsumdisc,\r\n  //   totalatax: this.lastsumtax,\r\n  // }\r\n\r\n  printRec() {\r\n    this.datetime = new Date();\r\n    if (this.contact != null && this.contact != undefined && this.contact != \"\") {\r\n      this.contactAlert();\r\n    }\r\n    if (this.datastore.itemslist.length == 0) {\r\n    } else {\r\n      const data = {\r\n        itemslist: this.datastore.itemslist,\r\n        totalsum: this.lastsum,\r\n        prodidlist: this.prodidlist,\r\n        pnllist: this.pnllist,\r\n        datetime: this.datetime,\r\n        taxrate: this.taxrate,\r\n        discountlist: this.discountlist,\r\n        discount: this.discount,\r\n        totaldisc: this.lastsumdisc,\r\n        totalatax: this.lastsumtax,\r\n      };\r\n\r\n      this.datastore.itemslist.forEach(product => {\r\n        if (product.code != \"000000\") {\r\n          const data1 = {\r\n            ...product,\r\n            code: product.code,\r\n            name: product.name,\r\n            price: product.price,\r\n            wholesale_price: product.wholesale_price,\r\n            cost: product.cost,\r\n            cat: product.cat,\r\n            url: product.url,\r\n            stock_qty: product.stock_qty - product.qty,\r\n          };\r\n          this.sp.updateProduct(data1, product.code).then(() => {});\r\n        }\r\n      });\r\n\r\n      this.sp.storageReady().then(async () => {\r\n        console.log(data);\r\n        this.sp.addTransactions(data);\r\n        await this.updateCb(this.lastsum).then(() => {\r\n          this.events.publish(\"cbUpdate:created\", 0);\r\n          this.events.publish(\"productUpdate:created\", 0);\r\n          //this.sp.backupStorage();\r\n          console.log(\"backup here\");\r\n        });\r\n        //this.sp.backupStorage();\r\n        this.lastTransaction = data;\r\n        console.log(this.lastTransaction);\r\n        this.prepareToPrint();\r\n      });\r\n    }\r\n  }\r\n\r\n  ///////////////////////\r\n\r\n  receipt: any;\r\n  inputData: any = {};\r\n\r\n  showToast(data) {\r\n    const toast = this.toastCtrl.create({\r\n      duration: 3000,\r\n      message: data,\r\n      position: \"bottom\",\r\n    });\r\n    toast.present();\r\n  }\r\n  print(device, data) {\r\n    console.log(\"Device mac: \", device);\r\n    console.log(\"Data: \", JSON.stringify(data));\r\n    this.datastore.itemslist = [];\r\n    this.lastsum = 0;\r\n    this.lastsumtax = 0;\r\n    this.lastsumdisc = 0;\r\n    this.discount = 0;\r\n    this.taxrate = 0;\r\n    this.taxbtn = 0;\r\n    this.discbtn = 0;\r\n\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Printing...\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Successful print!\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Ok\");\r\n    const msg4 = this.translateConfigService.getTranslatedMessage(\"There was an error printing, please try again!\");\r\n    const load = this.loadCtrl.create({\r\n      // @ts-ignore\r\n      content: msg1.value,\r\n      enableBackdropDismiss: true,\r\n    });\r\n    load.present();\r\n    this.printer.connectBluetooth(device).subscribe(\r\n      status => {\r\n        console.log(status);\r\n        this.printer\r\n          .printData(data)\r\n          .then(printStatus => {\r\n            console.log(printStatus);\r\n            const alert = this.alertCtrl.create({\r\n              //@ts-ignore\r\n              title: msg2.value,\r\n              buttons: [\r\n                {\r\n                  //@ts-ignore\r\n                  text: msg3.value,\r\n                  handler: () => {\r\n                    load.dismiss();\r\n                    this.printer.disconnectBluetooth();\r\n                  },\r\n                },\r\n              ],\r\n            });\r\n            this.datastore.itemslist = [];\r\n            this.lastsum = 0;\r\n            this.lastsumtax = 0;\r\n            this.lastsumdisc = 0;\r\n            this.discount = 0;\r\n            this.taxrate = 0;\r\n            this.taxbtn = 0;\r\n            this.discbtn = 0;\r\n            alert.present();\r\n            //(this.navCtrl.parent as Tabs).select(0);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            const alert = this.alertCtrl.create({\r\n              //@ts-ignore\r\n              title: msg4.value,\r\n              buttons: [\r\n                {\r\n                  //@ts-ignore\r\n                  text: msg3.value,\r\n                  handler: () => {\r\n                    load.dismiss();\r\n                    //this.printer.disconnectBluetooth();\r\n                  },\r\n                },\r\n              ],\r\n            });\r\n            this.datastore.itemslist = [];\r\n            this.lastsum = 0;\r\n            this.lastsumtax = 0;\r\n            this.lastsumdisc = 0;\r\n            this.discount = 0;\r\n            this.taxrate = 0;\r\n            this.taxbtn = 0;\r\n            this.discbtn = 0;\r\n            alert.present();\r\n            //(this.navCtrl.parent as Tabs).select(0);\r\n          });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        const alert = this.alertCtrl.create({\r\n          title: \"There was an error connecting to the printer, please try again!\",\r\n          buttons: [\r\n            {\r\n              text: \"Ok\",\r\n              handler: () => {\r\n                load.dismiss();\r\n                //this.printer.disconnectBluetooth();\r\n              },\r\n            },\r\n          ],\r\n        });\r\n        alert.present();\r\n      },\r\n    );\r\n  }\r\n\r\n  getDateTime(datetime) {\r\n    //return (datetime.getDate() + \"/\" + (datetime.getMonth() + 1) + \"/\" + datetime. getFullYear())\r\n    const temp = new Date(datetime);\r\n    const temp1 = temp;\r\n\r\n    const t =\r\n      temp.getDate().toString() +\r\n      \"/\" +\r\n      (temp.getMonth() + 1).toString() +\r\n      \"/\" +\r\n      temp.getFullYear().toString() +\r\n      \" \" +\r\n      this.getHours(temp) +\r\n      \":\" +\r\n      this.getMinutes(temp);\r\n    return t;\r\n    //if any hours or mins <0 then need to add 0 4 use cases\r\n  }\r\n\r\n  getHours(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getHours();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  getMinutes(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getMinutes();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  showOldRec() {\r\n    //this.app.getRootNav().setRoot(SummarySummaryPage, { item: \"ViewRecs\" });\r\n    //this.events.publish(\"ViewRecs\", 0);\r\n    console.log(\"View Recs Called\");\r\n  }\r\n\r\n  printLogo() {\r\n    const encoder = new EscPosEncoder();\r\n    const result = encoder.initialize();\r\n    const img = new Image();\r\n    img.crossOrigin = \"Anonymous\";\r\n    img.src = this.userdata.logo_url;\r\n    console.log(\"URL \" + this.userdata.logo_url);\r\n    //  \"https://firebasestorage.googleapis.com/v0/b/open-fintech.appspot.com/o/prodImages%2F65435757_2393255207562866_2949577797074419712_n.jpg?alt=media&token=1a481415-2e75-4473-b56f-ec18099545ad\";\r\n    img.onload = () => {\r\n      result\r\n        .align(\"center\")\r\n        .image(img, 256, 256, \"atkinson\", 128)\r\n        .newline();\r\n      result\r\n        .codepage(\"cp936\")\r\n        .align(\"center\")\r\n        .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n        .line(this.userdata.business_name)\r\n        .raw(commands.TEXT_FORMAT.TXT_NORMAL)\r\n        .line(this.userdata.business_address)\r\n        .line(this.userdata.businesstype)\r\n        .line(this.userdata.ph_no)\r\n        .newline()\r\n        .line(this.getDateTime(this.datetime))\r\n        .align(\"center\")\r\n        .text(commands.HORIZONTAL_LINE.HR_58MM)\r\n        .newline();\r\n      if (this.datastore != null) {\r\n        result\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.RST_HT)\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.SET_HT)\r\n          .text(\"Item Name           \") //10 char + 10 char\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"Qty \") //4 char\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"Price   \") //8 char\r\n          .newline()\r\n          .newline();\r\n\r\n        this.datastore.itemslist.forEach((element, index) => {\r\n          element.qty = element.qty.toString();\r\n          element.price = element.price.toString();\r\n          //autotab system\r\n          if (element.name.length < 20) {\r\n            for (let i = element.name.length; i < 20; i++) {\r\n              element.name += \" \";\r\n            }\r\n          } else {\r\n            element.name = element.name.substring(0, 20);\r\n          }\r\n\r\n          if (element.qty < 10000) {\r\n            for (let i = element.qty.length; i < 4; i++) {\r\n              element.qty += \" \";\r\n            }\r\n          } else {\r\n            element.qty.substring(0, 4);\r\n          }\r\n\r\n          if (element.price < 10000000) {\r\n            for (let i = element.price.length; i < 8; i++) {\r\n              element.price += \" \";\r\n            }\r\n          } else {\r\n            element.price.substring(0, 8);\r\n          }\r\n          result\r\n\r\n            .text(element.name) //19 + space\r\n            //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n            .text(element.qty) //4+ space\r\n            //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n            .text(element.price) //7+space\r\n\r\n            .newline();\r\n          if (parseFloat(element.discount) != 0) {\r\n            result\r\n              .text(\"Discount (\" + Math.round(parseFloat(element.discount) * 100) / 100 + \"%) : \")\r\n\r\n              .text(\"-\" + Math.round((element.price * element.discount * element.qty) / 100))\r\n              .newline();\r\n          }\r\n        });\r\n        const spacer1 = \"                  \";\r\n        const spacer2 = \"    \";\r\n        const spacer3 = \"         \";\r\n        result.newline();\r\n        result.align(\"center\").line(spacer1 + \"Total: \" + this.lastsumAfterIndividualDiscount);\r\n        if (this.lastsumAfterIndividualDiscount != this.lastsumdisc) {\r\n          result.line(spacer2 + \"After Discount (\" + Math.round(this.discount * 100) / 100 + \"%): \" + this.lastsumdisc);\r\n        }\r\n        if (this.lastsumAfterIndividualDiscount != this.lastsumtax) {\r\n          result.line(spacer3 + \"After Tax (\" + Math.round(this.taxrate * 100) / 100 + \"%): \" + this.lastsumtax);\r\n        }\r\n      }\r\n\r\n      result\r\n        .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n        .newline()\r\n        .line(\"\")\r\n        .newline()\r\n        .cut(\"full\");\r\n      this.mountAlertBt(result.encode());\r\n    };\r\n  }\r\n\r\n  prepareToPrint() {\r\n    this.showrec = false;\r\n    setTimeout(() => this.autodownloadRec(), 2000);\r\n    /*\r\n        let receipt = '';\r\n        receipt += commands.HARDWARE.HW_INIT;\r\n        receipt += commands.TEXT_FORMAT.TXT_4SQUARE;\r\n        receipt += commands.TEXT_FORMAT.TXT_ALIGN_CT;\r\n        receipt += data.title.toUpperCase();\r\n        receipt += commands.EOL;\r\n        receipt += commands.TEXT_FORMAT.TXT_NORMAL;\r\n        receipt += commands.HORIZONTAL_LINE.HR_58MM;\r\n        receipt += commands.EOL;\r\n        receipt += commands.HORIZONTAL_LINE.HR2_58MM;\r\n        receipt += commands.EOL;\r\n        receipt += commands.TEXT_FORMAT.TXT_ALIGN_LT;\r\n        receipt += data.text;\r\n        //secure space on footer\r\n        receipt += commands.EOL;\r\n        receipt += commands.EOL;\r\n        receipt += commands.EOL;*/\r\n    //this.receipt = receipt;\r\n    const encoder = new EscPosEncoder();\r\n    const result = encoder.initialize();\r\n    if (this.userdata.logo_url != \"\" && this.userdata.logo_url != null && this.userdata.logo_url != undefined) {\r\n      this.printLogo();\r\n    } else {\r\n      result\r\n        .codepage(\"cp936\")\r\n        .align(\"center\")\r\n        .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n        .line(this.userdata.business_name)\r\n        .raw(commands.TEXT_FORMAT.TXT_NORMAL)\r\n        .line(this.userdata.business_address)\r\n        .line(this.userdata.businesstype)\r\n        .line(this.userdata.ph_no)\r\n        .newline()\r\n        .line(this.getDateTime(this.datetime))\r\n        .align(\"center\")\r\n        .text(commands.HORIZONTAL_LINE.HR_58MM)\r\n        .newline();\r\n      if (this.datastore != null) {\r\n        result\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.RST_HT)\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.SET_HT)\r\n          .text(\"Item Name           \") //10 char + 10 char\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"Qty \") //4 char\r\n          //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"Price   \") //8 char\r\n          .newline()\r\n          .newline();\r\n\r\n        this.datastore.itemslist.forEach((element, index) => {\r\n          element.qty = element.qty.toString();\r\n          element.price = element.price.toString();\r\n          //autotab system\r\n          if (element.name.length < 20) {\r\n            for (let i = element.name.length; i < 20; i++) {\r\n              element.name += \" \";\r\n            }\r\n          } else {\r\n            element.name = element.name.substring(0, 20);\r\n          }\r\n\r\n          if (element.qty < 10000) {\r\n            for (let i = element.qty.length; i < 4; i++) {\r\n              element.qty += \" \";\r\n            }\r\n          } else {\r\n            element.qty.substring(0, 4);\r\n          }\r\n\r\n          if (element.price < 10000000) {\r\n            for (let i = element.price.length; i < 8; i++) {\r\n              element.price += \" \";\r\n            }\r\n          } else {\r\n            element.price.substring(0, 8);\r\n          }\r\n          result\r\n\r\n            .text(element.name) //19 + space\r\n            //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n            .text(element.qty) //4+ space\r\n            //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n            .text(element.price) //7+space\r\n\r\n            .newline();\r\n          if (parseFloat(element.discount) != 0) {\r\n            result\r\n              .text(\"Discount (\" + Math.round(parseFloat(element.discount) * 100) / 100 + \"%) : \")\r\n\r\n              .text(\"-\" + Math.round((element.price * element.discount * element.qty) / 100))\r\n              .newline();\r\n          }\r\n        });\r\n        const spacer1 = \"                  \";\r\n        const spacer2 = \"    \";\r\n        const spacer3 = \"         \";\r\n        result.newline();\r\n        result.align(\"center\").line(spacer1 + \"Total: \" + this.lastsumAfterIndividualDiscount);\r\n        if (this.lastsumAfterIndividualDiscount != this.lastsumdisc) {\r\n          result.line(spacer2 + \"After Discount (\" + Math.round(this.discount * 100) / 100 + \"%): \" + this.lastsumdisc);\r\n        }\r\n        if (this.lastsumAfterIndividualDiscount != this.lastsumtax) {\r\n          result.line(spacer3 + \"After Tax (\" + Math.round(this.taxrate * 100) / 100 + \"%): \" + this.lastsumtax);\r\n        }\r\n      }\r\n\r\n      result\r\n        .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n        .newline()\r\n        .line(\"\")\r\n        .newline()\r\n        .cut(\"full\");\r\n      this.mountAlertBt(result.encode());\r\n    }\r\n  }\r\n\r\n  mountAlertBt(data) {\r\n    this.receipt = data;\r\n    console.log(this.receipt);\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Select your printer\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Select printer\");\r\n    const msg4 = this.translateConfigService.getTranslatedMessage(\"Select a printer!\");\r\n    const msg5 = this.translateConfigService.getTranslatedMessage(\r\n      \"There was an error connecting the printer, please try again!\",\r\n    );\r\n    const msg6 = this.translateConfigService.getTranslatedMessage(\"Error activating bluetooth, please try again!\");\r\n\r\n    const alert = this.alertCtrl.create({\r\n      //TRANSLATE THIS\r\n      // @ts-ignore\r\n      title: msg1.value,\r\n      buttons: [\r\n        {\r\n          // @ts-ignore\r\n          text: msg2.value,\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          // @ts-ignore\r\n          text: msg3.value,\r\n          handler: device => {\r\n            if (!device) {\r\n              // @ts-ignore\r\n              this.showToast(msg4.value);\r\n              return false;\r\n            }\r\n            console.log(device);\r\n            this.print(device, this.receipt);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    this.printer\r\n      .enableBluetooth()\r\n      .then(() => {\r\n        this.printer\r\n          .searchBluetooth()\r\n          .then(devices => {\r\n            devices.forEach(device => {\r\n              //console.log(\"Devices: \", JSON.stringify(device));\r\n              alert.addInput({\r\n                name: \"printer\",\r\n                value: device.address,\r\n                label: device.name,\r\n                type: \"radio\",\r\n              });\r\n            });\r\n            alert.present();\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            // @ts-ignore\r\n            this.showToast(msg5.value);\r\n            this.mountAlertBt(this.receipt);\r\n          });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // @ts-ignore\r\n        this.showToast(msg6.value);\r\n        this.mountAlertBt(this.receipt);\r\n      });\r\n  }\r\n\r\n  addContact() {\r\n    // this.events.publish(\"chooseContact\");\r\n    const m = this.modal.create(ContactsPage, { data: true });\r\n    m.present();\r\n    m.onDidDismiss(data => {\r\n      if (data == null || data == undefined) {\r\n        return;\r\n      }\r\n      this.contact = data.name;\r\n      if (!data.discount || data.discount == 0) return;\r\n      if (this.discbtn == 0) {\r\n        this.setDisc();\r\n      }\r\n      let tempNumberVal: any = this.discount;\r\n      tempNumberVal = parseFloat(tempNumberVal);\r\n      this.discount = tempNumberVal + parseFloat(data.discount);\r\n      console.log(\"Discount is\", this.discount);\r\n      if (this.discount > 100) this.discount = 100;\r\n      this.updateRec();\r\n    });\r\n  }\r\n  clearContact() {\r\n    this.contact = \"\";\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/income-transaction/income-transaction.ts","import { Component, ViewChild, ElementRef, NgZone } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  Events,\r\n  ToastController,\r\n  AlertController,\r\n  LoadingController,\r\n  Tabs,\r\n  ModalController,\r\n} from \"ionic-angular\";\r\nimport { Chart } from \"chart.js\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport EscPosEncoder from \"esc-pos-encoder-ionic\";\r\nimport { commands } from \"./../../providers/printer/printer-commands\";\r\nimport { PrinterProvider } from \"../../providers/printer/printer\";\r\n\r\n/**\r\n * Generated class for the SummaryGraphsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-summary-graphs\",\r\n  templateUrl: \"summary-graphs.html\",\r\n})\r\nexport class SummaryGraphsPage {\r\n  @ViewChild(\"barCanvas\") barCanvas: ElementRef;\r\n  @ViewChild(\"lineCanvas\") lineCanvas: ElementRef;\r\n\r\n  private barChart: Chart;\r\n  private lineChart: Chart;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public modal: ModalController,\r\n    public sp: StorageProvider,\r\n    public events: Events,\r\n    private translateConfigService: TranslateConfigService,\r\n    public toastCtrl: ToastController,\r\n    public zone: NgZone,\r\n    private alertCtrl: AlertController,\r\n    private printer: PrinterProvider,\r\n    private loadCtrl: LoadingController,\r\n  ) {\r\n    //this.getSummary();\r\n    this.events.subscribe(\"ViewRecs\", data => {\r\n      (this.navCtrl.parent as Tabs).select(0);\r\n      console.log(\"ViewRecs Event\");\r\n    });\r\n    this.getUserData();\r\n    this.events.subscribe(\"cbUpdate:created\", async data => {\r\n      console.log(\"should update\");\r\n      this.ionViewDidLoad();\r\n    });\r\n    this.events.subscribe(\"productUpdate:created\", async data => {\r\n      this.ionViewDidLoad();\r\n    });\r\n  }\r\n\r\n  doRefresh(refresher) {\r\n    this.ionViewDidLoad();\r\n    refresher.complete();\r\n  }\r\n\r\n  expanded = true;\r\n  usrchoice = \"today\";\r\n\r\n  userdata: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: \"en\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    logo_url: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          //console.log(this.userdata);\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  toggleExpanded() {\r\n    //console.log(\"changing: \" + this.expanded);\r\n    if (this.expanded == true) {\r\n      this.expanded = false;\r\n\r\n      // this.zone.run(()=>{\r\n      //   //@ts-ignore\r\n      //   this.expandedvar = this.translateConfigService.getTranslatedMessage(\"Close\").value;\r\n      // })\r\n    } else if (this.expanded == false) {\r\n      this.expanded = true;\r\n      //   this.zone.run(()=>{\r\n      //   //@ts-ignore\r\n      //   this.expandedvar = this.translateConfigService.getTranslatedMessage(\"Expand\").value;\r\n      // });\r\n    }\r\n\r\n    //console.log(\"changed: \" + this.expandedvar);\r\n  }\r\n\r\n  applyLoan() {\r\n    this.modal.create(\"LoanHomePage\").present();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad SummaryHomePage\");\r\n    console.log(\"ionViewDidLoad SummaryGraphsPage\");\r\n    this.rev = 0;\r\n    this.exp = 0;\r\n    this.pro = 0;\r\n    this.netcashtoday = 0;\r\n    this.netcashweek = 0;\r\n    this.netcashmonth = 0;\r\n    this.netcashlast30 = 0;\r\n    this.group = \"today\";\r\n    this.isgraph = 0;\r\n    this.islist = 1;\r\n    this.usrchoice = \"today\";\r\n    this.todayDate = new Date().toISOString();\r\n    this.toDate = new Date().toISOString();\r\n    this.fromDate = new Date().toISOString();\r\n    this.getUserData();\r\n    // this.setPgValues(\"today\");\r\n    this.dateChange();\r\n  }\r\n\r\n  currentdatetime = Date.now();\r\n  netcashtoday = 0;\r\n  netcashweek = 0;\r\n  netcashmonth = 0;\r\n  netcashlast30 = 0;\r\n  //@ts-ignore\r\n  expandedvar = this.translateConfigService.getTranslatedMessage(\"More\").value;\r\n\r\n  rev = 0;\r\n  exp = 0;\r\n  pro = 0;\r\n  group = \"today\";\r\n\r\n  expandTransac(transac) {\r\n    if (transac.expanded == true) {\r\n      transac.expanded = false;\r\n      //@ts-ignore\r\n      transac.expandedvar = this.translateConfigService.getTranslatedMessage(\"Close\").value;\r\n    } else {\r\n      transac.expanded = true;\r\n      //@ts-ignore\r\n\r\n      transac.expandedvar = this.translateConfigService.getTranslatedMessage(\"More\").value;\r\n    }\r\n  }\r\n\r\n  listtransac: any = [];\r\n  listtransacrev: any;\r\n  totalsaletoday = 0;\r\n\r\n  todayDate;\r\n  toDate;\r\n  fromDate;\r\n\r\n  getTransac(options?: { start?: Date; end?: Date }) {\r\n    this.rev = 0;\r\n    this.exp = 0;\r\n    this.pro = 0;\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getTransactions(options)\r\n        .then(async val => {\r\n          this.listtransac = JSON.parse(val);\r\n          //console.log(this.listtransac)\r\n          this.listtransac = this.listtransac.filter(transac => {\r\n            return !transac.isDisabled;\r\n          });\r\n          this.listtransac.forEach(element => {\r\n            element.datetime1 = this.getDateTime(element.datetime);\r\n            element.expanded = true;\r\n            //@ts-ignore\r\n            element.expandedvar = this.translateConfigService.getTranslatedMessage(\"More\").value;\r\n          });\r\n          this.listtransacrev = this.listtransac.reverse();\r\n        })\r\n        .then(() => {\r\n          this.setvalues(); //set pro, rev & exp for whatever time period\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n\r\n  dateChange() {\r\n    let start = new Date(this.fromDate); //subtract one day\r\n    start = new Date(start.getFullYear(), start.getMonth(), start.getDate(), 0, 0, 0);\r\n    const end = new Date(this.toDate);\r\n    this.getTransac({ start: start, end: end });\r\n  }\r\n\r\n  setPgValues(group) {\r\n    this.rev = 0;\r\n    this.exp = 0;\r\n    this.pro = 0;\r\n    const datestart = new Date();\r\n    if (group == \"today\") {\r\n      datestart.setDate(datestart.getDate() - 1);\r\n      console.log(datestart);\r\n      this.getTransac({ start: datestart });\r\n    } else if (group == \"last7\") {\r\n      datestart.setDate(datestart.getDate() - 8);\r\n      this.getTransac({ start: datestart });\r\n    } else if (group == \"month\") {\r\n      datestart.setDate(datestart.getDate() - (datestart.getDay() + 1));\r\n      this.getTransac({ start: datestart });\r\n    } else if (group == \"last30\") {\r\n      datestart.setDate(datestart.getDate() - 31);\r\n      console.log(datestart);\r\n      this.getTransac({ start: datestart });\r\n    }\r\n  }\r\n\r\n  setvalues() {\r\n    this.listtransac.forEach(element => {\r\n      if (element.totalatax >= 0) {\r\n        this.rev += parseInt(element.totalatax);\r\n\r\n        element.itemslist.forEach((product, index) => {\r\n          if (product.code != \"000000\") {\r\n            this.pro =\r\n              this.pro +\r\n              ((parseFloat(product.price) * (100 - parseFloat(product.discount))) / 100 - parseFloat(product.cost)) *\r\n                parseFloat(product.qty);\r\n          }\r\n        });\r\n      } else {\r\n        this.exp += parseInt(element.totalatax);\r\n      }\r\n    });\r\n    this.generateGraphs();\r\n  }\r\n\r\n  async updateCb(transacsum) {\r\n    this.getUserData();\r\n    this.userdata.cash_balance = (parseFloat(this.userdata.cash_balance) - parseFloat(transacsum)).toString();\r\n    this.sp.setUserDat(this.userdata);\r\n  }\r\n\r\n  delTransac(transac) {\r\n    this.sp.storageReady().then(async () => {\r\n      // transac.itemslist.forEach(async product => {\r\n      //   if (product.code != \"000000\") {\r\n\r\n      //     const data1 = {\r\n      //       code: product.code,\r\n      //       name: product.name,\r\n      //       price: product.price,\r\n      //       wholesale_price: product.wholesale_price,\r\n      //       cost: product.cost,\r\n      //       cat: product.cat,\r\n      //       url: product.url,\r\n      //       stock_qty: product.stock_qty + (product.qty-1),//need to be current stock qty\r\n      //     };\r\n      //   await this.sp.updateProduct(data1, product.code);\r\n      //   }\r\n      // });\r\n      await this.sp.deleteTransactions(transac);\r\n      await this.updateCb(transac.totalatax);\r\n\r\n      setTimeout(() => {\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n        const toast = this.toastCtrl.create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 3000,\r\n        });\r\n        this.getTransac();\r\n        toast.present();\r\n      }, 1000);\r\n      this.ionViewDidLoad();\r\n    });\r\n  }\r\n\r\n  printRec(transac) {\r\n    //console.log(transac);\r\n    const encoder = new EscPosEncoder();\r\n    const result = encoder.initialize();\r\n\r\n    result\r\n      .codepage(\"cp936\")\r\n      .align(\"center\")\r\n      .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n      .line(this.userdata.business_name)\r\n      .raw(commands.TEXT_FORMAT.TXT_NORMAL)\r\n      .line(this.userdata.business_address)\r\n      .line(this.userdata.businesstype)\r\n      .line(this.userdata.ph_no)\r\n      .align(\"left\")\r\n      .newline()\r\n      .line(this.getDateTime(transac.datetime))\r\n      .align(\"center\")\r\n      .text(commands.HORIZONTAL_LINE.HR_58MM)\r\n      .newline();\r\n\r\n    transac.itemslist.forEach(element => {\r\n      element.qty = element.qty.toString();\r\n      element.price = element.price.toString();\r\n      //autotab system\r\n      if (element.name.length < 20) {\r\n        for (let i = element.name.length; i < 20; i++) {\r\n          element.name += \" \";\r\n        }\r\n      } else {\r\n        element.name = element.name.substring(0, 20);\r\n      }\r\n\r\n      if (element.qty < 10000) {\r\n        for (let i = element.qty.length; i < 4; i++) {\r\n          element.qty += \" \";\r\n        }\r\n      } else {\r\n        element.qty.substring(0, 4);\r\n      }\r\n\r\n      if (element.price < 10000000) {\r\n        for (let i = element.price.length; i < 8; i++) {\r\n          element.price += \" \";\r\n        }\r\n      } else {\r\n        element.price.substring(0, 8);\r\n      }\r\n      result\r\n\r\n        .text(element.name) //19 + space\r\n        //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n        .text(element.qty) //4+ space\r\n        //.raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n        .text(element.price) //7+space\r\n\r\n        .newline();\r\n      if (parseFloat(element.discount) != 0) {\r\n        result\r\n          .text(\"Discount (\" + Math.round(parseFloat(element.discount) * 100) / 100 + \"%) : \", 30)\r\n          .raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"\")\r\n          .raw(commands.FEED_CONTROL_SEQUENCES.CTL_HT)\r\n          .text(\"-\" + Math.round((element.price * element.discount * element.qty) / 100))\r\n          .newline();\r\n      }\r\n    });\r\n    result.newline();\r\n    result.align(\"right\").line(\"Total: \" + transac.totalsum);\r\n    if (transac.totalsum != transac.totaldisc) {\r\n      result.line(\" After Discount (\" + Math.round(transac.discount * 100) / 100 + \"%): \" + transac.totaldisc);\r\n    }\r\n    if (transac.totalsum != transac.totalatax) {\r\n      result.line(\"After Tax (\" + Math.round(transac.taxrate * 100) / 100 + \"%): \" + transac.totalatax);\r\n    }\r\n    result\r\n      .raw(commands.TEXT_FORMAT.TXT_4SQUARE)\r\n      .newline()\r\n      .line(\"\")\r\n      .newline()\r\n      .line(\"\")\r\n      .newline()\r\n      .cut(\"full\");\r\n\r\n    this.mountAlertBt(result.encode());\r\n  }\r\n\r\n  showToast(data) {\r\n    const toast = this.toastCtrl.create({\r\n      duration: 3000,\r\n      message: data,\r\n      position: \"bottom\",\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  receipt: any;\r\n\r\n  mountAlertBt(data) {\r\n    this.receipt = data;\r\n    //console.log(this.receipt);\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Select your printer\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Select printer\");\r\n    const msg4 = this.translateConfigService.getTranslatedMessage(\"Select a printer!\");\r\n    const msg5 = this.translateConfigService.getTranslatedMessage(\r\n      \"There was an error connecting the printer, please try again!\",\r\n    );\r\n    const msg6 = this.translateConfigService.getTranslatedMessage(\"Error activating bluetooth, please try again!\");\r\n\r\n    const alert = this.alertCtrl.create({\r\n      //TRANSLATE THIS\r\n      // @ts-ignore\r\n      title: msg1.value,\r\n      buttons: [\r\n        {\r\n          // @ts-ignore\r\n          text: msg2.value,\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          // @ts-ignore\r\n          text: msg3.value,\r\n          handler: device => {\r\n            if (!device) {\r\n              // @ts-ignore\r\n              this.showToast(msg4.value);\r\n              return false;\r\n            }\r\n            //console.log(device);\r\n            this.print(device, this.receipt);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    this.printer\r\n      .enableBluetooth()\r\n      .then(() => {\r\n        this.printer\r\n          .searchBluetooth()\r\n          .then(devices => {\r\n            devices.forEach(device => {\r\n              //console.log(\"Devices: \", JSON.stringify(device));\r\n              alert.addInput({\r\n                name: \"printer\",\r\n                value: device.address,\r\n                label: device.name,\r\n                type: \"radio\",\r\n              });\r\n            });\r\n            alert.present();\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            // @ts-ignore\r\n            this.showToast(msg5.value);\r\n            this.mountAlertBt(this.receipt);\r\n          });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // @ts-ignore\r\n        this.showToast(msg6.value);\r\n        this.mountAlertBt(this.receipt);\r\n      });\r\n  }\r\n\r\n  print(device, data) {\r\n    //console.log(\"Device mac: \", device);\r\n    //console.log(\"Data: \", JSON.stringify(data));\r\n\r\n    const msg1 = this.translateConfigService.getTranslatedMessage(\"Printing...\");\r\n    const msg2 = this.translateConfigService.getTranslatedMessage(\"Successful print!\");\r\n    const msg3 = this.translateConfigService.getTranslatedMessage(\"Ok\");\r\n    const msg4 = this.translateConfigService.getTranslatedMessage(\"There was an error printing, please try again!\");\r\n    const load = this.loadCtrl.create({\r\n      // @ts-ignore\r\n      content: msg1.value,\r\n      enableBackdropDismiss: true,\r\n    });\r\n    load.present();\r\n    this.printer.connectBluetooth(device).subscribe(\r\n      status => {\r\n        //console.log(status);\r\n        this.printer\r\n          .printData(data)\r\n          .then(printStatus => {\r\n            //console.log(printStatus);\r\n            const alert = this.alertCtrl.create({\r\n              //@ts-ignore\r\n              title: msg2.value,\r\n              buttons: [\r\n                {\r\n                  //@ts-ignore\r\n                  text: msg3.value,\r\n                  handler: () => {\r\n                    load.dismiss();\r\n                    this.printer.disconnectBluetooth();\r\n                  },\r\n                },\r\n              ],\r\n            });\r\n            alert.present();\r\n            (this.navCtrl.parent as Tabs).select(0);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            const alert = this.alertCtrl.create({\r\n              //@ts-ignore\r\n              title: msg4.value,\r\n              buttons: [\r\n                {\r\n                  //@ts-ignore\r\n                  text: msg3.value,\r\n                  handler: () => {\r\n                    load.dismiss();\r\n                    //this.printer.disconnectBluetooth();\r\n                  },\r\n                },\r\n              ],\r\n            });\r\n            alert.present();\r\n            (this.navCtrl.parent as Tabs).select(0);\r\n          });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        const alert = this.alertCtrl.create({\r\n          title: \"There was an error connecting to the printer, please try again!\",\r\n          buttons: [\r\n            {\r\n              text: \"Ok\",\r\n              handler: () => {\r\n                load.dismiss();\r\n                //this.printer.disconnectBluetooth();\r\n              },\r\n            },\r\n          ],\r\n        });\r\n        alert.present();\r\n      },\r\n    );\r\n  }\r\n\r\n  toggleGL() {\r\n    if (this.isgraph == 1) {\r\n      this.isgraph = 0;\r\n      this.islist = 1;\r\n    } else {\r\n      this.isgraph = 1;\r\n      this.islist = 1;\r\n    }\r\n  }\r\n  toggleList() {\r\n    if (this.islist == 1) {\r\n      this.isgraph = 1;\r\n      this.islist = 0;\r\n    } else {\r\n      this.islist = 1;\r\n      this.isgraph = 0;\r\n    }\r\n  }\r\n\r\n  getDateTime(datetime) {\r\n    //return (datetime.getDate() + \"/\" + (datetime.getMonth() + 1) + \"/\" + datetime. getFullYear())\r\n    const temp = new Date(datetime);\r\n    //console.log(temp);\r\n    const temp1 = temp;\r\n\r\n    const t = temp.getDate().toString() + \"/\" + (temp.getMonth() + 1).toString() + \" \" + this.getTime(temp).toString();\r\n    return t;\r\n    //if any hours or mins <0 then need to add 0 4 use cases\r\n  }\r\n\r\n  getTime(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = this.getHours(temp) + \":\" + this.getMinutes(temp); //+ \":\" + this.getSeconds(temp);\r\n    return t;\r\n  }\r\n\r\n  getDate(datetime) {\r\n    const temp = new Date(datetime);\r\n    const temp1 = temp;\r\n    const t = temp.getDate();\r\n    return t;\r\n  }\r\n\r\n  getMonth(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getMonth();\r\n    return t;\r\n  }\r\n\r\n  getHours(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getHours();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  getSeconds(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getSeconds();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  isgraph = 0;\r\n  islist = 0;\r\n\r\n  getMinutes(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getMinutes();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n  netcash = 0;\r\n\r\n  generateGraphs() {\r\n    this.barChart = new Chart(this.barCanvas.nativeElement, {\r\n      type: \"bar\",\r\n      data: {\r\n        labels: [\"Revenue\", \"Expenses\", \"Profit\"],\r\n        datasets: [\r\n          {\r\n            label: \"Amount\",\r\n            data: [this.rev, -this.exp, this.pro],\r\n            backgroundColor: [\"rgba(255, 99, 132, 0.2)\", \"rgba(54, 162, 235, 0.2)\", \"rgba(255, 206, 86, 0.2)\"],\r\n            borderColor: [\"rgba(255,99,132,1)\", \"rgba(54, 162, 235, 1)\", \"rgba(255, 206, 86, 1)\"],\r\n            borderWidth: 1,\r\n          },\r\n        ],\r\n      },\r\n      options: {\r\n        scales: {\r\n          yAxes: [\r\n            {\r\n              ticks: {\r\n                beginAtZero: true,\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      },\r\n    });\r\n\r\n    let temprev = 0;\r\n    let tempexp = 0;\r\n    const temppro = 0;\r\n    const labels = [];\r\n    const datarev = [];\r\n    const dataexp = [];\r\n    const datapro = [];\r\n    const k = 0;\r\n\r\n    if (this.listtransac.length == 0) {\r\n      datarev.push(temprev);\r\n      dataexp.push(tempexp);\r\n      datapro.push(temppro);\r\n      labels.push(this.currentdatetime);\r\n    }\r\n\r\n    this.listtransac.forEach(element => {\r\n      if (element.totalatax >= 0) {\r\n        temprev += parseInt(element.totalatax);\r\n        datarev.push(element.totalatax);\r\n        dataexp.push(0);\r\n        let temppro = 0;\r\n        element.itemslist.forEach((product, index) => {\r\n          if (product.code != \"000000\") {\r\n            temppro =\r\n              temppro +\r\n              ((parseFloat(product.price) * (100 - parseFloat(product.discount))) / 100 - parseFloat(product.cost)) *\r\n                parseFloat(product.qty);\r\n          }\r\n        });\r\n        datapro.push(temppro);\r\n        labels.push(this.getDateTime(element.datetime));\r\n      } else {\r\n        tempexp = -parseInt(element.totalatax);\r\n        datarev.push(0);\r\n        dataexp.push(-element.totalatax);\r\n        datapro.push(0);\r\n        labels.push(this.getDateTime(element.datetime));\r\n      }\r\n    });\r\n    // if (this.group == \"last7\") {\r\n    //   const d = new Date();\r\n    //   for (let i = 29; i > 23; i--) {\r\n    //     d.setDate(d.getDate() - 1);\r\n    //     datarev.push(this.summary[i].revenue);\r\n    //     dataexp.push(-this.summary[i].expenses);\r\n    //     datapro.push(this.summary[i].profit);\r\n    //     labels.push(this.getDateTime(d));\r\n    //   }\r\n    // }\r\n\r\n    // if (this.group == \"month\") {\r\n    //   const currday = this.getDate(this.currentdatetime);\r\n    //   const d = new Date();\r\n    //   for (let i = 30; i > 30 - currday && i > -1; i--) {\r\n    //     d.setDate(d.getDate() - 1);\r\n    //     datarev.push(this.summary[i].revenue);\r\n    //     dataexp.push(-this.summary[i].expenses);\r\n    //     datapro.push(this.summary[i].profit);\r\n    //     labels.push(this.getDateTime(d));\r\n    //   }\r\n    // }\r\n    // if (this.group == \"last30\") {\r\n    //   const d = new Date();\r\n    //   for (let i = 30; i >= 0; i--) {\r\n    //     d.setDate(d.getDate() - 1);\r\n    //     datarev.push(this.summary[i].revenue);\r\n    //     dataexp.push(-this.summary[i].expenses);\r\n    //     datapro.push(this.summary[i].profit);\r\n    //     labels.push(this.getDateTime(d));\r\n    //   }\r\n    // }\r\n\r\n    this.lineChart = new Chart(this.lineCanvas.nativeElement, {\r\n      type: \"line\",\r\n      data: {\r\n        labels: labels.reverse(),\r\n        datasets: [\r\n          {\r\n            label: \"Revenue\",\r\n            fill: true,\r\n            lineTension: 0.1,\r\n            backgroundColor: \"rgba(75,192,192,0.4)\",\r\n            borderColor: \"rgba(75,192,192,1)\",\r\n            borderCapStyle: \"butt\",\r\n            borderDash: [],\r\n            borderDashOffset: 0.0,\r\n            borderJoinStyle: \"miter\",\r\n            pointBorderColor: \"rgba(75,192,192,1)\",\r\n            pointBackgroundColor: \"#fff\",\r\n            pointBorderWidth: 1,\r\n            pointHoverRadius: 5,\r\n            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n            pointHoverBorderWidth: 2,\r\n            pointRadius: 1,\r\n            pointHitRadius: 10,\r\n            data: datarev.reverse(),\r\n            spanGaps: false,\r\n          },\r\n          {\r\n            label: \"Expenses\",\r\n            fill: true,\r\n            lineTension: 0.1,\r\n            backgroundColor: \"rgba(54, 162, 235, 0.4)\",\r\n            borderColor: \"rgba(54, 162, 235, 11)\",\r\n            borderCapStyle: \"butt\",\r\n            borderDash: [],\r\n            borderDashOffset: 0.0,\r\n            borderJoinStyle: \"miter\",\r\n            pointBorderColor: \"rgba(54, 162, 235, 1)\",\r\n            pointBackgroundColor: \"#fff\",\r\n            pointBorderWidth: 1,\r\n            pointHoverRadius: 5,\r\n            pointHoverBackgroundColor: \"rgba(54, 162, 235, 1)\",\r\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n            pointHoverBorderWidth: 2,\r\n            pointRadius: 1,\r\n            pointHitRadius: 10,\r\n            data: dataexp.reverse(),\r\n            spanGaps: false,\r\n          },\r\n          {\r\n            label: \"Profit\",\r\n            fill: true,\r\n            lineTension: 0.1,\r\n            backgroundColor: \"rgba(255, 206, 86, 0.4)\",\r\n            borderColor: \"rgba(255, 206, 86, 1)\",\r\n            borderCapStyle: \"butt\",\r\n            borderDash: [],\r\n            borderDashOffset: 0.0,\r\n            borderJoinStyle: \"miter\",\r\n            pointBorderColor: \"rgba(255, 206, 86, 1)\",\r\n            pointBackgroundColor: \"#fff\",\r\n            pointBorderWidth: 1,\r\n            pointHoverRadius: 5,\r\n            pointHoverBackgroundColor: \"rgba(255, 206, 86, 1)\",\r\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n            pointHoverBorderWidth: 2,\r\n            pointRadius: 1,\r\n            pointHitRadius: 10,\r\n            data: datapro.reverse(),\r\n            spanGaps: false,\r\n          },\r\n        ],\r\n      },\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/summary-graphs/summary-graphs.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams, ViewController, ToastController, AlertController } from \"ionic-angular\";\r\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { CameraOptions, Camera } from \"@ionic-native/camera\";\r\nimport firebase from \"firebase\";\r\n\r\n/**\r\n * Generated class for the BusinessCardPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-business-card\",\r\n  templateUrl: \"business-card.html\",\r\n})\r\nexport class BusinessCardPage {\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public view: ViewController,\r\n    private social: SocialSharing,\r\n    private translateConfigService: TranslateConfigService,\r\n    private toastCtrl: ToastController,\r\n    private alertCtrl: AlertController,\r\n    private sp: StorageProvider,\r\n    private camera: Camera,\r\n  ) {}\r\n\r\n  userdata;\r\n\r\n  ionViewWillLoad() {\r\n    console.log(\"ionViewWillLoad BusinessCardPage\");\r\n    this.userdata = this.navParams.get(\"data\");\r\n    console.log(this.userdata);\r\n  }\r\n\r\n  goBack() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  share() {\r\n    html2canvas(document.querySelector(\"#card\"), { useCORS: true }).then(canvas => {\r\n      const dataUrl = canvas.toDataURL();\r\n      this.social\r\n        .share(\r\n          \"This is my business card. Please feel free to contact us for any enquiries\\nCreated by OpenPOS\",\r\n          \"\",\r\n          dataUrl,\r\n          \"facebook.com/openfinanceapp\",\r\n        )\r\n        .then(response => console.log(response))\r\n        .catch(e => console.log(e));\r\n    });\r\n  }\r\n\r\n  editRecTop() {\r\n    const message = this.translateConfigService.getTranslatedMessage(\"Cancel\");\r\n    const message1 = this.translateConfigService.getTranslatedMessage(\"Save\");\r\n    const message2 = this.translateConfigService.getTranslatedMessage(\"Edit Receipt Details\");\r\n    const message3 = this.translateConfigService.getTranslatedMessage(\"Enter Information\");\r\n\r\n    const message4 = this.translateConfigService.getTranslatedMessage(\"Add Logo\");\r\n    const message5 = this.translateConfigService.getTranslatedMessage(\"Remove Logo\");\r\n\r\n    this.alertCtrl\r\n      .create({\r\n        //@ts-ignore\r\n        title: message2.value,\r\n        inputs: [\r\n          //@ts-ignore\r\n          { name: \"Line1\", placeholder: message3.value, value: this.userdata.business_name },\r\n          //@ts-ignore\r\n          { name: \"Line4\", placeholder: message3.value, value: this.userdata.ph_no },\r\n          //@ts-ignore\r\n          { name: \"Line3\", placeholder: message3.value, value: this.userdata.email },\r\n          //@ts-ignore\r\n          { name: \"Line2\", placeholder: message3.value, value: this.userdata.business_address },\r\n        ],\r\n        buttons: [\r\n          //@ts-ignore\r\n          { text: message.value, role: \"cancel\" },\r\n          {\r\n            //@ts-ignore\r\n            text: message1.value,\r\n            handler: data => {\r\n              this.userdata.business_name = data.Line1;\r\n              this.userdata.business_address = data.Line2;\r\n              this.userdata.email = data.Line3;\r\n              this.userdata.ph_no = data.Line4;\r\n              this.sp.setUserDat(this.userdata);\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: message4.value,\r\n            handler: data => {\r\n              this.launchCamera().then(() => {\r\n                this.upload_new();\r\n              });\r\n            },\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: message5.value,\r\n            handler: data => {\r\n              this.toastCtrl.create({ message: \"Please wait- removing...\", duration: 2000 }).present();\r\n              this.userdata.logo_url = \"\";\r\n              this.sp.setUserDat(this.userdata).then(() => {\r\n                this.toastCtrl.create({ message: \"Removed!\", duration: 2000 }).present();\r\n              });\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n\r\n  launchCamera() {\r\n    return new Promise((resolve, reject) => {\r\n      const options: CameraOptions = {\r\n        quality: 100,\r\n        sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        encodingType: this.camera.EncodingType.PNG,\r\n        mediaType: this.camera.MediaType.PICTURE,\r\n        correctOrientation: true,\r\n        targetHeight: 256,\r\n        targetWidth: 256,\r\n        allowEdit: true,\r\n      };\r\n      this.camera\r\n        .getPicture(options)\r\n        .then(pic => {\r\n          this.file = \"data:image/png;base64,\" + pic;\r\n          // console.log(base64Image)\r\n          resolve();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    });\r\n  }\r\n  file: any;\r\n\r\n  upload_new() {\r\n    //LET REF be tied to a particular product- we save the url in the products db\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(\"prodImages/\" + this.userdata.id + \"logo\")\r\n      .putString(this.file.split(\",\")[1], \"base64\")\r\n      .then(snap => {\r\n        snap.ref.getDownloadURL().then(url => {\r\n          console.log(\"Uploaded!\");\r\n          // do something with url here\r\n          this.userdata.logo_url = url;\r\n          this.toastCtrl.create({ message: \"Please wait- saving...\", duration: 2000 }).present();\r\n          this.sp.setUserDat(this.userdata).then(() => {\r\n            this.toastCtrl.create({ message: \"Saved!\", duration: 2000 }).present();\r\n          });\r\n          // this.temp = url;\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/business-card/business-card.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams, ToastController, AlertController, ModalController } from \"ionic-angular\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { FormControl, FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { TransactionHomePage } from \"../transaction-home/transaction-home\";\r\nimport { cloneDeep, isEqual } from \"lodash\";\r\nimport firebase from \"firebase\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\n\r\n/**\r\n * Generated class for the UserProfilePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-user-profile\",\r\n  templateUrl: \"user-profile.html\",\r\n})\r\nexport class UserProfilePage {\r\n  temptimes: any;\r\n  tempuser: any;\r\n  user: any = {\r\n    autosave: 0,\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: \"en\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n  oldUser: any = {\r\n    business_address: \"\",\r\n    business_name: \"\",\r\n    cash_balance: \"\",\r\n    currency: \"\",\r\n    created: \"\",\r\n    language: \"en\",\r\n    owner: \"\",\r\n    owner_name: \"\",\r\n    ph_no: \"\",\r\n    businesstype: \"\",\r\n    taxrate: 0.0,\r\n    discount: 0.0,\r\n  };\r\n  formUser: FormGroup;\r\n  submitButton: boolean;\r\n  listOfBType: string[] = [];\r\n  listOfCurrency: string[] = [];\r\n  listOfLang: string[] = [];\r\n  toggleSaver = true;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private sp: StorageProvider,\r\n    private formBuilder: FormBuilder,\r\n    private toastCtrl: ToastController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public alertCtrl: AlertController,\r\n    private modal: ModalController,\r\n  ) {\r\n    (this.temptimes = this.navParams.get(\"timestamp\")),\r\n      (this.tempuser = this.navParams.get(\"user\")),\r\n      console.log(this.temptimes + \" \" + this.tempuser),\r\n      (this.user = {\r\n        business_address: \"\",\r\n        business_name: \"\",\r\n        cash_balance: \"\",\r\n        currency: \"\",\r\n        created: \"\",\r\n        language: \"en\",\r\n        owner: \"\",\r\n        owner_name: \"\",\r\n        ph_no: \"\",\r\n        businesstype: \"\",\r\n        taxrate: 0.0,\r\n        discount: 0.0,\r\n      });\r\n    this.oldUser = {\r\n      business_address: \"\",\r\n      business_name: \"\",\r\n      cash_balance: \"\",\r\n      currency: \"\",\r\n      created: \"\",\r\n      language: \"en\",\r\n      owner: \"\",\r\n      owner_name: \"\",\r\n      ph_no: \"\",\r\n      businesstype: \"\",\r\n      taxrate: 0.0,\r\n      discount: 0.0,\r\n    };\r\n\r\n    this.submitButton = false;\r\n    //this.loadDropDowns();\r\n    this.formUser = this.formBuilder.group({\r\n      autosave: new FormControl(0, Validators.required),\r\n      business_name: new FormControl(\"\", Validators.required),\r\n      business_address: new FormControl(\"\", Validators.required),\r\n      owner_name: new FormControl(\"\", Validators.required),\r\n      businesstype: new FormControl(\"\", Validators.required),\r\n      ph_no: new FormControl(\"\", Validators.required),\r\n      currency: new FormControl(\"\", Validators.required),\r\n      cash_balance: new FormControl(0, Validators.required),\r\n      discount: new FormControl(0, Validators.required),\r\n      taxrate: new FormControl(0, Validators.required),\r\n      language: new FormControl(\"\", Validators.required),\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad UserProfilePage\");\r\n    this.getUser().then();\r\n    this.oldUser = cloneDeep(this.user);\r\n  }\r\n\r\n  // loadDropDowns() {\r\n  //   firebase\r\n  //     .firestore()\r\n  //     .collection(\"sign-up\")\r\n  //     .get()\r\n  //     .then(doc => {\r\n  //       doc.docs[0].data().businessType.forEach(b => {\r\n  //         this.listOfBType.push(b);\r\n  //       });\r\n  //       doc.docs[0].data().currency.forEach(c => {\r\n  //         this.listOfCurrency.push(c);\r\n  //       });\r\n  //       doc.docs[0].data().language.forEach(l => {\r\n  //         this.listOfLang.push(l);\r\n  //       });\r\n  //     });\r\n  // }\r\n\r\n  goBack() {\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  async getUser() {\r\n    const user = JSON.parse(await this.sp.getUserDat());\r\n    if (user === null || !user.id) {\r\n      console.log(\"user profile page: user is null\");\r\n    } else {\r\n      this.user = user;\r\n    }\r\n  }\r\n\r\n  setUser() {\r\n    if (!this.formUser.valid) {\r\n      console.log(\"invalid user update\");\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Incomplete\");\r\n      this.toastCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 1000,\r\n        })\r\n        .present();\r\n    } else {\r\n      this.translateConfigService.setLanguage(this.user.language);\r\n      this.sp.storageReady().then(() => {\r\n        this.sp\r\n          .setUserDat(this.user)\r\n          .then(() => {\r\n            console.log(\"new user data saved in storage\");\r\n            this.navCtrl.setRoot(TransactionHomePage);\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n          });\r\n      });\r\n      const message = this.translateConfigService.getTranslatedMessage(\"Update profile successful\");\r\n      this.toastCtrl\r\n        .create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 2000,\r\n        })\r\n        .present();\r\n    }\r\n  }\r\n\r\n  onChange() {\r\n    this.submitButton = !isEqual(this.user, this.oldUser);\r\n  }\r\n\r\n  toggleButton() {\r\n    if (this.toggleSaver && this.user.autosave == 1) {\r\n      this.toggleSaver = false;\r\n      return;\r\n    }\r\n    this.toggleSaver = false;\r\n    if (this.user.autosave == 1) {\r\n      this.user.autosave = -1;\r\n    } else this.user.autosave = 1;\r\n    console.log(this.user.autosave);\r\n    this.onChange();\r\n  }\r\n\r\n  help() {\r\n    const passedData = {\r\n      //youtube link, required text\r\n      page: \"Profile Page\",\r\n    };\r\n    const helpModal = this.modal.create(\"HelpPage\", { data: passedData });\r\n    helpModal.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-profile/user-profile.ts","import { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\n\r\nimport { AppModule } from \"./app.module\";\r\nimport { enableProdMode } from \"@angular/core\";\r\nenableProdMode();\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { ErrorHandler, NgModule } from \"@angular/core\";\r\nimport { AlertController, IonicApp, IonicErrorHandler, IonicModule, ToastController } from \"ionic-angular\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\n\r\nimport { MyApp } from \"./app.component\";\r\nimport { LoginPage } from \"../pages/login/login\";\r\nimport { TransactionHomePage } from \"../pages/transaction-home/transaction-home\";\r\nimport { AddProductPage } from \"../pages/addproduct/addproduct\";\r\n\r\nimport { StatusBar } from \"@ionic-native/status-bar\";\r\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\r\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\r\nimport { StorageProvider } from \"../providers/storage/storage\";\r\nimport { IonicStorageModule } from \"@ionic/storage\";\r\nimport { GettersetterProvider } from \"../providers/gettersetter/gettersetter\";\r\nimport { Camera } from \"@ionic-native/camera\";\r\nimport { HttpClientModule, HttpClient } from \"@angular/common/http\";\r\nimport { TranslateModule, TranslateLoader } from \"@ngx-translate/core\";\r\nimport { TranslateHttpLoader } from \"@ngx-translate/http-loader\";\r\nimport { TranslateConfigService } from \"../providers/translation/translate-config.service\";\r\nimport { BluetoothSerial } from \"@ionic-native/bluetooth-serial\";\r\nimport { PrinterProvider } from \"./../providers/printer/printer\";\r\nimport { Geolocation } from \"@ionic-native/geolocation\";\r\nimport { GeolocationService } from \"../providers/geolocation/geolocation.service\";\r\nimport { FcmService } from \"../providers/firebase-cloud-messaging/fcm.service\";\r\nimport { AppVersion } from \"@ionic-native/app-version\";\r\nimport { Market } from \"@ionic-native/market\";\r\nimport { CallNumber } from \"@ionic-native/call-number\";\r\nimport { EmailComposer } from \"@ionic-native/email-composer\";\r\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\r\nimport { Base64ToGallery } from \"@ionic-native/base64-to-gallery\";\r\nimport { PhotoLibrary } from \"@ionic-native/photo-library\";\r\nimport { Facebook } from \"@ionic-native/facebook\";\r\nimport { Contacts } from \"@ionic-native/contacts\";\r\nimport { LocalNotifications } from \"@ionic-native/local-notifications\";\r\nimport { SMS } from \"@ionic-native/sms\";\r\n\r\nimport { LoginPageModule } from \"../pages/login/login.module\";\r\nimport { TransactionHomePageModule } from \"../pages/transaction-home/transaction-home.module\";\r\nimport { AddProductPageModule } from \"../pages/addproduct/addproduct.module\";\r\nimport { SingleProductPage } from \"../pages/singleproduct/singleproduct\";\r\nimport { SingleProductPageModule } from \"../pages/singleproduct/singleproduct.module\";\r\nimport { TransactionProductPageModule } from \"../pages/transaction-product/transaction-product.module\";\r\nimport { TransactionProductPage } from \"../pages/transaction-product/transaction-product\";\r\nimport { AddProductCategoryPageModule } from \"../pages/add-product-category/add-product-category.module\";\r\nimport { AddProductCategoryPage } from \"../pages/add-product-category/add-product-category\";\r\nimport { AddProdSignupPageModule } from \"../pages/add-prod-signup/add-prod-signup.module\";\r\nimport { AddProdSignupPage } from \"../pages/add-prod-signup/add-prod-signup\";\r\nimport { UserDataPageModule } from \"../pages/user-data/user-data.module\";\r\nimport { ContactsPageModule } from \"../pages/contacts/contacts.module\";\r\nimport { ContactsPage } from \"../pages/contacts/contacts\";\r\nimport { IndividualContactPage } from \"../pages/individual-contact/individual-contact\";\r\nimport { IndividualContactPageModule } from \"../pages/individual-contact/individual-contact.module\";\r\nimport { CreditReminderPage } from \"../pages/credit-reminder/credit-reminder\";\r\nimport { CreditReminderPageModule } from \"../pages/credit-reminder/credit-reminder.module\";\r\n\r\n// language translation service\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, \"../assets/i18n/\", \".json\");\r\n}\r\n\r\n@NgModule({\r\n  declarations: [MyApp],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp, { preloadModules: true }),\r\n    IonicStorageModule.forRoot(),\r\n    LoginPageModule,\r\n    TransactionHomePageModule,\r\n    TransactionProductPageModule,\r\n    AddProductPageModule,\r\n    SingleProductPageModule,\r\n    AddProductCategoryPageModule,\r\n    AddProdSignupPageModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    UserDataPageModule,\r\n    ContactsPageModule,\r\n    IndividualContactPageModule,\r\n    CreditReminderPageModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient],\r\n      },\r\n    }),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    LoginPage,\r\n    TransactionHomePage,\r\n    TransactionProductPage,\r\n    AddProdSignupPage,\r\n    SingleProductPage,\r\n    AddProductPage,\r\n    AddProductCategoryPage,\r\n    ContactsPage,\r\n    IndividualContactPage,\r\n    CreditReminderPage,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    StorageProvider,\r\n    BarcodeScanner,\r\n    IonicStorageModule,\r\n    ToastController,\r\n    AlertController,\r\n    GettersetterProvider,\r\n    Camera,\r\n    TranslateConfigService,\r\n    BluetoothSerial,\r\n    PrinterProvider,\r\n    Geolocation,\r\n    GeolocationService,\r\n    FcmService,\r\n    AppVersion,\r\n    Market,\r\n    CallNumber,\r\n    EmailComposer,\r\n    SocialSharing,\r\n    Base64ToGallery,\r\n    //File,\r\n    PhotoLibrary,\r\n    Facebook,\r\n    Contacts,\r\n    LocalNotifications,\r\n    SMS,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"./af\": 192,\n\t\"./af.js\": 192,\n\t\"./ar\": 193,\n\t\"./ar-dz\": 194,\n\t\"./ar-dz.js\": 194,\n\t\"./ar-kw\": 195,\n\t\"./ar-kw.js\": 195,\n\t\"./ar-ly\": 196,\n\t\"./ar-ly.js\": 196,\n\t\"./ar-ma\": 197,\n\t\"./ar-ma.js\": 197,\n\t\"./ar-sa\": 198,\n\t\"./ar-sa.js\": 198,\n\t\"./ar-tn\": 199,\n\t\"./ar-tn.js\": 199,\n\t\"./ar.js\": 193,\n\t\"./az\": 200,\n\t\"./az.js\": 200,\n\t\"./be\": 201,\n\t\"./be.js\": 201,\n\t\"./bg\": 202,\n\t\"./bg.js\": 202,\n\t\"./bm\": 203,\n\t\"./bm.js\": 203,\n\t\"./bn\": 204,\n\t\"./bn.js\": 204,\n\t\"./bo\": 205,\n\t\"./bo.js\": 205,\n\t\"./br\": 206,\n\t\"./br.js\": 206,\n\t\"./bs\": 207,\n\t\"./bs.js\": 207,\n\t\"./ca\": 208,\n\t\"./ca.js\": 208,\n\t\"./cs\": 209,\n\t\"./cs.js\": 209,\n\t\"./cv\": 210,\n\t\"./cv.js\": 210,\n\t\"./cy\": 211,\n\t\"./cy.js\": 211,\n\t\"./da\": 212,\n\t\"./da.js\": 212,\n\t\"./de\": 213,\n\t\"./de-at\": 214,\n\t\"./de-at.js\": 214,\n\t\"./de-ch\": 215,\n\t\"./de-ch.js\": 215,\n\t\"./de.js\": 213,\n\t\"./dv\": 216,\n\t\"./dv.js\": 216,\n\t\"./el\": 217,\n\t\"./el.js\": 217,\n\t\"./en-SG\": 218,\n\t\"./en-SG.js\": 218,\n\t\"./en-au\": 219,\n\t\"./en-au.js\": 219,\n\t\"./en-ca\": 220,\n\t\"./en-ca.js\": 220,\n\t\"./en-gb\": 221,\n\t\"./en-gb.js\": 221,\n\t\"./en-ie\": 222,\n\t\"./en-ie.js\": 222,\n\t\"./en-il\": 223,\n\t\"./en-il.js\": 223,\n\t\"./en-nz\": 224,\n\t\"./en-nz.js\": 224,\n\t\"./eo\": 225,\n\t\"./eo.js\": 225,\n\t\"./es\": 226,\n\t\"./es-do\": 227,\n\t\"./es-do.js\": 227,\n\t\"./es-us\": 228,\n\t\"./es-us.js\": 228,\n\t\"./es.js\": 226,\n\t\"./et\": 229,\n\t\"./et.js\": 229,\n\t\"./eu\": 230,\n\t\"./eu.js\": 230,\n\t\"./fa\": 231,\n\t\"./fa.js\": 231,\n\t\"./fi\": 232,\n\t\"./fi.js\": 232,\n\t\"./fo\": 233,\n\t\"./fo.js\": 233,\n\t\"./fr\": 234,\n\t\"./fr-ca\": 235,\n\t\"./fr-ca.js\": 235,\n\t\"./fr-ch\": 236,\n\t\"./fr-ch.js\": 236,\n\t\"./fr.js\": 234,\n\t\"./fy\": 237,\n\t\"./fy.js\": 237,\n\t\"./ga\": 238,\n\t\"./ga.js\": 238,\n\t\"./gd\": 239,\n\t\"./gd.js\": 239,\n\t\"./gl\": 240,\n\t\"./gl.js\": 240,\n\t\"./gom-latn\": 241,\n\t\"./gom-latn.js\": 241,\n\t\"./gu\": 242,\n\t\"./gu.js\": 242,\n\t\"./he\": 243,\n\t\"./he.js\": 243,\n\t\"./hi\": 244,\n\t\"./hi.js\": 244,\n\t\"./hr\": 245,\n\t\"./hr.js\": 245,\n\t\"./hu\": 246,\n\t\"./hu.js\": 246,\n\t\"./hy-am\": 247,\n\t\"./hy-am.js\": 247,\n\t\"./id\": 248,\n\t\"./id.js\": 248,\n\t\"./is\": 249,\n\t\"./is.js\": 249,\n\t\"./it\": 250,\n\t\"./it-ch\": 251,\n\t\"./it-ch.js\": 251,\n\t\"./it.js\": 250,\n\t\"./ja\": 252,\n\t\"./ja.js\": 252,\n\t\"./jv\": 253,\n\t\"./jv.js\": 253,\n\t\"./ka\": 254,\n\t\"./ka.js\": 254,\n\t\"./kk\": 255,\n\t\"./kk.js\": 255,\n\t\"./km\": 256,\n\t\"./km.js\": 256,\n\t\"./kn\": 257,\n\t\"./kn.js\": 257,\n\t\"./ko\": 258,\n\t\"./ko.js\": 258,\n\t\"./ku\": 259,\n\t\"./ku.js\": 259,\n\t\"./ky\": 260,\n\t\"./ky.js\": 260,\n\t\"./lb\": 261,\n\t\"./lb.js\": 261,\n\t\"./lo\": 262,\n\t\"./lo.js\": 262,\n\t\"./lt\": 263,\n\t\"./lt.js\": 263,\n\t\"./lv\": 264,\n\t\"./lv.js\": 264,\n\t\"./me\": 265,\n\t\"./me.js\": 265,\n\t\"./mi\": 266,\n\t\"./mi.js\": 266,\n\t\"./mk\": 267,\n\t\"./mk.js\": 267,\n\t\"./ml\": 268,\n\t\"./ml.js\": 268,\n\t\"./mn\": 269,\n\t\"./mn.js\": 269,\n\t\"./mr\": 270,\n\t\"./mr.js\": 270,\n\t\"./ms\": 271,\n\t\"./ms-my\": 272,\n\t\"./ms-my.js\": 272,\n\t\"./ms.js\": 271,\n\t\"./mt\": 273,\n\t\"./mt.js\": 273,\n\t\"./my\": 274,\n\t\"./my.js\": 274,\n\t\"./nb\": 275,\n\t\"./nb.js\": 275,\n\t\"./ne\": 276,\n\t\"./ne.js\": 276,\n\t\"./nl\": 277,\n\t\"./nl-be\": 278,\n\t\"./nl-be.js\": 278,\n\t\"./nl.js\": 277,\n\t\"./nn\": 279,\n\t\"./nn.js\": 279,\n\t\"./pa-in\": 280,\n\t\"./pa-in.js\": 280,\n\t\"./pl\": 281,\n\t\"./pl.js\": 281,\n\t\"./pt\": 282,\n\t\"./pt-br\": 283,\n\t\"./pt-br.js\": 283,\n\t\"./pt.js\": 282,\n\t\"./ro\": 284,\n\t\"./ro.js\": 284,\n\t\"./ru\": 285,\n\t\"./ru.js\": 285,\n\t\"./sd\": 286,\n\t\"./sd.js\": 286,\n\t\"./se\": 287,\n\t\"./se.js\": 287,\n\t\"./si\": 288,\n\t\"./si.js\": 288,\n\t\"./sk\": 289,\n\t\"./sk.js\": 289,\n\t\"./sl\": 290,\n\t\"./sl.js\": 290,\n\t\"./sq\": 291,\n\t\"./sq.js\": 291,\n\t\"./sr\": 292,\n\t\"./sr-cyrl\": 293,\n\t\"./sr-cyrl.js\": 293,\n\t\"./sr.js\": 292,\n\t\"./ss\": 294,\n\t\"./ss.js\": 294,\n\t\"./sv\": 295,\n\t\"./sv.js\": 295,\n\t\"./sw\": 296,\n\t\"./sw.js\": 296,\n\t\"./ta\": 297,\n\t\"./ta.js\": 297,\n\t\"./te\": 298,\n\t\"./te.js\": 298,\n\t\"./tet\": 299,\n\t\"./tet.js\": 299,\n\t\"./tg\": 300,\n\t\"./tg.js\": 300,\n\t\"./th\": 301,\n\t\"./th.js\": 301,\n\t\"./tl-ph\": 302,\n\t\"./tl-ph.js\": 302,\n\t\"./tlh\": 303,\n\t\"./tlh.js\": 303,\n\t\"./tr\": 304,\n\t\"./tr.js\": 304,\n\t\"./tzl\": 305,\n\t\"./tzl.js\": 305,\n\t\"./tzm\": 306,\n\t\"./tzm-latn\": 307,\n\t\"./tzm-latn.js\": 307,\n\t\"./tzm.js\": 306,\n\t\"./ug-cn\": 308,\n\t\"./ug-cn.js\": 308,\n\t\"./uk\": 309,\n\t\"./uk.js\": 309,\n\t\"./ur\": 310,\n\t\"./ur.js\": 310,\n\t\"./uz\": 311,\n\t\"./uz-latn\": 312,\n\t\"./uz-latn.js\": 312,\n\t\"./uz.js\": 311,\n\t\"./vi\": 313,\n\t\"./vi.js\": 313,\n\t\"./x-pseudo\": 314,\n\t\"./x-pseudo.js\": 314,\n\t\"./yo\": 315,\n\t\"./yo.js\": 315,\n\t\"./zh-cn\": 316,\n\t\"./zh-cn.js\": 316,\n\t\"./zh-hk\": 317,\n\t\"./zh-hk.js\": 317,\n\t\"./zh-tw\": 318,\n\t\"./zh-tw.js\": 318\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 459;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 459\n// module chunks = 10","import firebase from \"firebase\";\r\nimport moment from \"moment\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport Timestamp = firebase.firestore.Timestamp;\r\nimport Transaction = firebase.firestore.Transaction;\r\nimport { hasInternet } from \"../../../utilities/hasInternet\";\r\n\r\ninterface Document {\r\n  id: string;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport const queryUser = async (): Promise<{ id?: string; user?: any }> => {\r\n  if (!(await hasInternet())) throw new Error(\"No internet connection\");\r\n  const db = firebase.firestore();\r\n  const userSnapshot = await db\r\n    .collection(\"users\")\r\n    .where(\"owner\", \"==\", firebase.auth().currentUser.uid)\r\n    .get();\r\n  const dataSet = [];\r\n  userSnapshot.forEach(doc => {\r\n    const user = doc.data();\r\n    convertTimestampToDate(user);\r\n    dataSet.push({ id: doc.id, user });\r\n  });\r\n  return dataSet[0];\r\n};\r\n\r\nexport const queryCollection = async (path: string, options?: { lastBackup?: Date }): Promise<any[]> => {\r\n  if (!(await hasInternet())) throw new Error(\"No internet connection\");\r\n  const db = firebase.firestore();\r\n  const defaultOptions = { lastBackup: new Date(\"2000-01-01T00:00:00.000Z\") };\r\n  const { lastBackup } = { ...defaultOptions, ...options };\r\n\r\n  let reference: firebase.firestore.Query = db.collection(path);\r\n  if (lastBackup) reference = reference.where(\"updatedAt\", \">=\", Timestamp.fromDate(new Date(lastBackup)));\r\n  const snapshot = await reference.get();\r\n\r\n  const dataSet = [];\r\n  snapshot.forEach(doc => {\r\n    const document = doc.data();\r\n    convertTimestampToDate(document);\r\n    dataSet.push({ id: doc.id, ...document });\r\n  });\r\n  return dataSet;\r\n};\r\n\r\nexport const convertTimestampToDate = (document): any => {\r\n  if (typeof document === \"object\") {\r\n    for (const [key, value] of Object.entries(document)) {\r\n      // @ts-ignore\r\n      if (value.seconds)\r\n        // @ts-ignore\r\n        document[key] = new Timestamp(value.seconds, value.nanoseconds).toDate();\r\n    }\r\n  }\r\n  return document;\r\n};\r\n\r\nexport const convertDateToTimestamp = (document): any => {\r\n  if (typeof document === \"object\")\r\n    for (const [key, value] of Object.entries(document)) {\r\n      // @ts-ignore\r\n      if (\r\n        (value instanceof Date || (typeof value === \"string\" && value.length > 10)) &&\r\n        moment(new Date(value), moment.ISO_8601).isValid()\r\n      ) {\r\n        // @ts-ignore\r\n        document[key] = new Date(value);\r\n      }\r\n    }\r\n};\r\n\r\nexport const updateCollectionWithTransaction = async (\r\n  t: Transaction,\r\n  path: string,\r\n  documents: Document[],\r\n): Promise<void> => {\r\n  const db = firebase.firestore();\r\n  for (const document of documents) {\r\n    // make sure that date objects are saved as Timestamps in firestore\r\n    const cloudDoc = cloneDeep(document);\r\n    convertDateToTimestamp(cloudDoc); // still have to resolve edge cases where value is a string, but should be a number, and the string length is more than 10\r\n\r\n    let id = cloudDoc.id;\r\n    let reference;\r\n    if (id) reference = db.collection(path).doc(id);\r\n    else {\r\n      reference = db.collection(path).doc();\r\n      id = reference.id;\r\n    }\r\n\r\n    // add id to document to be saved in memory\r\n    document.id = id;\r\n\r\n    await t.set(reference, { ...cloudDoc, id }, { merge: true });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/utilities/firestore.ts","import moment from \"moment\";\r\n\r\ninterface Document {\r\n  id: string;\r\n  updatedAt: Date;\r\n}\r\n\r\ninterface Collection {\r\n  deviceDocs: Document[];\r\n  cloudDocs: Document[];\r\n  callback?: (document, output) => void;\r\n  output?: any;\r\n}\r\n\r\nexport const syncDocuments = (collection: Collection): void => {\r\n  const { deviceDocs, cloudDocs, callback, output } = collection;\r\n  cloudDocs.forEach(cloudDoc => {\r\n    const index = deviceDocs.findIndex(deviceDoc => deviceDoc.id === cloudDoc.id);\r\n    if (index === -1) {\r\n      deviceDocs.push(cloudDoc);\r\n      if (callback) callback(cloudDoc, output);\r\n    } else {\r\n      const deviceDoc = deviceDocs[index];\r\n      if (cloudDoc.updatedAt) {\r\n        if (!deviceDoc.updatedAt || moment(cloudDoc.updatedAt).isSameOrAfter(deviceDoc.updatedAt))\r\n          deviceDocs[index] = cloudDoc;\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport const transactionCallback = (transaction, output): void => {\r\n  // re-calculate user cash balance\r\n  const total = Number(transaction.totalatax);\r\n  output.changeInCash += !isNaN(total) ? total : 0;\r\n\r\n  // re-calculate product stock quantity\r\n  const productList = transaction.itemslist ? transaction.itemslist : [];\r\n  productList.forEach(product => {\r\n    const currentProduct = output.products.find(data => data.code === product.code);\r\n    if (!currentProduct) return;\r\n    let quantity = Number(product.qty);\r\n    const currentStock = Number(currentProduct.stock_qty);\r\n    if (!isNaN(quantity) && !isNaN(currentStock)) {\r\n      quantity = total >= 0 ? -1 * quantity : quantity;\r\n      currentProduct.stock_qty = currentStock + quantity;\r\n      currentProduct.updatedAt = new Date();\r\n      console.log(`new cloud transaction: ${currentProduct.name} stock quantity change by: ${quantity}`);\r\n    }\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/utilities/backupStorage.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./streams (ignored)\n// module id = 514\n// module chunks = 10","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./extend-node (ignored)\n// module id = 515\n// module chunks = 10","import firebase from \"firebase\";\r\nimport uniqid from \"uniqid\";\r\nconst TimeStamp = firebase.firestore.Timestamp;\r\n\r\nconst defaultUser = {\r\n  created: firebase.firestore.FieldValue.serverTimestamp(),\r\n  owner: \"\",\r\n  owner_name: \"\",\r\n  autosave: 0,\r\n  business_name: \"\",\r\n  businesstype: \"\",\r\n  business_address: \"\",\r\n  email: \"sample@sample.com\",\r\n  ph_no: \"\",\r\n  language: \"en\",\r\n  currency: \"USD\",\r\n  cash_balance: 0,\r\n  discount: 0,\r\n  taxrate: 0,\r\n  logo_url:\r\n    \"https://scontent.fhkg10-1.fna.fbcdn.net/v/t1.0-9/79674109_100715951430298_615106696234139648_n.png?_nc_cat=109&_nc_ohc=2pdu1s1LRmoAX-04NCO&_nc_ht=scontent.fhkg10-1.fna&oh=70fea5a886837de2b9cf4aaf4a4112a8&oe=5EF6F085\",\r\n  categories: [{ id: uniqid(), name: \"Example\", updatedAt: new Date() }],\r\n};\r\n\r\nconst subCollections = [\r\n  {\r\n    id: \"products\",\r\n    documents: [\r\n      {\r\n        cat: \"Example\",\r\n        code: \"0000\",\r\n        cost: \"100\",\r\n        name: \"Example Product\",\r\n        price: \"0\",\r\n        stock_qty: \"10\",\r\n        url: \"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\",\r\n        wholesale_price: \"0\",\r\n        updatedAt: TimeStamp.now(),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"transactions\",\r\n    documents: [\r\n      {\r\n        datetime: new Date(),\r\n        discount: 0,\r\n        discountlist: [],\r\n        itemslist: [\r\n          {\r\n            cat: \"Example\",\r\n            code: \"0000\",\r\n            cost: \"0\",\r\n            name: \"Example Product\",\r\n            price: \"0\",\r\n            stock_qty: \"0\",\r\n            qty: 1,\r\n            discount: 0,\r\n          },\r\n        ],\r\n        pnllist: [],\r\n        prodidlist: [],\r\n        taxrate: 0,\r\n        totalatax: 0,\r\n        totaldisc: 0,\r\n        totalsum: 0,\r\n        updatedAt: TimeStamp.now(),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const createAccountDocument = async user => {\r\n  const db = firebase.firestore();\r\n\r\n  const userDoc = await db.collection(\"users\").add({\r\n    ...defaultUser,\r\n    ...user,\r\n  });\r\n  const userId = userDoc.id;\r\n  const batch = db.batch();\r\n  subCollections.forEach(collection => {\r\n    collection.documents.forEach(document => {\r\n      const documentReference = db.collection(`/users/${userId}/${collection.id}`).doc();\r\n      const id = documentReference.id;\r\n      batch.set(documentReference, { ...document, id });\r\n    });\r\n  });\r\n  await batch.commit();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/createAccountDocument.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { Nav, Platform, ToastController, App, AlertController } from \"ionic-angular\";\r\nimport { StatusBar } from \"@ionic-native/status-bar\";\r\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\r\n\r\nimport { LoginPage } from \"../pages/login/login\";\r\n\r\nimport * as firebase from \"firebase\";\r\nimport { TransactionHomePage } from \"../pages/transaction-home/transaction-home\";\r\nimport { StorageProvider } from \"../providers/storage/storage\";\r\nimport { UserDataPage } from \"../pages/user-data/user-data\";\r\nimport { TranslateConfigService } from \"../providers/translation/translate-config.service\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { FcmService } from \"../providers/firebase-cloud-messaging/fcm.service\";\r\nimport { hasInternet } from \"../utilities/hasInternet\";\r\nimport { initializeFirebase } from \"../utilities/initializeFirebase\";\r\n\r\n@Component({\r\n  templateUrl: \"app.html\",\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  rootPage: any;\r\n  //= LoginPage;\r\n  //2rootPage: any = AddProdSignupPage;\r\n\r\n  language: \"en\";\r\n  pages: Array<{ title: string; component: any }> = [{ title: \"Home\", component: TransactionHomePage }];\r\n  userLang: string;\r\n\r\n  constructor(\r\n    public app: App,\r\n    public platform: Platform,\r\n    public statusBar: StatusBar,\r\n    private translateService: TranslateService,\r\n    private translateConfigService: TranslateConfigService,\r\n    public splashScreen: SplashScreen,\r\n    public toastCtrl: ToastController,\r\n    public alertCtrl: AlertController,\r\n    public sp: StorageProvider,\r\n    private fcm: FcmService,\r\n  ) {\r\n    this.initializeApp();\r\n    this.backButtonEvent();\r\n\r\n    this.sp.getUserDat().then(user => {\r\n      if (user == null) {\r\n        this.userLang = \"en\";\r\n      } else {\r\n        const _user = JSON.parse(user);\r\n        this.userLang = _user.language;\r\n      }\r\n    });\r\n  }\r\n\r\n  backButtonEvent() {\r\n    this.platform.backButton.subscribe(async () => {\r\n      console.log(\"yoyo\");\r\n      (navigator as any).Backbutton.goHome();\r\n    });\r\n\r\n    this.platform.registerBackButtonAction(() => {\r\n      console.log(\"yo1\");\r\n    });\r\n\r\n    document.addEventListener(\"backbutton\", onBackKeyDown, false);\r\n    function onBackKeyDown() {\r\n      console.log(\"y03\");\r\n      // navigator.Backbutton.goHome(function() {\r\n      //     console.log('success')\r\n      // }, function() {\r\n      //     console.log('fail')\r\n      // });\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    //this.sp.backupStorageLogout().then();\r\n    if (await hasInternet())\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(() => {\r\n          this.toastCtrl\r\n            .create({\r\n              message: \"Logged out!\",\r\n              duration: 3000,\r\n            })\r\n            .present();\r\n          this.nav.setRoot(LoginPage);\r\n        });\r\n    else {\r\n      console.log(\"no internet, logout is not allowed\");\r\n    }\r\n  }\r\n\r\n  resetBackButton: any;\r\n\r\n  ionViewDidEnter() {}\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(async () => {\r\n      // initialise firebase app\r\n      const isThereFirebase = await initializeFirebase();\r\n      if (!isThereFirebase) console.log(\"no firebase\");\r\n\r\n      this.statusBar.styleDefault();\r\n      this.splashScreen.hide();\r\n\r\n      this.translateService.addLangs([\"en\", \"my\"]);\r\n      this.translateService.setDefaultLang(\"en\");\r\n      this.translateService.use(\"en\");\r\n      // do not remove the next line of code, will fix FCM in due time\r\n      // this.setupNotifications();\r\n\r\n      // if device memory has user data, open transaction home page, else open login page\r\n      // if no data exist, and no firebase app\r\n      const dataExist = await this.sp.hasData();\r\n      if (!isThereFirebase && !dataExist) {\r\n        console.log(\"critical error: cannot work without internet nor data\");\r\n\r\n        const alert = this.alertCtrl.create({\r\n          title: \"No internet and not logged in.\",\r\n          subTitle: \"Please connect to the internet, and restart this app.\",\r\n        });\r\n        await alert.present();\r\n\r\n        return;\r\n      }\r\n      this.rootPage = dataExist ? TransactionHomePage : LoginPage;\r\n      //this.openPage(this.rootPage);\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    this.nav.setRoot(page.component);\r\n  }\r\n\r\n  openUserProfilePage() {\r\n    this.openPage({ component: UserDataPage });\r\n  }\r\n\r\n  userdata: any;\r\n  onLangChange() {\r\n    this.translateConfigService.setLanguage(this.userLang);\r\n    this.getUserData();\r\n\r\n    this.nav.setRoot(TransactionHomePage, { lang: this.userLang });\r\n  }\r\n  async getUserData() {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .getUserDat()\r\n        .then(val => {\r\n          this.userdata = JSON.parse(val);\r\n          console.log(this.userdata);\r\n          this.userdata.language = this.userLang;\r\n          this.sp.storageReady().then(() => {\r\n            this.sp.setUserDat(this.userdata).then(() => {\r\n              console.log(this.userdata);\r\n              //this.sp.setMem();\r\n            });\r\n          });\r\n        })\r\n        .catch(err => {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { AddProductPage } from \"./addproduct\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [AddProductPage],\r\n  imports: [IonicPageModule.forChild(AddProductPage), TranslateModule.forChild()],\r\n  exports: [AddProductPage],\r\n})\r\nexport class AddProductPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addproduct/addproduct.module.ts","import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { SingleProductPage } from \"./singleproduct\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [SingleProductPage],\r\n  imports: [IonicPageModule.forChild(SingleProductPage), TranslateModule.forChild()],\r\n  exports: [SingleProductPage],\r\n})\r\nexport class SingleProductPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/singleproduct/singleproduct.module.ts","import { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { AddProdSignupPage } from \"./add-prod-signup\";\nimport { TranslateModule } from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [AddProdSignupPage],\n  imports: [IonicPageModule.forChild(AddProdSignupPage), TranslateModule.forChild()],\n  exports: [AddProdSignupPage],\n})\nexport class AddProdSignupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-prod-signup/add-prod-signup.module.ts","import { Component, NgZone } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  FabContainer,\r\n  AlertController,\r\n  ModalController,\r\n  ViewController,\r\n} from \"ionic-angular\";\r\nimport { Contacts } from \"@ionic-native/contacts\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { IndividualContactPage } from \"../individual-contact/individual-contact\";\r\n\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { CreditReminderPage } from \"../credit-reminder/credit-reminder\";\r\n\r\n/**\r\n * Generated class for the ContactsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-contacts\",\r\n  templateUrl: \"contacts.html\",\r\n})\r\nexport class ContactsPage {\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private contacts: Contacts,\r\n    private toastController: ToastController,\r\n    private sp: StorageProvider,\r\n    private alertCtrl: AlertController,\r\n    private modalCtrl: ModalController,\r\n    private translateConfigService: TranslateConfigService,\r\n    private zone: NgZone,\r\n    private view: ViewController,\r\n  ) {}\r\n\r\n  choosingContact;\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad ContactsPage\");\r\n    const temp = this.navParams.get(\"data\");\r\n    console.log(temp);\r\n    if (temp == true) {\r\n      this.choosingContact = true;\r\n    } else {\r\n      this.choosingContact = false;\r\n    }\r\n  }\r\n\r\n  dismiss() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  totalUserCredit: number;\r\n  totalUserDebit: number;\r\n  ionViewDidEnter() {\r\n    console.log(\"ionViewDidEnter ContactPage\");\r\n    this.sp.getContacts().then(val => {\r\n      if (val == null) {\r\n        this.contactList = [];\r\n      }\r\n      this.zone.run(() => {\r\n        this.contactList = JSON.parse(val);\r\n        this.totalUserCredit = 0;\r\n        this.totalUserDebit = 0;\r\n        this.contactList.forEach(contact => {\r\n          if (contact.balance > 0) this.totalUserDebit += contact.balance;\r\n          if (contact.balance < 0) this.totalUserCredit += contact.balance;\r\n        });\r\n        this.filteredList = this.contactList;\r\n      });\r\n    });\r\n  }\r\n\r\n  contactList = [];\r\n  searchterm = \"\";\r\n  filteredList;\r\n\r\n  navToIndividual(contact) {\r\n    if (this.choosingContact) {\r\n      const sendBack = {\r\n        name: contact.displayName,\r\n        discount: contact.discount,\r\n      };\r\n      this.view.dismiss(sendBack);\r\n      this.choosingContact = false;\r\n      return;\r\n    }\r\n    this.navCtrl.push(IndividualContactPage, { data: contact });\r\n  }\r\n\r\n  navAdd(num: number, fab: FabContainer) {\r\n    fab.close();\r\n    if (num == 1) {\r\n      // const modal = this.modalCtrl.create(AddFromContactsPage);\r\n      // modal.present();\r\n      // modal.onWillDismiss(listToAdd => {\r\n      //   const newContactList = [];\r\n      //   listToAdd.forEach(element => {\r\n      //     const temp = {\r\n      //       displayName: element.displayName,\r\n      //       phno: element.phoneNumbers,\r\n      //     };\r\n      //     // this.contactList.push(temp);\r\n      //     newContactList.push(temp);\r\n      //   });\r\n      //   this.sp.saveContacts(newContactList, false).then(() => {\r\n      //     this.ionViewDidEnter();\r\n      //   });\r\n      // });\r\n      this.contacts\r\n        .pickContact()\r\n        .then(contactReturned => {\r\n          const phNoList = [];\r\n          if (!contactReturned.phoneNumbers) {\r\n            alert(\"Cannot add contact without phone number\");\r\n            return;\r\n          }\r\n          contactReturned.phoneNumbers.forEach(num => {\r\n            let phoneNum = num.value;\r\n            while (phoneNum.indexOf(\" \") != -1) {\r\n              phoneNum = phoneNum.replace(\" \", \"\");\r\n            }\r\n            phNoList.push(phoneNum);\r\n          });\r\n          const temp = {\r\n            displayName: contactReturned.displayName,\r\n            phno: phNoList,\r\n          };\r\n          this.sp.saveContacts([temp], false).then(() => {\r\n            this.ionViewDidEnter();\r\n          });\r\n        })\r\n        .catch(e => console.log(e));\r\n    } else if (num == 2) {\r\n      const a = this.alertCtrl.create({\r\n        //@ts-ignore\r\n        subTitle: this.translateConfigService.getTranslatedMessage(\"Add Contact\").value,\r\n        inputs: [\r\n          {\r\n            name: \"name\",\r\n            //@ts-ignore\r\n            placeholder: this.translateConfigService.getTranslatedMessage(\"Contact Name\").value,\r\n          },\r\n          {\r\n            name: \"phno\",\r\n            //@ts-ignore\r\n            placeholder: this.translateConfigService.getTranslatedMessage(\"Contact Number\").value,\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            //@ts-ignore\r\n            text: this.translateConfigService.getTranslatedMessage(\"Cancel\").value,\r\n            role: \"cancel\",\r\n          },\r\n          {\r\n            //@ts-ignore\r\n            text: this.translateConfigService.getTranslatedMessage(\"Add\").value,\r\n            handler: data => {\r\n              if (data.name != \"\") {\r\n                try {\r\n                  if (data.phno.length < 8) throw Error;\r\n                  for (let i = 0; i < data.phno.length; i++) {\r\n                    const char: string = data.phno.charAt(i);\r\n                    if (char == \"+\") {\r\n                      if (i != 0) throw Error;\r\n                    } else if (char.localeCompare(\"0\") < 0 || char.localeCompare(\"9\") > 0) {\r\n                      throw Error;\r\n                    }\r\n                  }\r\n                } catch (error) {\r\n                  this.toastController\r\n                    .create({\r\n                      message: \"Improper phone number\",\r\n                      duration: 2500,\r\n                    })\r\n                    .present();\r\n                  return false;\r\n                }\r\n                const temp = {\r\n                  displayName: data.name,\r\n                  phno: [data.phno],\r\n                };\r\n                // this.contactList.push(temp);\r\n                this.sp.saveContacts([temp], true).then(() => {\r\n                  this.ionViewDidEnter();\r\n                });\r\n              } else {\r\n                this.toastController\r\n                  .create({\r\n                    //@ts-ignore\r\n                    message: this.translateConfigService.getTranslatedMessage(\"Please fill in name\").value,\r\n                    duration: 2500,\r\n                  })\r\n                  .present();\r\n                a.present();\r\n                return false;\r\n              }\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      a.present();\r\n    }\r\n    // this.zone.run(() => {\r\n    //   this.contactList.sort((a, b) => a.displayName.localeCompare(b.displayName));\r\n    //   this.filteredList = this.contactList;\r\n    // });\r\n  }\r\n\r\n  filter() {\r\n    if (this.contactList == null) return;\r\n    this.filteredList = this.contactList.filter(contact =>\r\n      contact.displayName.toLowerCase().includes(this.searchterm.toLowerCase()),\r\n    );\r\n  }\r\n\r\n  sort(num) {\r\n    if (num == 1 || num == 2) {\r\n      this.filteredList.sort((a, b) => a.displayName.localeCompare(b.displayName));\r\n      if (num == 2) {\r\n        this.filteredList.reverse();\r\n      }\r\n    } else if (num == 3 || num == 4) {\r\n      this.filteredList.sort((a, b) => a.balance - b.balance);\r\n      if (num == 4) {\r\n        this.filteredList.reverse();\r\n      }\r\n    }\r\n  }\r\n\r\n  navCredReminder() {\r\n    this.navCtrl.push(CreditReminderPage);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contacts/contacts.ts","import axios from \"axios\";\r\n\r\nexport const hasInternet = async (url?: string): Promise<boolean> => {\r\n  try {\r\n    if (!url) url = \"https://us-central1-open-fintech.cloudfunctions.net/data/versionNumber\";\r\n    await axios.get(url);\r\n    return true;\r\n  } catch (error) {}\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/hasInternet.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams, AlertController, ToastController } from \"ionic-angular\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\n\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\nimport { LocalNotifications } from \"@ionic-native/local-notifications\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { SocialSharing } from \"@ionic-native/social-sharing\";\r\nimport { SMS } from \"@ionic-native/sms\";\r\n\r\n/**\r\n * Generated class for the IndividualContactPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-individual-contact\",\r\n  templateUrl: \"individual-contact.html\",\r\n})\r\nexport class IndividualContactPage {\r\n  contact = {\r\n    displayName: \"\",\r\n    balance: 0,\r\n    phno: [],\r\n    transacHistory: [],\r\n    dueDate: \"\",\r\n    discount: 0,\r\n  };\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public alertCtrl: AlertController,\r\n    public sp: StorageProvider,\r\n    private toastCtrl: ToastController,\r\n    private translateConfigService: TranslateConfigService,\r\n    private localNotif: LocalNotifications,\r\n    private social: SocialSharing,\r\n    private sms: SMS,\r\n    private toastController: ToastController,\r\n  ) {\r\n    this.contact = this.navParams.get(\"data\");\r\n    if (!this.contact.discount) {\r\n      this.contact.discount = 0;\r\n    }\r\n    this.newDate = this.contact.dueDate;\r\n    this.newDisc = this.contact.discount;\r\n    // if(this.newDate==undefined) this.remDate();\r\n  }\r\n\r\n  listOfNewTransactions = [];\r\n  minDate = new Date().toISOString();\r\n  maxDate = new Date(new Date().setFullYear(new Date().getFullYear() + 2)).toISOString();\r\n  newDate;\r\n  newDisc;\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad IndividualContactPage\");\r\n  }\r\n\r\n  remDate() {\r\n    this.newDate = \"\";\r\n  }\r\n\r\n  async goBack() {\r\n    if (\r\n      this.listOfNewTransactions.length == 0 &&\r\n      this.newDate == this.contact.dueDate &&\r\n      this.newDisc == this.contact.discount\r\n    ) {\r\n      this.navCtrl.pop();\r\n    } else {\r\n      this.toastCtrl\r\n        .create({\r\n          //@ts-ignore\r\n          message: this.translateConfigService.getTranslatedMessage(\"Updating contact\").value,\r\n          dismissOnPageChange: true,\r\n          duration: 1500,\r\n        })\r\n        .present();\r\n      if (this.listOfNewTransactions.length > 0) {\r\n        await this.sp.updateContactTransaction(this.contact.displayName, this.listOfNewTransactions);\r\n      }\r\n      if (this.newDate != this.contact.dueDate) {\r\n        await this.sp.updateContactDate(this.contact.displayName, this.newDate);\r\n        const phoneNumToUse: string = this.contact.phno[0];\r\n        console.log(phoneNumToUse.toString());\r\n        const notifId: number = parseInt(phoneNumToUse.substring(phoneNumToUse.length - 8, phoneNumToUse.length));\r\n        console.log(notifId);\r\n        this.localNotif\r\n          .isScheduled(notifId)\r\n          .then(isSchdeuled => {\r\n            if (isSchdeuled) {\r\n              this.localNotif.cancel(notifId);\r\n              console.log(\"Cleared notif of\", notifId);\r\n            }\r\n            if (this.newDate != \"\") {\r\n              let timeSchedule = new Date(this.newDate).getTime() - new Date().getTime();\r\n              timeSchedule = timeSchedule <= 0 ? 0 : timeSchedule;\r\n              this.localNotif.schedule({\r\n                text: \"Credit/Debit due today from \" + this.contact.displayName,\r\n                id: notifId,\r\n                // trigger: { at: new Date(this.newDate) },\r\n                trigger: { at: new Date(new Date().getTime() + timeSchedule) },\r\n              });\r\n              console.log(\"Notif scheduled for: \", new Date(this.newDate));\r\n            }\r\n          })\r\n          .catch(e => console.log(e));\r\n      }\r\n      if (this.newDisc != this.contact.discount) {\r\n        await this.sp.updateContactDisc(this.contact.displayName, this.newDisc);\r\n      }\r\n      this.navCtrl.pop();\r\n    }\r\n  }\r\n\r\n  transaction(signedOne: number) {\r\n    let amountToAdd = 0;\r\n    const a = this.alertCtrl.create({\r\n      inputs: [\r\n        {\r\n          name: \"amount\",\r\n          //@ts-ignore\r\n          placeholder: this.translateConfigService.getTranslatedMessage(\"Amount\").value,\r\n          type: \"number\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Cancel\").value,\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Okay\").value,\r\n          handler: data => {\r\n            if (data.amount > 0) {\r\n              amountToAdd = data.amount * signedOne;\r\n            } else console.log(\"Improper Number\");\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    a.present();\r\n    a.onDidDismiss(() => {\r\n      if (amountToAdd === 0) {\r\n        return;\r\n      }\r\n      const transaction = {\r\n        amount: amountToAdd,\r\n        date: new Date(),\r\n        // reminderDate: \"\",\r\n        discount: 0,\r\n        note: \"\",\r\n        img: \"\",\r\n      };\r\n      if (!this.contact.transacHistory) this.contact.transacHistory = [];\r\n      this.contact.transacHistory.unshift(transaction);\r\n      this.contact.balance += amountToAdd;\r\n      this.listOfNewTransactions.unshift(transaction);\r\n    });\r\n  }\r\n\r\n  getDateTime(datetime, forSMS: boolean) {\r\n    //return (datetime.getDate() + \"/\" + (datetime.getMonth() + 1) + \"/\" + datetime. getFullYear())\r\n    const temp = new Date(datetime);\r\n\r\n    let t = temp.getDate().toString() + \"/\" + (temp.getMonth() + 1).toString() + \"/\" + temp.getFullYear().toString();\r\n    if (!forSMS) t = t + \" \" + this.getHours(temp) + \":\" + this.getMinutes(temp);\r\n    return t;\r\n    //if any hours or mins <0 then need to add 0 4 use cases\r\n  }\r\n\r\n  getHours(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getHours();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  getMinutes(datetime) {\r\n    const temp = new Date(datetime);\r\n    const t = temp.getMinutes();\r\n    if (t > 9) {\r\n      return t.toString();\r\n    } else {\r\n      return \"0\" + t.toString();\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    const a = this.alertCtrl.create({\r\n      //@ts-ignore\r\n      subTitle: this.translateConfigService.getTranslatedMessage(\"Are you sure you want to delete this contact?\").value,\r\n      buttons: [\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Cancel\").value,\r\n          role: \"cancel\",\r\n        },\r\n        {\r\n          //@ts-ignore\r\n          text: this.translateConfigService.getTranslatedMessage(\"Okay\").value,\r\n          handler: () => {\r\n            this.sp.deleteContact(this.contact.displayName).then(() => this.navCtrl.pop());\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    a.present();\r\n  }\r\n\r\n  usingShare = false;\r\n  share() {\r\n    this.usingShare = true;\r\n    html2canvas(document.querySelector(\"#share\"), { useCORS: true }).then(canvas => {\r\n      const dataUrl = canvas.toDataURL();\r\n      this.social\r\n        .share(\"Made using Open POS app\\n\", \"\", dataUrl, \"facebook.com/openfinanceapp\")\r\n        .then(response => console.log(response))\r\n        .catch(e => console.log(e));\r\n    });\r\n    setTimeout(() => (this.usingShare = false), 5000);\r\n  }\r\n\r\n  sendSMS() {\r\n    let message = \"Dear customer,\\nYou have a payment of \" + Math.abs(this.contact.balance).toString() + \" due\";\r\n    if (this.newDate != \"\") {\r\n      message += \" on \" + this.getDateTime(this.newDate, true);\r\n    }\r\n    message += \".\\nMade using Open POS app\\nfacebook.com/openfinanceapp\";\r\n    this.alertCtrl\r\n      .create({\r\n        title: \"Send SMS\",\r\n        subTitle: \"Message will be sent to: \",\r\n        inputs: [\r\n          {\r\n            name: \"phoneNum\",\r\n            value: this.contact.phno[0],\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: \"Cancel\",\r\n            role: \"cancel\",\r\n          },\r\n          {\r\n            text: \"Send\",\r\n            handler: data => {\r\n              try {\r\n                if (data.phoneNum.length < 8) throw Error;\r\n                for (let i = 0; i < data.phoneNum.length; ++i) {\r\n                  const char: string = data.phoneNum.charAt(i);\r\n                  if (char == \"+\") {\r\n                    if (i != 0) throw Error;\r\n                  } else if (char.localeCompare(\"0\") < 0 || char.localeCompare(\"9\") > 0) {\r\n                    throw Error;\r\n                  }\r\n                }\r\n              } catch {\r\n                this.toastController\r\n                  .create({\r\n                    message:\r\n                      \"Improper phone number. Number should be greater than 8 characters and not have any spaces\",\r\n                    duration: 2500,\r\n                  })\r\n                  .present();\r\n                return false;\r\n              }\r\n              if (this.contact.phno[0] != data.phoneNum) {\r\n                this.contact.phno[0] = data.phoneNum;\r\n                const temp = {\r\n                  displayName: this.contact.displayName,\r\n                  phno: this.contact.phno,\r\n                };\r\n                this.sp.saveContacts([temp], false);\r\n              }\r\n              this.sms\r\n                .send(data.phoneNum, message, { replaceLineBreaks: true, android: { intent: \"INTENT\" } })\r\n                .then(response => console.log(response))\r\n                .catch(e => console.log(e));\r\n            },\r\n          },\r\n        ],\r\n      })\r\n      .present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/individual-contact/individual-contact.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams, ToastController, Events } from \"ionic-angular\";\r\nimport { StorageProvider } from \"../../providers/storage/storage\";\r\nimport { TranslateConfigService } from \"../../providers/translation/translate-config.service\";\r\n\r\n/**\r\n * Generated class for the AddProductCategoryPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-add-product-category\",\r\n  templateUrl: \"add-product-category.html\",\r\n})\r\nexport class AddProductCategoryPage {\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private translateConfigService: TranslateConfigService,\r\n    public navParams: NavParams,\r\n    public sp: StorageProvider,\r\n    public toastCtrl: ToastController,\r\n    public events: Events,\r\n  ) {}\r\n\r\n  ionViewDidLoad() {\r\n    console.log(\"ionViewDidLoad AddProductCategoryPage\");\r\n    this.getCategories();\r\n  }\r\n\r\n  newprodCat: any = \"\";\r\n  listCat: any;\r\n  getCategories() {\r\n    this.sp.getCategories().then(value => {\r\n      this.listCat = JSON.parse(value);\r\n    });\r\n  }\r\n\r\n  addCategory() {\r\n    //console.log(this.listCat + \" and \" + this.newprodCat);\r\n    if (this.newprodCat != \"\") {\r\n      const data = {\r\n        name: this.newprodCat,\r\n      };\r\n      this.sp.storageReady().then(() => {\r\n        this.sp.addCategory(data).then(() => this.sp.getCategories().then(value => (this.listCat = JSON.parse(value))));\r\n        setTimeout(() => {\r\n          const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n          const toast = this.toastCtrl.create({\r\n            // @ts-ignore\r\n            message: message.value,\r\n            duration: 3000,\r\n          });\r\n          this.newprodCat = \"\";\r\n\r\n          //this.navCtrl.push(ProductListPage);\r\n          //this.events.publish('prodAdd:created',0);\r\n          // (this.navCtrl.parent as Tabs).select(0);\r\n          toast.present();\r\n        }, 1000);\r\n      });\r\n    }\r\n  }\r\n\r\n  delCat(element) {\r\n    this.sp.storageReady().then(() => {\r\n      this.sp\r\n        .deleteCategory(element)\r\n        .then(() => this.sp.getCategories().then(value => (this.listCat = JSON.parse(value))));\r\n\r\n      setTimeout(() => {\r\n        const message = this.translateConfigService.getTranslatedMessage(\"Finish\");\r\n        const toast = this.toastCtrl.create({\r\n          // @ts-ignore\r\n          message: message.value,\r\n          duration: 3000,\r\n        });\r\n        this.getCategories();\r\n\r\n        //this.navCtrl.push(ProductListPage);\r\n        //this.events.publish('prodAdd:created',0);\r\n        // (this.navCtrl.parent as Tabs).select(0);\r\n        toast.present();\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.events.publish(\"productUpdate:created\");\r\n    this.navCtrl.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-product-category/add-product-category.ts"],"sourceRoot":""}