<ion-content class="ion-padding">
    <div style="background-color: #fff;" id="share">
        <ion-card>
            <div class="borderedCard">
                <div class="item">
                    <ion-row>
                        <ion-col size="8">
                            <span class="title">{{contact.displayName}} </span>
                        </ion-col>
                        <ion-col size="4">
                            <span class="content" style="color: red;" *ngIf="contact.balance<0; else nonNeg">
                                {{ contact.balance }}
                            </span>
                            <span class="content" style="color: green;" *ngIf="contact.balance>0; else zero" id="nonNeg">
                                {{ contact.balance }}
                            </span>
                            <span class="content" style="color: blue;" *ngIf="contact.balance==0" id="zero">
                                0
                            </span>
                        </ion-col>
                    </ion-row>
                </div>
                <div class="item">
                    <ion-row>
                        <ion-col size="6">
                            <span class="title">Customer Discount %: </span>
                        </ion-col>
                        <ion-col size="6">
                            <span>
                            <ion-button expand="block" size="small" style="border: 1px dashed grey; border-radius: 5px;" color="#d8d8d8" >
                            <ion-input type="number" [(ngModel)]="newDisc" min="0" max="100" placeholder="Discount %" style="padding: 5px; color: black;"></ion-input>
                            <!-- <span class="content">0</span> -->
                        </ion-button>
                    </span>
                        </ion-col>
                    </ion-row>
                </div>
                <div class="item">
                    <ion-row>
                        <ion-col size="6">
                            <span class="title">{{"Earliest Due Date"|translate}}: </span>
                        </ion-col>
                  

                     
                        <ion-col size="6">
                            <ion-button shape="round" expand="block" color="success" size="small">
                            <span class="content" >
                                <ion-datetime [(ngModel)]="newDate" style="min-width: 30%; padding: 0;"
                                    placeholder="{{'None'|translate}}" [min]="minDate" [max]="maxDate">
                                </ion-datetime>
                            </span>
                        </ion-button>
                        </ion-col>
                    </ion-row>
                </div>
            </div>
        </ion-card>
        
    <ion-row>
        <ion-col>
            <ion-button expand="block" color="success" (click)="transaction(-1)">{{"Loan Money"|translate}}
            </ion-button>
        </ion-col>
        <ion-col>
            <ion-button expand="block" color="yellow" (click)="transaction(1)">{{"Accept Payment"|translate}}
            </ion-button>
        </ion-col>
    </ion-row>
        <ion-row style="background-color: #fff;">
            <ion-grid style="padding: 0px;">
                <ion-row style="text-align: center; font-weight: bold; font-size: 16px;">
                    <ion-col class="table-col">
                        <p>{{"Date"|translate}}</p>
                    </ion-col>
                    <ion-col class="table-col">
                        <p>{{"Credit"|translate}}</p>
                    </ion-col>
                    <ion-col class="table-col">
                        <p>{{"Debit"|translate}}</p>
                    </ion-col>
                </ion-row>
                <ion-row *ngFor="let val of contact.transacHistory; let i = index" class="tableData">
                    <ion-col>
                        <ion-row (click)="setNoteOpen(i)">
                            <ion-col>
                                <ion-row>
                                    <ion-col><p>{{ getDateTime(val.date) }}</p></ion-col>
                                    <ion-col size="1">
                                        <ion-icon name="caret-down" *ngIf="val.note!=''&&i!=noteToOpen" style="color: black;"></ion-icon>
                                    </ion-col>
                                </ion-row>
                            </ion-col>
                            <ion-col style="text-align: center;">
                                <p *ngIf="val.amount<0" style="color: red;">{{ val.amount }}</p>
                            </ion-col>
                            <ion-col style="text-align: center;">
                                <p *ngIf="val.amount>0" style="color: green;">{{ val.amount }}</p>
                            </ion-col>
                        </ion-row>
                        <ion-row *ngIf="val.note!='' && i==noteToOpen">
                            <p style="padding-left: 20px; padding-top: 3px; padding-bottom: 3px;"><b>Note:</b> {{ val.note }}</p>
                        </ion-row>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-row>
    </div>
</ion-content>
<ion-footer>
    <div class="footerButtons">
        <ion-row>
            <ion-col>
                <img src="assets/new-ui-imgs/icons/Group 151.png" (click)="delete()" />
            </ion-col>
            <ion-col>
                <img src="assets/new-ui-imgs/icons/sms.png" (click)="sendSMS()" />
            </ion-col>
            <ion-col>
                <img src="assets/new-ui-imgs/icons/Group 147.png" (click)="share()" />
            </ion-col>
            <ion-col>
                <img src="assets/new-ui-imgs/icons/tick.png" (click)="goBack()" />
            </ion-col>
        </ion-row>
    </div>
</ion-footer>